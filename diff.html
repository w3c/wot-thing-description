<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.2.0" />
<meta charset="utf-8" />
<meta name="generator" content="ReSpec 23.4.0" />
<meta name="viewport" content=
"width=device-width, initial-scale=1, shrink-to-fit=no" />
<style>
<![CDATA[
  /* --- EXAMPLES --- */
  span.example-title {
    text-transform: none;
  }
  aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
  }
  div.illegal-example { color: red }
  div.illegal-example p { color: black }
  aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
  }

  aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
  }
  aside.example div.example span.example-title {
    color: #999;
  }
]]>
</style>

<style>
<![CDATA[
  /* --- ISSUES/NOTES --- */
  div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
  }
  div.issue-title { color: #e05252; }
  div.note-title, div.ednote-title { color: #2b2; }
  div.warning-title { color: #f22; }
  div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
  }
  div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
  }
  .note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
  .issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
  }
  div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
  }
  span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

  .issue {
    border-color: #e05252;
    background: #fbe9e9;
  }
  .issue.closed span.issue-number {
    text-decoration: line-through;
  }

  .note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
  }

  .warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
  }

  .warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
  }

  li.task-list-item {
    list-style: none;
  }

  input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
  }

  .issue a.respec-gh-label {
  padding: 5px;
  margin: 0 2px 0 2px;
  font-size: 10px;
  text-transform: none;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  position: relative;
  bottom: 2px;
  }

  .issue a.respec-label-dark {
  color: #fff;
  background-color: #000;
  }

  .issue a.respec-label-light {
  color: #000;
  background-color: #fff;
  }
]]>
</style>
<title>Web of Things (WoT) Thing Description</title>

<style>
<![CDATA[
  .example {
                border-color: #EA1252;
                background: #FEF11E;
                counter-increment: example;
                overflow: auto;
                clear: both;
        }
]]>
</style>

<style id="respec-mainstyle">
<![CDATA[
  /*****************************************************************
  * ReSpec 3 CSS
  * Robin Berjon - http://berjon.com/
  *****************************************************************/

  /* Override code highlighter background */
  .hljs {
  background: transparent !important;
  }

  /* --- INLINES --- */
  h1 abbr,
  h2 abbr,
  h3 abbr,
  h4 abbr,
  h5 abbr,
  h6 abbr,
  a abbr {
  border: none;
  }

  dfn {
  font-weight: bold;
  }

  a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
  }

  a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
  }

  a.bibref {
  text-decoration: none;
  }

  #references :target {
  background: #eaf3ff;
  }

  cite .bibref {
  font-style: normal;
  }

  code {
  color: #c83500;
  }

  th code {
  color: inherit;
  }

  /* --- TOC --- */

  .toc a,
  .tof a {
  text-decoration: none;
  }

  a .secno,
  a .figno {
  color: #000;
  }

  ul.tof,
  ol.tof {
  list-style: none outside none;
  }

  .caption {
  margin-top: 0.5em;
  font-style: italic;
  }

  /* --- TABLE --- */

  table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
  }

  .simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
  }

  .simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
  }

  .simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
  }

  .simple tr:nth-child(even) {
  background: #f0f6ff;
  }

  /* --- DL --- */

  .section dd>p:first-child {
  margin-top: 0;
  }

  .section dd>p:last-child {
  margin-bottom: 0;
  }

  .section dd {
  margin-bottom: 1em;
  }

  .section dl.attrs dd,
  .section dl.eldef dd {
  margin-bottom: 0;
  }

  #issue-summary>ul,
  .respec-dfn-list {
  column-count: 2;
  }

  #issue-summary li,
  .respec-dfn-list li {
  list-style: none;
  }

  details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
  }

  details.respec-tests-details>* {
  padding-right: 2em;
  }

  details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: 0.3em;
  background-color: white;
  padding-bottom: 0.5em;
  }

  details.respec-tests-details[open]>summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
  }

  details.respec-tests-details>ul {
  width: 100%;
  margin-top: -0.3em;
  }

  details.respec-tests-details>li {
  padding-left: 1em;
  }

  a[href].self-link:hover {
  opacity: 1;
  text-decoration: none;
  background-color: transparent;
  }

  h2,
  h3,
  h4,
  h5,
  h6 {
  position: relative;
  }

  aside.example .marker > a.self-link {
  color: inherit;
  }

  h2>a.self-link,
  h3>a.self-link,
  h4>a.self-link,
  h5>a.self-link,
  h6>a.self-link {
  border: none;
  color: inherit;
  font-size: 83%;
  height: 2em;
  left: -1.6em;
  opacity: .5;
  position: absolute;
  text-align: center;
  text-decoration: none;
  top: 0;
  transition: opacity .2s;
  width: 2em;
  }

  h2>a.self-link::before,
  h3>a.self-link::before,
  h4>a.self-link::before,
  h5>a.self-link::before,
  h6>a.self-link::before {
  content: "§";
  display: block;
  }

  @media (max-width: 767px) {
  dd {
    margin-left: 0;
  }

  /* Don't position self-link in headings off-screen */
  h2>a.self-link,
  h3>a.self-link,
  h4>a.self-link,
  h5>a.self-link,
  h6>a.self-link {
    left: auto;
    top: auto;
  }
  }

  @media print {
  .removeOnSave {
    display: none;
  }
  }
]]>
</style>

<style>
<![CDATA[
  /*

  github.com style (c) Vasily Polovnyov <vast@whiteants.net>

  */

  .hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
  }

  .hljs-comment,
  .hljs-quote {
  color: #998;
  font-style: italic;
  }

  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-subst {
  color: #333;
  font-weight: bold;
  }

  .hljs-number,
  .hljs-literal,
  .hljs-variable,
  .hljs-template-variable,
  .hljs-tag .hljs-attr {
  color: #008080;
  }

  .hljs-string,
  .hljs-doctag {
  color: #d14;
  }

  .hljs-title,
  .hljs-section,
  .hljs-selector-id {
  color: #900;
  font-weight: bold;
  }

  .hljs-subst {
  font-weight: normal;
  }

  .hljs-type,
  .hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
  }

  .hljs-tag,
  .hljs-name,
  .hljs-attribute {
  color: #000080;
  font-weight: normal;
  }

  .hljs-regexp,
  .hljs-link {
  color: #009926;
  }

  .hljs-symbol,
  .hljs-bullet {
  color: #990073;
  }

  .hljs-built_in,
  .hljs-builtin-name {
  color: #0086b3;
  }

  .hljs-meta {
  color: #999;
  font-weight: bold;
  }

  .hljs-deletion {
  background: #fdd;
  }

  .hljs-addition {
  background: #dfd;
  }

  .hljs-emphasis {
  font-style: italic;
  }

  .hljs-strong {
  font-weight: bold;
  }
]]>
</style>
<link rel="stylesheet" href=
"https://www.w3.org/StyleSheets/TR/2016/W3C-WD" />
<link rel="canonical" href=
"https://www.w3.org/TR/wot-thing-description/" />
<script id="initialUserConfig" type="application/json">
<![CDATA[
  {
  "specStatus": "WD",
  "processVersion": 2018,
  "shortName": "wot-thing-description",
  "copyrightStart": 2017,
  "noLegacyStyle": true,
  "inlineCSS": true,
  "noIDLIn": true,
  "format": "markdown",
  "wg": "Web of Things Working Group",
  "wgURI": "https://www.w3.org/WoT/WG/",
  "wgPublicList": "public-wot-wg",
  "edDraftURI": "https://w3c.github.io/wot-thing-description/",
  "githubAPI": "https://api.github.com/repos/w3c/wot-thing-description",
  "issueBase": "https://www.github.com/w3c/wot-thing-description/issues",
  "editors": [
    {
      "name": "Sebastian Kaebisch",
      "w3cid": "43064",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    },
    {
      "name": "Takuki Kamiya",
      "w3cid": "29376",
      "company": "Fujitsu Laboratories of America, Inc.",
      "companyURL": "https://www.fujitsu.com/"
    }
  ],
  "localBiblio": {
    "JSON-SCHEMA-VALIDATION": {
      "title": "JSON Schema Validation: A Vocabulary for Structural Validation of JSON",
      "href": "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00",
      "authors": [
        "Austin Wright",
        "Henry Andrews",
        "Geraint Luff"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "json-schema-validation"
    },
    "JSON-SCHEMA-CORE": {
      "title": "JSON Schema: A Media Type for Describing JSON Documents",
      "href": "https://tools.ietf.org/html/draft-handrews-json-schema-00",
      "authors": [
        "Austin Wright",
        "Henry Andrews"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF"
    },
    "OPENAPI": {
      "title": "OpenAPI Specification: Version 3.0.1",
      "href": "https://swagger.io/specification/",
      "authors": [
        "Darrel Miller",
        "Jason Harmon",
        "Jeremy Whitlock",
        "Kris Hahn",
        "Marsh Gardiner",
        "Mike Ralphson",
        "Rob Dolin",
        "Ron Ratovsky",
        "Tony Tam"
      ],
      "publisher": "OpenAPI Initiative, Linux Foundation",
      "date": "7 December 2017",
      "id": "openapi"
    },
    "MEDIATYPES": {
      "title": "Media Types",
      "href": "https://www.iana.org/assignments/media-types/media-types.xhtml",
      "publisher": "IANA",
      "id": "mediatypes"
    },
    "WOT-ARCHITECTURE": {
      "title": "Web of Things Architecture",
      "href": "https://w3c.github.io/wot-architecture/",
      "authors": [
        "Kazuo Kajimoto",
        "Matthias Kovatsch",
        "Uday Davuluru"
      ],
      "publisher": "W3C",
      "date": "20 August 2017",
      "id": "wot-architecture"
    },
    "WOT-PROTOCOL-BINDING": {
      "title": "Web of Things Protocol Binding Templates",
      "href": "https://w3c.github.io/wot-binding-templates/",
      "authors": [
        "Michael Koster"
      ],
      "publisher": "W3C",
      "date": "12 January 2018",
      "id": "wot-protocol-binding"
    }
  },
  "otherLinks": [
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-thing-description/graphs/contributors"
        }
      ]
    },
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on GitHub",
          "href": "https://github.com/w3c/wot-thing-description/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-thing-description/issues"
        }
      ]
    }
  ],
  "publishISODate": "2018-10-19T00:00:00.000Z",
  "generatedSubtitle": "Working Draft 19 October 2018"
  }
]]>
</script>
<meta name="description" content=
"This document describes a formal model and a common representation for a Web of Things (WoT) Thing Description. A Thing Description describes the metadata and interfaces of Things, where a Thing is an abstraction of a physical or virtual entity that provides interactions to and participates in the Web of Things. Thing Descriptions provide a set of interactions based on a small vocabulary that makes it possible both to integrate diverse devices and to allow diverse applications to interoperate. Thing Descriptions, by default, are encoded in a JSON format that also allows JSON-LD processing. The latter provides a powerful foundation to represent knowledge about Things in a machine-understandable way. A Thing Description instance can be hosted by the Thing itself or hosted externally when a Thing has resource restrictions (e.g., limited memory space) or when a Web of Things-compatible legacy device is retrofitted with a Thing Description." />
<style type='text/css'>
.diff-old-a {
  font-size: smaller;
  color: red;
}

.diff-new { background-color: yellow; }
.diff-chg { background-color: lime; }
.diff-new:before,
.diff-new:after
    { content: "\2191" }
.diff-chg:before, .diff-chg:after
    { content: "\2195" }
.diff-old { text-decoration: line-through; background-color: #FBB; }
.diff-old:before,
.diff-old:after
    { content: "\2193" }
:focus { border: thin red solid}
</style>
</head>
<body class="h-entry toc-inline">
<div class="head">
<a href="https://www.w3.org/" class= "logo">
<img alt="W3C" src= "https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72" height="48" />
</a>
<h1 id="title" class="title p-name">
Web
of
Things
(WoT)
Thing
Description
</h1>
<h2>
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Working
Draft
<del class="diff-old">5
April
</del>
<time class="dt-published" datetime="2018-10-19">
<ins class="diff-chg">19
October
</ins>
2018
</time>
</h2>
<dl>
<dt>
This
version:
</dt>
<dd>
<del class="diff-old">https://www.w3.org/TR/2018/WD-wot-thing-description-20180405/
</del>
<a class="u-url" href= "https://www.w3.org/TR/2018/WD-wot-thing-description-20181019/">
<ins class="diff-chg">https://www.w3.org/TR/2018/WD-wot-thing-description-20181019/
</ins>
</a>
</dd>
<dt>
Latest
published
version:
</dt>
<dd>
<a href= "https://www.w3.org/TR/wot-thing-description/">
https://www.w3.org/TR/wot-thing-description/
</a>
</dd>
<dt>
Latest
editor's
draft:
</dt>
<dd>
<a href= "https://w3c.github.io/wot-thing-description/">
https://w3c.github.io/wot-thing-description/
</a>
</dd>
<dt>
Previous
version:
</dt>
<dd>
<del class="diff-old">https://www.w3.org/TR/2017/WD-wot-thing-description-20170914/
</del>
<a class="u-url" href= "https://www.w3.org/TR/2018/WD-wot-thing-description-20180405/">
<ins class="diff-chg">https://www.w3.org/TR/2018/WD-wot-thing-description-20180405/
</ins>
</a>
</dd>
<dt>
Editors:
</dt>
<dd class="p-author h-card vcard" data-editor-id="43064">
<span class="p-name fn">
Sebastian
Kaebisch
</span>
(
<a class= "p-org org h-org h-card" href="https://www.siemens.com/">
Siemens
AG
</a>
)
</dd>
<dd class="p-author h-card vcard" data-editor-id="29376">
<span class="p-name fn">
Takuki
Kamiya
</span>
(
<a class= "p-org org h-org h-card" href="https://www.fujitsu.com/">
Fujitsu
Laboratories
of
America,
Inc.
</a>
)
</dd>
<dt>
Contributors:
</dt>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/graphs/contributors">
In
the
GitHub
repository
</a>
</dd>
<dt>
Repository:
</dt>
<dd>
<a href="https://github.com/w3c/wot-thing-description/">
We
are
on
GitHub
</a>
</dd>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/issues">
File
a
bug
</a>
</dd>
</dl>
<p class="copyright">
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">
Copyright
</a>
©
2017-2018
<a href="https://www.w3.org/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
</a>
<sup>
®
</sup>
(
<a href= "https://www.csail.mit.edu/">
<abbr title= "Massachusetts Institute of Technology">
MIT
</abbr>
</a>,
<a href= "https://www.ercim.eu/">
<abbr title= "European Research Consortium for Informatics and Mathematics">
ERCIM
</abbr>
</a>,
<a href="https://www.keio.ac.jp/">
Keio
</a>,
<a href= "http://ev.buaa.edu.cn/">
Beihang
</a>
).
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">
liability
</a>,
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">
trademark
</a>
and
<a rel="license" href= "https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">
permissive
document
license
</a>
rules
apply.
</p>
<hr title="Separator for header" />
</div>
<div class="ednote" id="issue-container-generatedID">
<div role="heading" class="ednote-title marker" id="h-ednote" aria-level="2">
<span>
<ins class="diff-new">Editor's
note
</ins></span><span style= "text-transform: none">:<ins class="diff-new">
First
draft
based
on
Simplified
TD
</ins></span></div><p class=""><ins class="diff-new">
This
is
the
first
draft
of
the
new
simplified
TD
approach
based
on
JSON-LD
1.1.
Some
definitions
are
not
finished
yet
and
are
still
in
progress.
A
stable
Thing
Description
deliverable
version
based
on
JSON-LD
1.0
can
be
found
</ins><a href= "https://www.w3.org/TR/2018/WD-wot-thing-description-20180405/"><ins class="diff-new">
here
</ins></a>.</p></div>
<section id="abstract" class="introductory">
<h2>
Abstract
</h2>
<p>
This
document
describes
a
formal
model
and
<ins class="diff-new">a
</ins>
common
representation
for
a
Web
of
Things
(WoT)
Thing
Description.
A
Thing
Description
describes
the
metadata
and
interfaces
of
Things,
where
a
Thing
is
an
abstraction
of
a
physical
<ins class="diff-new">or
virtual
</ins>
entity
that
provides
interactions
to
and
participates
in
the
Web
of
Things.
Thing
Descriptions
provide
a
<del class="diff-old">narrow-waist
</del>
set
of
interactions
based
on
a
small
vocabulary
that
makes
it
possible
both
to
integrate
diverse
devices
and
to
allow
diverse
applications
to
interoperate.
Thing
Descriptions,
by
default,
are
encoded
in
<del class="diff-old">JSON-LD.
</del>
<ins class="diff-chg">a
JSON
format
that
also
allows
</ins>
JSON-LD
<ins class="diff-new">processing.
The
latter
</ins>
provides
<del class="diff-old">both
</del>
a
powerful
foundation
to
represent
knowledge
about
Things
<del class="diff-old">and
simplicity,
since
it
allows
processing
as
</del>
<ins class="diff-chg">in
</ins>
a
<del class="diff-old">JSON
document.
In
addition
to
physical
entities,
Things
can
also
represent
virtual
entities.
</del>
<ins class="diff-chg">machine-understandable
way.
</ins>
A
Thing
Description
instance
can
be
hosted
by
the
Thing
itself
or
hosted
externally
<del class="diff-old">due
to
Thing's
</del>
<ins class="diff-chg">when
a
Thing
has
</ins>
resource
restrictions
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
limited
memory
space)
or
when
a
Web
of
Things-compatible
legacy
device
is
retrofitted
with
a
Thing
Description.
</p>
</section>
<section id="sotd" class="introductory">
<h2>
Status
of
This
Document
</h2>
<p>
<em>
This
section
describes
the
status
of
this
document
at
the
time
of
its
publication.
Other
documents
may
supersede
this
document.
A
list
of
current
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
publications
and
the
latest
revision
of
this
technical
report
can
be
found
in
the
<a href= "https://www.w3.org/TR/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
technical
reports
index
</a>
at
https://www.w3.org/TR/.
</em>
</p>
<p>
Implementers
need
to
be
aware
that
this
specification
is
considered
unstable.
Vendors
interested
in
implementing
this
specification
before
it
eventually
reaches
the
Candidate
Recommendation
phase
should
subscribe
to
the
<a href= "https://github.com/w3c/wot-thing-description">
repository
</a>
and
take
part
in
the
discussions.
</p>
<div class="ednote" id="issue-container-generatedID-0">
<div role="heading" class="ednote-title marker" id="h-ednote-0" aria-level="3">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
The
W3C
WoT
WG
is
asking
for
feedback
</span>
</div>
<p class="">
Please
contribute
to
this
draft
using
the
<a href= "https://github.com/w3c/wot-thing-description/issues">
GitHub
Issue
</a>
feature
of
the
<a href= "https://github.com/w3c/wot-thing-description/">
WoT
Thing
Description
</a>
repository.
For
feedback
on
security
and
privacy
considerations,
please
use
the
<a href= "https://github.com/w3c/wot-security/issues">
WoT
Security
and
Privacy
</a>
Issues,
as
<del class="diff-old">they
are
</del>
<ins class="diff-chg">security
and
privacy
is
</ins>
cross-cutting
over
all
our
documents.
</p>
</div>
<p>
This
document
was
published
by
the
<a href= "https://www.w3.org/WoT/WG/">
Web
of
Things
Working
Group
</a>
as
a
Working
Draft.
This
document
is
intended
to
become
a
W3C
Recommendation.
</p>
<p>
Comments
regarding
this
document
are
welcome.
Please
send
them
to
<a href="mailto:public-wot-wg@w3.org">
public-wot-wg@w3.org
</a>
(
<del class="diff-old">subscribe
,
</del>
<a href= "https://lists.w3.org/Archives/Public/public-wot-wg/">
archives
</a>
).
</p>
<p>
Changes
from
the
previous
publication
can
be
found
in
<a href= "#changes">
Appendix
<del class="diff-old">A
</del>
<ins class="diff-chg">B
</ins>
</a>.
A
<a href="diff.html">
diff-marked
version
</a>
of
this
document
is
also
available
for
comparison
purposes.
</p>
<p>
Publication
as
a
Working
Draft
does
not
imply
endorsement
by
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Membership.
This
is
a
draft
document
and
may
be
updated,
replaced
or
obsoleted
by
other
documents
at
any
time.
It
is
inappropriate
to
cite
this
document
as
other
than
work
in
progress.
</p>
<p>
This
document
was
produced
by
a
group
operating
under
the
<a href="https://www.w3.org/Consortium/Patent-Policy/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
<abbr title="World Wide Web Consortium">
W3C
</abbr>
maintains
a
<a rel="disclosure" href= "https://www.w3.org/2004/01/pp-impl/95969/status">
public
list
of
any
patent
disclosures
</a>
made
in
connection
with
the
deliverables
of
the
group;
that
page
also
includes
instructions
for
disclosing
a
patent.
An
individual
who
has
actual
knowledge
of
a
patent
which
the
individual
believes
contains
<a href= "https://www.w3.org/Consortium/Patent-Policy/#def-essential">
Essential
Claim(s)
</a>
must
disclose
the
information
in
accordance
with
<a href= "https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">
section
6
of
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
</p>
<p>
This
document
is
governed
by
the
<a id="w3c_process_revision" href="https://www.w3.org/2018/Process-20180201/">
1
February
2018
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Process
Document
</a>.
</p>
</section>
<nav id="toc">
<h2 class="introductory" id="table-of-contents">
Table
of
Contents
</h2>
<ol class="toc">
<li class="tocline">
<a href="#introduction" class= "tocxref">
<span class="secno">
1.
</span>
Introduction
</a>
<del class="diff-old">1.1
Context
Extensions
</del>
</li>
<li class="tocline">
<a href="#terminology" class= "tocxref">
<span class="secno">
2.
</span>
Terminology
</a>
</li>
<li class="tocline">
<a href="#namespaces" class= "tocxref">
<span class="secno">
3.
</span>
Namespaces
</a>
</li>
<li class="tocline">
<a href="#conformance" class= "tocxref">
<span class="secno">
4.
</span>
Conformance
</a>
</li>
<li class="tocline">
<a href="#sec-vocabulary-definition" class= "tocxref">
<span class="secno">
5.
</span>
<del class="diff-old">Vocabulary
Definition
</del>
<ins class="diff-chg">Information
Model
</ins>
</a>
<ol class="toc">
<li class="tocline">
<a href="#overview" class= "tocxref">
<span class="secno">
5.1
</span>
Overview
</a>
</li>
<li class="tocline">
<a href="#sec-core-vocabulary-definition" class="tocxref">
<span class="secno">
5.2
</span>
<del class="diff-old">Classes
</del>
<ins class="diff-chg">Core
Vocabulary
Definition
</ins>
</a>
<ol class="toc">
<li class="tocline">
<a href="#thing" class="tocxref">
<span class= "secno">
5.2.1
</span>
<code>
Thing
</code>
</a>
</li>
<li class="tocline">
<a href="#interactionpattern" class= "tocxref">
<span class="secno">
5.2.2
</span>
<code>
InteractionPattern
</code>
</a>
</li>
<li class="tocline">
<a href="#property" class= "tocxref">
<span class="secno">
5.2.3
</span>
<code>
Property
</code>
</a>
</li>
<li class="tocline">
<a href="#action" class="tocxref">
<span class= "secno">
5.2.4
</span>
<code>
Action
</code>
</a>
</li>
<li class="tocline">
<a href="#event" class="tocxref">
<span class= "secno">
5.2.5
</span>
<code>
Event
</code>
</a>
</li>
<li class="tocline">
<a href="#form" class="tocxref">
<span class= "secno">
5.2.6
</span>
<code>
<del class="diff-old">DataSchema
</del>
<ins class="diff-chg">Form
</ins>
</code>
</a>
</li>
<li class="tocline">
<a href="#link" class="tocxref">
<span class= "secno">
5.2.7
</span>
<code>
<del class="diff-old">Form
</del>
<ins class="diff-chg">Link
</ins>
</code>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a href= "#sec-data-schema-vocabulary-definition" class= "tocxref">
<del class="diff-old">5.2.8
</del>
<span class="secno">
<ins class="diff-chg">5.3
</ins></span><ins class="diff-chg">
Data
Schema
Vocabulary
Definition
</ins></a><ol class="toc"><li class="tocline"><a href="#dataschema" class= "tocxref"><span class="secno"><ins class="diff-chg">
5.3.1
</ins>
</span>
<code>
<del class="diff-old">Link
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
</a>
</li>
<li class="tocline">
<a href="#arrayschema" class= "tocxref">
<span class="secno">
<del class="diff-old">5.2.9
</del>
<ins class="diff-chg">5.3.2
</ins>
</span>
<code>
<del class="diff-old">Security
</del>
<ins class="diff-chg">ArraySchema
</ins>
</code>
</a>
</li>
<li class="tocline">
<a href="#objectschema" class= "tocxref">
<span class="secno">
<ins class="diff-chg">5.3.3
</ins></span><code><ins class="diff-chg">
ObjectSchema
</ins></code></a>
</li>
<li class="tocline">
<a href="#booleanschema" class= "tocxref">
<span class="secno">
<ins class="diff-chg">5.3.4
</ins></span><code><ins class="diff-chg">
BooleanSchema
</ins></code></a>
</li>
<li class="tocline">
<a href="#numberschema" class= "tocxref">
<span class="secno">
<del class="diff-old">6.
</del>
<ins class="diff-chg">5.3.5
</ins>
</span>
<del class="diff-old">JSON-LD
Serialization
</del>
<code>
<ins class="diff-chg">NumberSchema
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#stringschema" class= "tocxref">
<span class="secno">
<del class="diff-old">6.1
</del>
<ins class="diff-chg">5.3.6
</ins>
</span>
<del class="diff-old">Thing
as
a
Whole
</del>
<code>
<ins class="diff-chg">StringSchema
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#integerschema" class= "tocxref">
<span class="secno">
<del class="diff-old">6.2
</del>
<ins class="diff-chg">5.3.7
</ins>
</span>
<del class="diff-old">Interaction
Resources
</del>
<code>
<ins class="diff-chg">IntegerSchema
</ins></code></a></li></ol></li><li class="tocline"><a href="#sec-security-vocabulary-definition" class="tocxref"><span class="secno"><ins class="diff-chg">
5.4
</ins></span><ins class="diff-chg">
Security
Vocabulary
Definition
</ins>
</a>
<ol class="toc">
<li class="tocline">
<a href="#securityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.2.1
</del>
<ins class="diff-chg">5.4.1
</ins>
</span>
<del class="diff-old">Property
</del>
<code>
<ins class="diff-chg">SecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#nosecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.2.2
</del>
<ins class="diff-chg">5.4.2
</ins>
</span>
<del class="diff-old">Action
</del>
<code>
<ins class="diff-chg">NoSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#basicsecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.2.3
</del>
<ins class="diff-chg">5.4.3
</ins>
</span>
<del class="diff-old">Event
</del>
<code>
<ins class="diff-chg">BasicSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#certsecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.3
</del>
<ins class="diff-chg">5.4.4
</ins>
</span>
<del class="diff-old">Form
</del>
<code>
<ins class="diff-chg">CertSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#digestsecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.4
</del>
<ins class="diff-chg">5.4.5
</ins>
</span>
<del class="diff-old">Security
</del>
<code>
<ins class="diff-chg">DigestSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#bearersecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5
</del>
<ins class="diff-chg">5.4.6
</ins>
</span>
<del class="diff-old">Type
System
</del>
<code>
<ins class="diff-chg">BearerSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#psksecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.1
</del>
<ins class="diff-chg">5.4.7
</ins>
</span>
<del class="diff-old">Simple
Data
Definition
</del>
<code>
<ins class="diff-chg">PSKSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#publicsecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.1.1
</del>
<ins class="diff-chg">5.4.8
</ins>
</span>
<del class="diff-old">Simple
Types
</del>
<code>
<ins class="diff-chg">PublicSecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#oauth2securityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.1.2
</del>
<ins class="diff-chg">5.4.9
</ins>
</span>
<del class="diff-old">Restrictions
</del>
<code>
<ins class="diff-chg">OAuth2SecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#apikeysecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.1.3
</del>
<ins class="diff-chg">5.4.10
</ins>
</span>
<del class="diff-old">Semantic
Annotation
</del>
<code>
<ins class="diff-chg">APIKeySecurityScheme
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#popsecurityscheme" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.1.4
</del>
<ins class="diff-chg">5.4.11
</ins>
</span>
<del class="diff-old">Runtime
Data
Serializiation
</del>
<code>
<ins class="diff-chg">PoPSecurityScheme
</ins></code>
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a href="#sec-td-serialization" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.2
</del>
<ins class="diff-chg">6.
</ins>
</span>
<del class="diff-old">Structured
Data
Definition
</del>
<ins class="diff-chg">Thing
Description
Serialization
</ins>
</a>
<ol class="toc">
<li class="tocline">
<a href="#json-serializiation-section" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.2.1
</del>
<ins class="diff-chg">6.1
</ins>
</span>
<del class="diff-old">Object
</del>
<ins class="diff-chg">Representation
Format
</ins></a><ol class="toc"><li class="tocline"><a href="#sec-thing-as-a-whole-json" class= "tocxref"><span class="secno"><ins class="diff-chg">
6.1.1
</ins></span><ins class="diff-chg">
Thing
as
a
whole
</ins>
</a>
</li>
<li class="tocline">
<a href="#property-serialization-json" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.2.2
</del>
<ins class="diff-chg">6.1.2
</ins>
</span>
<del class="diff-old">Array
</del>
<code>
<ins class="diff-chg">properties
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#action-serialization-json" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.2.3
</del>
<ins class="diff-chg">6.1.3
</ins>
</span>
<del class="diff-old">Runtime
Data
Serializiation
</del>
<code>
<ins class="diff-chg">actions
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#event-serialization-json" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.3
</del>
<ins class="diff-chg">6.1.4
</ins>
</span>
<del class="diff-old">Mapping
to
XML
Schema
</del>
<code>
<ins class="diff-chg">events
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#form-serialization-json" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.3.1
</del>
<ins class="diff-chg">6.1.5
</ins>
</span>
<del class="diff-old">Object
Definition
to
XML
Schema
</del>
<code>
<ins class="diff-chg">forms
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#links-serialization-json" class= "tocxref">
<span class="secno">
<del class="diff-old">6.5.3.2
</del>
<ins class="diff-chg">6.1.6
</ins>
</span>
<del class="diff-old">Array
Definition
to
XML
Schema
</del>
<code>
<ins class="diff-chg">links
</ins></code>
</a>
</li>
<li class="tocline">
<a href="#security-serialization-json" class= "tocxref">
<span class="secno">
<ins class="diff-chg">6.1.7
</ins></span><code><ins class="diff-chg">
security
</ins></code></a>
</li>
</ol>
</li>
<li class="tocline">
<a href="#media-type-section" class= "tocxref">
<del class="diff-old">6.6
</del>
<span class="secno">
<ins class="diff-chg">6.2
</ins>
</span>
<del class="diff-old">Parsing
</del>
<ins class="diff-chg">Media
Type
</ins>
</a>
</li>
<li class="tocline">
<a href="#Implementation-Note-section" class= "tocxref">
<span class="secno">
<del class="diff-old">6.7
</del>
<ins class="diff-chg">6.3
</ins>
</span>
<del class="diff-old">Examples
</del>
<ins class="diff-chg">Implementation
Notes
</ins>
</a>
<ol class="toc">
<li class="tocline">
<a href="#note-json-processing" class= "tocxref">
<span class="secno">
<del class="diff-old">6.7.1
</del>
<ins class="diff-chg">6.3.1
</ins>
</span>
<del class="diff-old">Temperature
Sensor
</del>
<ins class="diff-chg">JSON
Processing
</ins>
</a>
</li>
<li class="tocline">
<a href="#note-jsonld-processing" class= "tocxref">
<span class="secno">
<del class="diff-old">6.7.2
</del>
<ins class="diff-chg">6.3.2
</ins>
</span>
<del class="diff-old">LED
Master
Switch
</del>
<ins class="diff-chg">JSON-LD
1.1
Processing
</ins>
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a href="#example-serialization" class= "tocxref">
<span class="secno">
7.
</span>
<ins class="diff-new">Example
Thing
Description
Instances
</ins></a><ol class="toc"><li class="tocline"><a href="#myLampThing-example-serialization" class="tocxref"><span class="secno"><ins class="diff-new">
7.1
</ins></span><ins class="diff-new">
MyLampThing
Example
</ins></a></li></ol></li><li class="tocline"><a href="#security-consideration" class= "tocxref"><span class="secno"><ins class="diff-new">
8.
</ins></span>
Security
and
Privacy
Considerations
</a>
</li>
<li class="tocline">
<a href="#json-schema-4-validation" class= "tocxref">
<span class="secno">
A.
</span>
<del class="diff-old">Recent
Specification
Changes
</del>
<ins class="diff-chg">JSON
Schema
for
TD
Instance
Validation
</ins>
</a>
</li>
<li class="tocline">
<a href="#changes" class="tocxref">
<del class="diff-old">A.1
</del>
<span class= "secno">
<ins class="diff-chg">B.
</ins>
</span>
<ins class="diff-new">Recent
Specification
</ins>
Changes
<del class="diff-old">from
First
Public
Working
Draft
</del>
</a>
</li>
<li class="tocline">
<a href="#acknowledgements" class= "tocxref">
<span class="secno">
<del class="diff-old">B.
</del>
<ins class="diff-chg">C.
</ins>
</span>
Acknowledgements
</a>
</li>
<li class="tocline">
<a href="#references" class= "tocxref">
<span class="secno">
<del class="diff-old">C.
</del>
<ins class="diff-chg">D.
</ins>
</span>
References
</a>
<ol class="toc">
<li class="tocline">
<a href="#normative-references" class= "tocxref">
<span class="secno">
<del class="diff-old">C.1
</del>
<ins class="diff-chg">D.1
</ins>
</span>
Normative
references
</a>
</li>
<li class="tocline">
<a href="#informative-references" class= "tocxref">
<span class="secno">
<del class="diff-old">C.2
</del>
<ins class="diff-chg">D.2
</ins>
</span>
Informative
references
</a>
</li>
</ol>
</li>
</ol>
</nav>
<section id="introduction">
<h2 id="x1-introduction">
<span class="secno">
1.
</span>
Introduction
<a class="self-link" aria-label="§" href= "#introduction">
</a>
</h2>
<p>
The
<del class="diff-old">W3C
</del>
Thing
Description
(TD)
is
a
central
building
block
in
<del class="diff-old">a
</del>
<ins class="diff-chg">the
</ins><abbr title="World Wide Web Consortium"><ins class="diff-chg">
W3C
</ins></abbr>
Web
of
Things
(WoT)
<del class="diff-old">enabled
system
</del>
and
can
be
considered
as
the
entry
point
of
a
Thing
<del class="diff-old">(aka
</del>
<ins class="diff-chg">(much
like
</ins>
the
<i>
index.html
</i>
of
<del class="diff-old">the
Thing).
</del>
<ins class="diff-chg">a
Web
site).
</ins>
The
TD
consists
of
semantic
metadata
for
the
Thing
itself,
<del class="diff-old">a
narrow-waist
</del>
<ins class="diff-chg">an
</ins>
interaction
model
<del class="diff-old">with
</del>
<ins class="diff-chg">based
on
</ins>
WoT's
<del class="diff-old">Properties,
Actions,
</del>
<code>
<ins class="diff-chg">Properties
</ins></code>,<code><ins class="diff-chg">
Actions
</ins></code>,
and
<del class="diff-old">Events,
</del>
<code>
<ins class="diff-chg">Events
</ins></code><ins class="diff-chg">
paradigm,
</ins>
a
semantic
schema
to
make
data
models
machine-understandable,
and
features
for
Web
Linking
to
express
relations
among
Things.
</p>
<p>
Properties
can
be
used
for
<ins class="diff-new">sensing
and
</ins>
controlling
<del class="diff-old">(or
retrieving)
</del>
parameters,
such
as
<del class="diff-old">a
setting
an
operation
state
(or
</del>
getting
the
current
<del class="diff-old">value).
</del>
<ins class="diff-chg">value
or
setting
an
operation
state.
</ins>
Actions
model
invocation
of
physical
<ins class="diff-new">(and
hence
time-consuming)
</ins>
processes,
but
can
also
be
used
to
abstract
RPC-like
calls
of
existing
platforms.
Events
<del class="diff-old">cover
</del>
<ins class="diff-chg">are
used
for
</ins>
the
push
model
<ins class="diff-new">of
communication
</ins>
where
<del class="diff-old">state
change
</del>
notifications,
discrete
events,
<del class="diff-old">and
</del>
<ins class="diff-chg">or
</ins>
streams
of
values
are
sent
asynchronously
to
the
receiver.
In
general,
the
TD
provides
metadata
for
<del class="diff-old">the
</del>
different
communication
bindings
<ins class="diff-new">identified
by
URI
schemes
</ins>
(e.g.,
<del class="diff-old">HTTP,
CoAP,
MQTT,
</del>
<ins class="diff-chg">"http",
"coap",
"mqtt",
</ins>
etc.),
<del class="diff-old">mediaTypes
</del>
<ins class="diff-chg">media
types
</ins>
(e.g.,
"application/json",
"application/xml",
"application/cbor",
"application/exi"
etc.),
and
security
<del class="diff-old">policies
(authentication,
</del>
<ins class="diff-chg">mechanisms
(for
authentication,
</ins>
authorization,
<ins class="diff-new">confidentiality,
</ins>
etc.).
<del class="diff-old">The
default
serialisation
</del>
<ins class="diff-chg">Serialization
</ins>
of
<del class="diff-old">the
</del>
TD
<ins class="diff-new">instances
</ins>
is
<del class="diff-old">JSON-LD.
</del>
<ins class="diff-chg">based
on
JSON
and
includes
at
least
the
TD
core
vocabulary
as
JSON
keys
as
defined
in
this
specification
document.
</ins>
</p>
<p>
Example
1
shows
a
simple
TD
instance
<del class="diff-old">that
reflects
</del>
<ins class="diff-chg">in
such
a
JSON
serializiation
and
depicts
</ins>
WoT's
<del class="diff-old">Property,
Action,
Event
</del>
<code>
<ins class="diff-chg">Properties
</ins></code>,<code><ins class="diff-chg">
Actions
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
Events
</ins></code>
paradigm
by
describing
a
lamp
Thing
with
the
name
<i>
MyLampThing
</i>.
</p>
<div class="example" id="simple-thing-description-sample">
<div class="marker">
<a class="self-link" href= "#simple-thing-description-sample">
Example
1
</a>
<del class="diff-old">:
</del>
<span class= "example-title">:
Simple
Thing
Description
Sample
<ins class="diff-new">with
JSON
serialization
</ins>
</span>
</div>
<pre class="hljs json" aria-busy="false">{
<del class="diff-old">  : [&lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-td-context.jsonld"],
  : [&lt;span class=
"hljs-string"&gt;"Thing"],
  : &lt;span class=
</del>
    <span class="hljs-attr">"id"</span>: <span class=
<ins class="diff-chg">"hljs-string">"urn:dev:wot:com:example:servient:lamp"</span>,
</ins>    <span class="hljs-attr">"name"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
<del class="diff-old">  : [
      {
          : [&lt;span class=
"hljs-string"&gt;"Property"],
          : &lt;span class=
"hljs-string"&gt;"status",
          : {&lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"string"},
          : &lt;span class=
"hljs-literal"&gt;false,
          : &lt;span class=
"hljs-literal"&gt;true,
          : [{
              : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com:5683/status",
              &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
          }]
      },
      {
          : [&lt;span class=
"hljs-string"&gt;"Action"],
          : &lt;span class=
"hljs-string"&gt;"toggle",
          : [{
              : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com:5683/toggle",
              &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
          }]
      },
      {
          : [&lt;span class=
"hljs-string"&gt;"Event"],
          : &lt;span class=
"hljs-string"&gt;"overheating",
          : {&lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"string"},
          : [{
              : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com:5683/oh",
              &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
          }]
      }
  ]
</del>
    <span class="hljs-attr">"security"</span>: [{<span class=
<ins class="diff-chg">"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>}],
</ins>    <span class="hljs-attr">"properties"</span>: {        <span class="hljs-attr">"status"</span> : {            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{<span class=<ins class="diff-chg">
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>}]
        }
    },
</ins>    <span class="hljs-attr">"actions"</span>: {        <span class="hljs-attr">"toggle"</span> : {            <span class="hljs-attr">"forms"</span>: [{<span class=<ins class="diff-chg">
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>}]
        }
    },
</ins>    <span class="hljs-attr">"events"</span>:{        <span class="hljs-attr">"overheating"</span>:{            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://mylamp.example.com/oh"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"subProtocol"</span>: <span class=
"hljs-string">"LongPoll"</span>
            }]
        }
    }
</ins>
}
</pre>
</div>
<p>
Based
on
this
content,
we
know
there
exists
one
<code>
Property
</code>
interaction
resource
with
the
name
<i>
status
</i>.
In
addition,
information
is
provided
<del class="diff-old">such
as
</del>
<ins class="diff-chg">to
indicate
</ins>
that
this
Property
is
<del class="diff-old">accessable
over
</del>
<ins class="diff-chg">accessible
via
(the
secure
form
of)
</ins>
the
<del class="diff-old">CoAP
</del>
<ins class="diff-chg">HTTP
</ins>
protocol
with
a
GET
method
<del class="diff-old">(see
CoAP
protocol
binding
description
in
the
W3C
WoT
protocol
template
deliverable
[
WOT-PROTOCOL-BINDING
])
</del>
at
<del class="diff-old">coaps://mylamp.example.com:5683/status
</del>
<ins class="diff-chg">the
URI
</ins><code><ins class="diff-chg">
https://mylamp.example.com/status
</ins></code>
(announced
within
the
<code>
<del class="diff-old">form
</del>
<ins class="diff-chg">forms
</ins>
</code>
structure
by
the
<code>
href
</code>
key),
<del class="diff-old">which
</del>
<ins class="diff-chg">and
</ins>
will
return
a
string
status
<del class="diff-old">value
within
a
JSON
structure
(JSON
as
payload
format
</del>
<ins class="diff-chg">value.
The
use
of
the
GET
method
</ins>
is
<del class="diff-old">announced
by
</del>
<ins class="diff-chg">not
stated
explicitly,
but
is
one
of
</ins>
the
<del class="diff-old">mediaType
field).
</del>
<ins class="diff-chg">default
assumptions
defined
by
this
document.
</ins>
</p>
<p>
In
a
similar
<del class="diff-old">manner
</del>
<ins class="diff-chg">manner,
</ins>
an
<code>
Action
</code>
is
specified
to
<del class="diff-old">toogle
</del>
<ins class="diff-chg">toggle
</ins>
the
switch
status
using
the
POST
method
<del class="diff-old">that
is
</del>
applied
to
the
<del class="diff-old">coaps://mylamp.example.com:5683/toggle
resource
(see
CoAP
protocol
binding
description
in
the
W3C
WoT
protocol
template
deliverable
[
WOT-PROTOCOL-BINDING
]).
</del>
<code>
<ins class="diff-chg">https://mylamp.example.com/toggle
</ins></code><ins class="diff-chg">
resource,
where
POST
is
again
a
default
assumption
for
invoking
Actions.
</ins>
</p>
<p>
<del class="diff-old">Events
which
are,
e.g.,
unexpected
or
irregular
can
be
specified
with
the
WoT's
</del>
<ins class="diff-chg">The
</ins><code>
Event
<del class="diff-old">model.
</del>
</code>
<ins class="diff-chg">pattern
enables
a
mechanism
for
asynchronous
messages
to
be
sent
by
a
Thing.
</ins>
Here,
a
subscription
<del class="diff-old">of
</del>
<ins class="diff-chg">to
be
notified
upon
</ins>
a
possible
overheating
event
of
the
lamp
can
be
<del class="diff-old">applied
</del>
<ins class="diff-chg">obtained
</ins>
by
using
<del class="diff-old">CoAP
OBSERVE
at
coaps://mylamp.example.com:5683/oh.
(see
CoAP
protocol
binding
description
in
</del>
the
<del class="diff-old">W3C
WoT
protocol
template
deliverable
[
WOT-PROTOCOL-BINDING
]).
</del>
<ins class="diff-chg">HTTP
with
its
long
polling
sub-protocol
at
</ins><code><ins class="diff-chg">
https://mylamp.example.com/oh
</ins></code>.
</p>
<del class="diff-old">1.1
Context
Extensions
</del>
<p>
<del class="diff-old">The
Thing
Description
defines
</del>
<ins class="diff-chg">This
example
also
specifies
the
</ins><code><ins class="diff-chg">
basic
</ins></code><ins class="diff-chg">
security
scheme,
requiring
</ins>
a
<del class="diff-old">relative
small
set
</del>
<ins class="diff-chg">username
and
password
for
access.
In
combination
with
the
use
</ins>
of
<del class="diff-old">terms
to
describe
mainly
Thing's
interaction
models.
</del>
<ins class="diff-chg">the
HTTP
protocol
this
indicates
the
use
of
HTTP
Basic
Authentication.
Specification
of
a
security
scheme
at
the
top
level
as
in
this
example
indicates
that
it
is
required
for
every
resource.
</ins>
However,
<ins class="diff-new">security
schemes
can
also
be
specified
per-interaction
or
per-form,
with
lower-level
configurations
overriding
higher-level
ones,
allowing
for
</ins>
the
<ins class="diff-new">specification
of
fine-grained
access
control.
Examples
are
provided
later.
</ins></p><p><ins class="diff-new">
The
</ins>
TD
<del class="diff-old">opens
</del>
<ins class="diff-chg">in
Example
1
reflects
some
additional
defined
default
assumptions
that
are
not
explicitly
described.
For
example,
</ins>
the
<del class="diff-old">re-usage
</del>
<ins class="diff-chg">media
type
</ins>
of
<del class="diff-old">existing
models
from
un-specific
(e.g.,
schema.org,
SSN)
and
specific
domains
(e.g.,
smart
home,
consumer
electronics,
industry,
automotive)
to
enrich
</del>
the
<del class="diff-old">capabilities
</del>
<ins class="diff-chg">exchange
format
</ins>
of
<ins class="diff-new">the
interactions
is
assumed
to
be
JSON
(=
</ins><code><ins class="diff-new">
mediaType
</ins></code><ins class="diff-new">
)
and
the
</ins><code><ins class="diff-new">
Property
</ins></code><i><ins class="diff-new">
status
</ins></i><ins class="diff-new">
resource
is
not
writable
as
well
as
not
observable.
Specifically,
the
TD
specification
defines
vocabulary
terms
(
</ins><code><ins class="diff-new">
writable
</ins></code>,<code><ins class="diff-new">
observable
</ins></code>,<code><ins class="diff-new">
mediaType
</ins></code><ins class="diff-new">
)
that
have
default
values.
If
these
vocabulary
terms
are
not
explicitly
used
in
</ins>
a
Thing
<del class="diff-old">with
further
vocabulary
and
semantics.
</del>
<ins class="diff-chg">Description
instance,
the
Thing
Description
processor
follows
default
assumptions
for
interpretation
as
defined
in
this
specification.
</ins>
</p>
<p>
The
<del class="diff-old">following
example
extends
</del>
<ins class="diff-chg">TD
can
be
also
processed
as
an
RDF-based
model.
In
that
case,
</ins>
the
<del class="diff-old">previous
shown
example
</del>
<ins class="diff-chg">Thing
Description
instance
needs
to
be
transformed
into
valid
JSON-LD
first.
In
terms
of
JSON-LD
1.1
serialization,
the
open-world
assumption
of
RDF
semantic
processing
requires
vocabulary
terms
</ins>
with
<del class="diff-old">further
semantics
from
</del>
<ins class="diff-chg">default
values
to
be
always
present
explicitly
in
</ins>
the
<del class="diff-old">iotschema.org
context.
</del>
<ins class="diff-chg">instances.
Example
2
shows
the
same
TD
in
a
JSON-LD
1.1
serializiation
representing
exactly
the
same
information
as
in
Example
1;
however,
default
values
have
been
filled
in.
</ins>
</p>
<div class="example" id= "thing-description-as-json-ld-1-1-serialization">
<div class="marker">
<a class="self-link" href= "#thing-description-as-json-ld-1-1-serialization">
Example
2
</a>
<del class="diff-old">:
Sample
with
semantic
extenstions
</del>
<span class="example-title">:
<ins class="diff-chg">Thing
Description
as
JSON-LD
1.1
Serializiation
</ins>
</span>
</div>
<pre class="hljs json" aria-busy="false">{
<del class="diff-old">  : [&lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-td-context.jsonld", 
          {: &lt;span class=
"hljs-string"&gt;"http://iotschema.org/"}],
  : [&lt;span class=
"hljs-string"&gt;"Thing",  &lt;span class=
"hljs-string"&gt;"iot:Light", &lt;span class=
"hljs-string"&gt;"iot:BinarySwitch"],
  : &lt;span class=
</del>
    <span class="hljs-attr">"@context"</span>: <span class=
<ins class="diff-chg">"hljs-string">"http://www.w3.org/ns/td"</span>,
</ins>    <span class="hljs-attr">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:lamp"</span>,
</ins>    <span class="hljs-attr">"name"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
<del class="diff-old">  : [
      {
          : [&lt;span class=
"hljs-string"&gt;"Property", &lt;span class=
"hljs-string"&gt;"iot:SwitchStatus"],
          : &lt;span class=
"hljs-string"&gt;"status",
          : {&lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"string"},
          : &lt;span class=
</del>
    <span class="hljs-attr">"security"</span>: [{<span class=
<ins class="diff-chg">"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>, <span class=
"hljs-attr">"in"</span>: <span class=
"hljs-string">"header"</span>}],
</ins>    <span class="hljs-attr">"properties"</span>: {        <span class="hljs-attr">"status"</span>: {            <span class="hljs-attr">"writable"</span>: <span class=
"hljs-literal">false</span>,
<del class="diff-old">          : &lt;span class=
"hljs-literal"&gt;true,
          : [{
              : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com:5683/status",
              &lt;span class=
</del>
            <span class=
<ins class="diff-chg">"hljs-attr">"observable"</span>: <span class=
"hljs-literal">false</span>,
</ins>            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://mylamp.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"http:methodName"</span>: <span class=
"hljs-string">"GET"</span>,
</ins>                <span class=
"hljs-attr">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
<del class="diff-old">          }]
      },
      {
          : [&lt;span class=
"hljs-string"&gt;"Action", &lt;span class=
"hljs-string"&gt;"iot:ChangeSwitchStatus"],
          : &lt;span class=
"hljs-string"&gt;"toggle",
          : [{
              : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com:5683/toggle",
              &lt;span class=
</del>
<ins class="diff-chg">            }]
        }
    },
</ins>    <span class="hljs-attr">"actions"</span>: {        <span class="hljs-attr">"toggle"</span>: {            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://mylamp.example.com/toggle"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"http:methodName"</span>: <span class=
"hljs-string">"POST"</span>,
</ins>                <span class=
"hljs-attr">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
<del class="diff-old">          }]
      },
      {
          : [&lt;span class=
"hljs-string"&gt;"Event", &lt;span class=
"hljs-string"&gt;"iot:TemperatureAlarm"],
          : &lt;span class=
"hljs-string"&gt;"overheating",
          : {&lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"string"},
          : [{
              : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com:5683/oh",
              &lt;span class=
</del>
<ins class="diff-chg">            }]
        }
    },
</ins>    <span class="hljs-attr">"events"</span>: {        <span class="hljs-attr">"overheating"</span>: {            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://mylamp.example.com/oh"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"subProtocol"</span>: <span class=
"hljs-string">"LongPoll"</span>,
</ins>                <span class=
"hljs-attr">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
<del class="diff-old">          }]
      }
  ]
</del>
<ins class="diff-chg">            }]
        }
    }
</ins>
}
</pre>
</div>
<del class="diff-old">Editor's
note
Provide
detail
description
about
the
semantic
usage
in
the
example.
Please
also
check
</del>
<p>
<ins class="diff-chg">For
more
examples,
including
</ins>
the
<del class="diff-old">samples
provided
in
</del>
<ins class="diff-chg">use
of
other
protocols
besides
HTTP,
see
</ins>
Section
<del class="diff-old">6.7.
</del>
<a href="#example-serialization" class= "sec-ref">
<span class="secno">
<ins class="diff-chg">7.
</ins></span><span class= "sec-title"><ins class="diff-chg">
Example
Thing
Description
Instances
</ins></span>
</a>.
</p>
</section>
<section id="terminology">
<h2 id="x2-terminology">
<span class="secno">
2.
</span>
Terminology
<a class="self-link" aria-label="§" href= "#terminology">
</a>
</h2>
<p>
<del class="diff-old">The
generic
</del>
<ins class="diff-chg">Generic
</ins>
WoT
terminology
is
defined
in
[
<cite>
<a class="bibref" href="#bib-wot-architecture">
WOT-ARCHITECTURE
</a>
</cite>
]:
<dfn data-lt="things|thing" data-dfn-type="dfn" id= "dfn-things">
Thing
</dfn>,
<dfn data-lt= "thing descriptions|thing description" data-dfn-type="dfn" id= "dfn-thing-descriptions">
Thing
Description
</dfn>
(in
short
<dfn data-dfn-type="dfn" id="dfn-td">
TD
</dfn>
),
<dfn data-dfn-type= "dfn" id="dfn-web-of-things">
Web
of
Things
</dfn>
(in
short
<b>
<i>
WoT
</i>
</b>
),
<dfn data-dfn-type="dfn" id= "dfn-wot-interface">
WoT
Interface
</dfn>
etc.
</p>
</section>
<section id="namespaces">
<h2 id="x3-namespaces">
<span class="secno">
3.
</span>
Namespaces
<a class="self-link" aria-label="§" href= "#namespaces">
</a>
</h2>
<p>
The
namespace
for
<ins class="diff-new">the
</ins><abbr title= "World Wide Web Consortium"><ins class="diff-new">
W3C
</ins></abbr>
TD
<del class="diff-old">is
http://www.w3.org/ns/td#
.
TD
itself
defines
a
minimal
set
of
classes
and
properties
of
its
own.
A
full
set
of
namespaces
and
prefixes
used
</del>
<ins class="diff-chg">vocabulary
as
defined
</ins>
in
this
document
is
<del class="diff-old">shown
in
</del>
<a href= "http://www.w3.org/ns/td">
<ins class="diff-chg">http://www.w3.org/ns/td
</ins></a>.</p><p><ins class="diff-chg">
Using
content
negotiation,
this
namespace
serves
either
</ins>
the
<del class="diff-old">table
below.
</del>
<ins class="diff-chg">TD
ontology
file
(Turtle)
or
the
TD
context
file
(JSON-LD).
</ins>
</p>
<del class="diff-old">Prefix
Namespace
</del>
<p>
<ins class="diff-chg">The
suggested
prefix
for
the
TD
namespace
is
</ins><code>
td
<del class="diff-old">http://www.w3.org/ns/td#
rdf
http://www.w3.org/1999/02/22-rdf-syntax-ns#
</del>
</code>.
</p>
<p>
<ins class="diff-chg">The
security
ontology
that
can
be
used
with
the
TD
is
available
at
</ins><a href= "https://www.w3.org/ns/wot-security"><ins class="diff-chg">
https://www.w3.org/ns/wot-security
</ins></a>.</p><p><ins class="diff-chg">
The
data
schema
ontology
that
can
be
used
with
the
TD
is
available
at
</ins><a href= "https://www.w3.org/ns/json-schema"><ins class="diff-chg">
https://www.w3.org/ns/json-schema
</ins></a>.</p><div class="ednote" id="issue-container-generatedID-1">
<div role="heading" class="ednote-title marker" id="h-ednote-1" aria-level="3">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
<ins class="diff-new">Binding
Vocabulary
and
Prefixes
</ins></span>
</div>
<p class="">
<del class="diff-old">ToDo:
complete
table
</del>
<ins class="diff-chg">The
TD
will
reuse
existing
vocabulary
definitions
such
as
for
http
from
the
</ins><a href= "http://www.w3.org/2011/http#"><ins class="diff-chg">
http://www.w3.org/2011/http#
</ins></a><ins class="diff-chg">
namespace.
In
that
case
the
prefix
</ins><code><ins class="diff-chg">
http
</ins></code><ins class="diff-chg">
is
used.
However,
there
are
prefixes
such
as
</ins><code><ins class="diff-chg">
coap
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
mqtt
</ins></code><ins class="diff-chg">
which
have
no
namespace
yet.
Currently
there
are
efforts
to
have
such
namespace
representations
which
will
be
referenced
in
the
TD
specification
in
the
future.
In
the
meantime,
the
[
</ins><cite><a class="bibref" href= "#bib-wot-protocol-binding"><ins class="diff-chg">
WOT-PROTOCOL-BINDING
</ins></a></cite><ins class="diff-chg">
]
provides
the
list
of
terms
that
can
be
used
to
specify
the
protocol
metadata
in
the
Thing
Description.
</ins>
</p>
</div>
</section>
<section id="conformance">
<h2 id="x4-conformance">
<span class="secno">
4.
</span>
Conformance
<a class="self-link" aria-label="§" href= "#conformance">
</a>
</h2>
<p>
As
well
as
<ins class="diff-new">all
</ins>
sections
marked
as
non-normative,
all
authoring
guidelines,
diagrams,
examples,
and
notes
in
this
specification
are
non-normative.
Everything
else
in
this
specification
is
normative.
</p>
<p>
The
key
words
<em title="MUST" class="rfc2119">
<em class= "rfc2119" title="MUST">
MUST
</em>
</em>,
<em title="MUST NOT" class= "rfc2119">
<em class="rfc2119" title="MUST NOT">
MUST
NOT
</em>
</em>,
<em title="REQUIRED" class="rfc2119">
<em class="rfc2119" title= "REQUIRED">
REQUIRED
</em>
</em>,
<em title="SHOULD" class= "rfc2119">
<em class="rfc2119" title="SHOULD">
SHOULD
</em>
</em>,
<em title="SHOULD NOT" class="rfc2119">
<em class="rfc2119" title= "SHOULD NOT">
SHOULD
NOT
</em>
</em>,
<em title="RECOMMENDED" class= "rfc2119">
<em class="rfc2119" title= "RECOMMENDED">
RECOMMENDED
</em>
</em>,
<em title="MAY" class= "rfc2119">
<em class="rfc2119" title="MAY">
MAY
</em>
</em>,
and
<em title="OPTIONAL" class="rfc2119">
<em class="rfc2119" title= "OPTIONAL">
OPTIONAL
</em>
</em>
in
this
specification
are
to
be
interpreted
as
described
in
[
<cite>
<a class="bibref" href= "#bib-rfc2119">
RFC2119
</a>
</cite>
].
</p>
<p>
A
Thing
Description
instance
complies
with
this
specification
if
it
follows
the
normative
statements
in
Section
<a href= "#sec-vocabulary-definition" class="sec-ref">
<span class= "secno">
5.
</span>
<span class="sec-title">
<del class="diff-old">Vocabulary
Definition
</del>
<ins class="diff-chg">Information
Model
</ins>
</span>
<del class="diff-old">.
In
case
of
JSON-LD
serializiation,
a
Thing
Description
instance
in
JSON-LD
format
complies
with
this
specification
if
it
follows
the
normative
statements
in
</del>
</a>
<ins class="diff-chg">and
</ins>
Section
<a href="#sec-td-serialization" class= "sec-ref">
<span class="secno">
6.
</span>
<span class= "sec-title">
<ins class="diff-new">Thing
Description
</ins>
Serialization
</span>
</a>
<ins class="diff-new">regarding
Thing
Description
serialization.
</ins></p><p><ins class="diff-new">
A
JSON
Schema
[
</ins><cite><a class="bibref" href= "#bib-json-schema-validation"><ins class="diff-new">
JSON-SCHEMA-VALIDATION
</ins></a></cite><ins class="diff-new">
]
is
provided
in
Annex
</ins><a href="#json-schema-4-validation" class= "sec-ref"><span class="secno"><ins class="diff-new">
A.
</ins></span><span class= "sec-title"><ins class="diff-new">
JSON
Schema
for
TD
Instance
Validation
</ins></span>
</a>
<ins class="diff-new">to
validate
Thing
Description
instances
based
on
JSON-LD
1.1.
</ins>
</p>
<div class="ednote" id="issue-container-generatedID-2">
<div role="heading" class="ednote-title marker" id="h-ednote-2" aria-level="3">
<span>
<del class="diff-old">Issue
1
</del>
<ins class="diff-chg">Editor's
note
</ins>
</span>
</div>
<p class="">
<del class="diff-old">We
need
to
be
more
precise
here:
How
to
validate
a
TD?
E.g.,
structure
validation
and/or
</del>
<ins class="diff-chg">In
the
future
some
information
about
</ins>
RDF
<del class="diff-old">validation?
Comments
are
welcome.
</del>
<ins class="diff-chg">validation
will
be
provided.
</ins>
</p>
</div>
</section>
<section id="sec-vocabulary-definition">
<h2 id="x5-information-model">
<span class="secno">
5.
</span>
<del class="diff-old">Vocabulary
Definition
</del>
<ins class="diff-chg">Information
Model
</ins><a class="self-link" aria-label="§" href= "#sec-vocabulary-definition"></a>
</h2>
<section id="overview">
<h3 id="x5-1-overview">
<span class="secno">
5.1
</span>
Overview
<a class="self-link" aria-label="§" href= "#overview">
</a>
</h3>
<p>
The
<abbr title="World Wide Web Consortium">
<ins class="diff-new">W3C
</ins></abbr>
Thing
Description
<del class="diff-old">relys
on
</del>
<ins class="diff-chg">provides
</ins>
a
<del class="diff-old">small
</del>
set
of
<del class="diff-old">vocabulary.
</del>
<ins class="diff-chg">vocabulary
for
describing
physical
and
virtual
Things.
To
increase
interoperability
the
vocabulary
terms
are
defined
using
the
Resource
Description
Framework
(RDF).
</ins><span class="rfc2119-assertion" id="td-vocabulary"><ins class="diff-chg">
All
vocabulary
restrictions
noted
in
these
tables
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
followed,including
mandatory
items
and
default
values.
</ins></span></p><p><ins class="diff-chg">
In
general,
the
Thing
Description
vocabulary
set
is
grouped
in
three
modules:
the
core
Thing
Description
vocabulary
reflecting
WoT's
paradigm
of
</ins><code><ins class="diff-chg">
Properties
</ins></code>,<code><ins class="diff-chg">
Actions
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
Events
</ins></code><ins class="diff-chg">
(also
see
[
</ins><cite><a class="bibref" href= "#bib-wot-architecture"><ins class="diff-chg">
WOT-ARCHITECTURE
</ins></a></cite><ins class="diff-chg">
]);the
data
schema
vocabulary
reflecting
a
subset
of
the
terms
defined
in
JSON
Schema
[
</ins><cite><a class="bibref" href= "#bib-json-schema-validation"><ins class="diff-chg">
JSON-SCHEMA-VALIDATION
</ins></a></cite><ins class="diff-chg">
]
in
a
linked
data
representation;
and
the
security
vocabulary
used
to
define
security
mechanismconfiguration
requirements.
</ins></p><p>
An
overview
of
this
vocabulary
with
its
class
context
and
class
relation
is
given
by
the
following
<del class="diff-old">figure.
</del>
<ins class="diff-chg">three
figures:
the
TD
core
model,
the
TD
data
schema
model,
and
the
TD
security
model.
Please
note
that
the
figures
reflect
the
vocabulary
terms
and
structure
as
they
would
be
used
in
a
Thing
Description
instance
(see
Section
</ins><a href="#sec-td-serialization" class="sec-ref">
<span class= "secno">
<ins class="diff-chg">6.
</ins></span><span class="sec-title"><ins class="diff-chg">
Thing
Description
Serialization
</ins></span></a><ins class="diff-chg">
).The
full
ontology
definitions
of
the
different
modules
can
be
viewed
by
following
the
namespaces
as
provided
in
Section
</ins><a href="#namespaces" class= "sec-ref">
<span class="secno">
<ins class="diff-new">3.
</ins></span><span class= "sec-title"><ins class="diff-new">
Namespaces
</ins></span></a>.
</p>
<figure id="td-core-model">
<img src= "td-core-model/td-core-model.svg" alt="TD core model figure" width= "707" height="680" />
<figcaption>
Figure
<span class="figno">
1
</span>
<span class= "fig-title">
TD
core
model
</span>
</figcaption>
</figure>
<del class="diff-old">A
detailed
description
of
the
vocabulary
is
given
in
the
next
sub-section.
</del>
<figure id="td-data-schema-model">
<del class="diff-old">5.2
</del>
<img src= "td-core-model/td-data-schema-model.svg" alt= "TD data schema model figure" width="827" height="627" />
<figcaption>
<ins class="diff-chg">Figure
</ins><span class="figno"><ins class="diff-chg">
2
</ins></span><span class= "fig-title"><ins class="diff-chg">
TD
data
schema
model
</ins>
</span>
<del class="diff-old">Classes
</del>
</figcaption>
</figure>
<figure id="td-security-model">
<img src= "td-core-model/td-security-model.svg" alt= "TD security model figure" width="827" height="627" />
<figcaption>
<ins class="diff-chg">Figure
</ins><span class="figno"><ins class="diff-chg">
3
</ins></span><span class= "fig-title"><ins class="diff-chg">
TD
security
model
</ins></span></figcaption></figure><div class="ednote" id="issue-container-generatedID-3"><div role="heading" class="ednote-title marker" id="h-ednote-3" aria-level="4">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
<ins class="diff-new">Default
Values
and
Mandatory
Attributes
</ins></span>
</div>
<p class="">
<del class="diff-old">There
is
an
information
missing
from
</del>
<ins class="diff-chg">In
</ins>
the
<del class="diff-old">tables
</del>
<ins class="diff-chg">figures
above,
and
</ins>
in
<del class="diff-old">subsequent
sub-sections
as
</del>
<ins class="diff-chg">the
tables
</ins>
to
<ins class="diff-new">follow,
items
</ins>
which
<del class="diff-old">vocabulary
is
</del>
<ins class="diff-chg">have
default
values
are
indicated
as
being
optional.
However,
technically,
these
are
</ins>
optional
<del class="diff-old">or
mandatory.
Since
</del>
<em>
<ins class="diff-chg">only
in
the
JSON
serialization
</ins></em>.<ins class="diff-chg">
They
are
actually
mandatory
parts
of
</ins>
the
information
<ins class="diff-new">model
and
are
also
mandatory
in
the
JSON-LD
serialization.
In
addition,
the
security
scheme
configuration
</ins>
is
<del class="diff-old">already
available
</del>
<ins class="diff-chg">not
actually
optional
even
</ins>
in
the
<del class="diff-old">ontology
files,
tools
need
to
</del>
<ins class="diff-chg">JSON
serialization.
Security
configuration
is
mandatory
at
least
one
of
the
three
levels
at
which
it
may
</ins>
be
<del class="diff-old">updated
to
extract
and
utilize
</del>
<ins class="diff-chg">specified...
so
it
can
be
omitted
only
if
it
is
specified
at
a
different
level
for
each
form.
A
future
version
of
</ins>
this
<del class="diff-old">information
to
generate
</del>
<ins class="diff-chg">document
should
better
express
</ins>
the
<del class="diff-old">content
</del>
<ins class="diff-chg">status
</ins>
of
these
<del class="diff-old">tables.
</del>
<ins class="diff-chg">attributes.
</ins>
</p>
</div>
<p>
<ins class="diff-new">A
detailed
description
of
the
vocabulary
of
the
TD
core
model
and
TD
data
schema
model
is
given
in
the
next
sub-section.
</ins></p></section><section id="sec-core-vocabulary-definition"><h3 id="x5-2-core-vocabulary-definition"><span class= "secno"><ins class="diff-new">
5.2
</ins></span><ins class="diff-new">
Core
Vocabulary
Definition
</ins><a class="self-link" aria-label="§" href="#sec-core-vocabulary-definition"></a></h3>
<section id="thing">
<h4 id="x5-2-1-thing">
<span class="secno">
5.2.1
</span>
<code>
Thing
</code>
<a class="self-link" aria-label="§" href= "#thing">
</a>
</h4>
<p>
Describes
a
physical
and/or
virtual
Thing
(may
represent
one
or
more
physical
<del class="diff-old">and
/
or
</del>
<ins class="diff-chg">and/or
</ins>
virtual
Things)
in
the
Web
of
<del class="diff-old">Thing
</del>
<ins class="diff-chg">Things
</ins>
context.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
<del class="diff-old">Expected
</del>
<ins class="diff-chg">Mandatory
</ins></th><th><ins class="diff-chg">
Default
</ins>
value
<del class="diff-old">type
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
<del class="diff-old">link
</del>
<ins class="diff-chg">id
</ins>
</code>
</td>
<td>
<del class="diff-old">provides
Web
links
to
arbitrary
resources
that
relate
to
</del>
<ins class="diff-chg">unique
identifier
of
</ins>
the
<del class="diff-old">specified
</del>
Thing
<del class="diff-old">Description.
</del>
<ins class="diff-chg">(URI,
e.g.
custom
URN)
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">Link
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">interaction
</del>
<ins class="diff-chg">description
</ins>
</code>
</td>
<td>
<del class="diff-old">Link
from
a
Thing
to
the
interaction
patterns
it
provides
</del>
<ins class="diff-chg">Provides
additional
(human)
readable
information.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">InteractionPattern
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">security
</del>
<ins class="diff-chg">name
</ins>
</code>
</td>
<td>
<del class="diff-old">Links
a
given
Thing
to
the
security
information
that
indicates
the
access
metadata
information
for
securely
transmitting
information
via
all
the
resources
</del>
<ins class="diff-chg">Name
</ins>
of
the
Thing.
</td>
<td>
<ins class="diff-new">yes
</ins></td><td>.</td><td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">Security
</del>
<ins class="diff-chg">string
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
support
</ins></code></td><td><ins class="diff-chg">
Provides
information
about
the
TD
maintainer
(e.g.,
author,
link
or
telephone
number
to
get
support,
etc).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins>
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
base
</code>
</td>
<td>
Define
<ins class="diff-new">the
</ins>
base
URI
that
is
valid
for
all
defined
local
interaction
resources.
All
other
URIs
in
the
TD
must
then
be
resolved
using
the
algorithm
defined
in
[
<cite>
<a class="bibref" href="#bib-rfc3986">
RFC3986
</a>
</cite>
].
<del class="diff-old">This
field
is
optional.
</del>
</td>
<td>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">properties
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
</del>
<ins class="diff-chg">All
Property-based
interaction
patterns
</ins>
of
the
<del class="diff-old">Thing
or
</del>
<ins class="diff-chg">Thing.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#property"><code><ins class="diff-chg">
Property
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
actions
</ins></code></td><td><ins class="diff-chg">
All
Action-based
</ins>
interaction
<del class="diff-old">pattern
(must
be
a
valid
keyword
</del>
<ins class="diff-chg">patterns
of
the
Thing.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#action"><code><ins class="diff-chg">
Action
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
events
</ins></code></td><td><ins class="diff-chg">
All
Event-based
interaction
patterns
of
the
Thing.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#event"><code><ins class="diff-chg">
Event
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
links
</ins></code></td><td><ins class="diff-chg">
Provides
Web
links
to
arbitrary
resources
that
relate
</ins>
to
<del class="diff-old">be
used
in
</del>
the
<del class="diff-old">scripting
API)
</del>
<ins class="diff-chg">specified
Thing
Description.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.
</td>
<td>
<ins class="diff-new">array
of
</ins><a href="#link">
<code>
<ins class="diff-chg">Link
</ins></code></a></td></tr><tr><td>
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">security
</ins></code></td><td><ins class="diff-chg">
Set
of
security
configurations,
provided
as
an
array,
that
must
all
be
satisfied
for
access
to
resources
at
or
below
the
current
level,
if
not
overridden
at
a
lower
level.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href= "#securityscheme"><code><ins class="diff-chg">
SecurityScheme
</ins>
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="interactionpattern">
<h4 id="x5-2-2-interactionpattern">
<span class="secno">
5.2.2
</span>
<code>
InteractionPattern
</code>
<a class="self-link" aria-label="§" href="#interactionpattern">
</a>
</h4>
<p>
Three
interaction
patterns
are
defined
as
subclasses:
Property,
Action
and
Event.
When
a
concrete
Property,
Action
or
Event
is
defined
in
a
Thing
Description,
it
is
called
an
"interaction
resource".
Interactions
between
Things
can
be
as
simple
as
one
Thing
accessing
another
Thing's
data
to
get
or
(in
the
case
the
data
is
also
writable)
change
<ins class="diff-new">the
</ins>
representation
of
data
such
as
metadata,
status
or
mode.
A
Thing
may
also
be
interested
in
getting
asynchronously
notified
of
future
changes
in
another
Thing,
or
may
want
to
initiate
a
process
served
in
another
Thing
that
may
take
some
time
to
complete
and
monitor
the
progress.
Interactions
between
Things
may
involve
exchanges
of
data
between
them.
This
data
can
be
either
given
as
input
by
the
client
Thing,
returned
as
output
by
the
server
Thing
or
both.
</p>
<p>
<span class="rfc2119-assertion" id="td-unique-identifiers">
<ins class="diff-new">Each
instance
of
a
</ins><code><ins class="diff-new">
Property
</ins></code>,<code><ins class="diff-new">
Action
</ins></code>,<ins class="diff-new">
and
</ins><code><ins class="diff-new">
Event
</ins></code><ins class="diff-new">
class
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
have
an
identifier
that
is
unique
within
the
context
of
a
Thing
Description
document.
</ins></span><ins class="diff-new">
See
Section
</ins><a href= "#json-serializiation-section" class="sec-ref"><ins class="diff-new">
Representation
Format
</ins></a><ins class="diff-new">
for
more
details
about
JSON-LD
1.1
identifiers.
</ins></p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
<del class="diff-old">Expected
</del>
<ins class="diff-chg">Mandatory
</ins></th><th><ins class="diff-chg">
Default
</ins>
value
<del class="diff-old">type
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
<del class="diff-old">form
</del>
<ins class="diff-chg">forms
</ins>
</code>
</td>
<td>
Indicates
one
or
more
endpoints
from
which
an
interaction
pattern
is
<del class="diff-old">accessible
</del>
<ins class="diff-chg">accessible.
</ins>
</td>
<td>
<ins class="diff-chg">yes
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins>
<a href="#form">
<code>
Form
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">label
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
</del>
<ins class="diff-chg">Provides
a
label
(e.g.,
display
a
text
for
UI
representation)
</ins>
of
the
<del class="diff-old">Thing
or
</del>
interaction
<del class="diff-old">pattern
(must
</del>
<ins class="diff-chg">pattern.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
description
</ins></code></td><td><ins class="diff-chg">
Provides
additional
(human)
readable
information.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
security
</ins></code></td><td><ins class="diff-chg">
Set
of
security
configurations,
provided
as
an
array,
that
must
all
</ins>
be
<del class="diff-old">a
valid
keyword
</del>
<ins class="diff-chg">satisfied
for
access
</ins>
to
<del class="diff-old">be
used
in
</del>
<ins class="diff-chg">resources
at
or
below
</ins>
the
<del class="diff-old">scripting
API)
</del>
<ins class="diff-chg">current
level,
if
not
overridden
at
a
lower
level.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.
</td>
<td>
<ins class="diff-new">array
of
</ins><a href= "#securityscheme">
<code>
<ins class="diff-chg">SecurityScheme
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
scopes
</ins></code></td><td><ins class="diff-chg">
Set
of
authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
InteractionPattern
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href="#event">
<code>
<del class="diff-old">Action
</del>
<ins class="diff-chg">Event
</ins>
</code>
</a>
</li>
<li>
<a href="#property">
<code>
<del class="diff-old">Event
</del>
<ins class="diff-chg">Property
</ins>
</code>
</a>
</li>
<li>
<a href="#action">
<code>
<del class="diff-old">Property
</del>
<ins class="diff-chg">Action
</ins>
</code>
</a>
</li>
</ul>
</section>
<section id="property">
<h4 id="x5-2-3-property">
<span class="secno">
5.2.3
</span>
<code>
Property
</code>
<a class="self-link" aria-label="§" href= "#property">
</a>
</h4>
<p>
<del class="diff-old">Property
provides
readable
and/or
writeable
data
</del>
<ins class="diff-chg">Properties
expose
internal
state
of
a
Thing
</ins>
that
can
be
<del class="diff-old">static
(e.g.,
supported
mode,
rated
output
voltage,
etc.)
or
dynamic
(e.g.,
current
fill
level
of
water,
minimum
recorded
temperature,
etc.).
Please
note,
this
class
</del>
<ins class="diff-chg">directly
retrieved
(get)
and
optionally
modified
(set).
In
addition,
Things
can
</ins>
also
<del class="diff-old">inherited
all
vocabulary
from
</del>
<ins class="diff-chg">choose
to
make
Properties
observable
by
pushing
</ins>
the
<del class="diff-old">InteractionPattern
class.
</del>
<ins class="diff-chg">new
state
(not
an
event)
after
a
change;
this
must
follow
eventual
consistency
(also
see
CAP
Theorem).
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
<del class="diff-old">Expected
</del>
<ins class="diff-chg">Mandatory
</ins></th><th><ins class="diff-chg">
Default
</ins>
value
<del class="diff-old">type
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
<del class="diff-old">schema
link
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
and
unit
of
measure
provided
by
a
property
or
an
event.
DataSchema
</del>
observable
</code>
</td>
<td>
Indicates
whether
a
remote
servient
can
subscribe
to
("observe")
the
Property,
to
receive
change
notifications
or
periodic
updates
(true/false).
</td>
<td>
<ins class="diff-new">no
</ins></td><td><ins class="diff-new">
false
</ins></td><td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
writable
</code>
</td>
<td>
Boolean
value
that
indicates
whether
a
property
is
writable
(=true)
or
not
<del class="diff-old">(=false)
</del>
<ins class="diff-chg">(=false).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><ins class="diff-chg">
false
</ins>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
</tbody>
</table>
<div class="note" id="issue-container-generatedID-4">
<div role="heading" class="note-title marker" id="h-note" aria-level="5">
<span>
<ins class="diff-new">Note
</ins></span></div><p class=""><ins class="diff-new">
Property
instances
may
also
be
instances
of
the
class
</ins><a href="#dataschema" class="sec-ref"><ins class="diff-new">
DataSchema
</ins></a><ins class="diff-new">
and
therefore
can
contain,
among
others,
the
</ins><code><ins class="diff-new">
type
</ins></code><ins class="diff-new">
term.
</ins></p></div>
</section>
<section id="action">
<h4 id="x5-2-4-action">
<span class="secno">
5.2.4
</span>
<code>
Action
</code>
<a class="self-link" aria-label="§" href= "#action">
</a>
</h4>
<p>
<del class="diff-old">The
Action
interaction
pattern
triggers
changes
or
processes
on
</del>
<ins class="diff-chg">Actions
offer
functions
of
the
Thing.
These
functions
may
manipulate
the
interal
state
of
</ins>
a
Thing
<del class="diff-old">that
take
</del>
<ins class="diff-chg">in
</ins>
a
<del class="diff-old">certain
time
to
complete
(i.e.,
actions
cannot
be
applied
instantaneously
like
property
writes).
</del>
<ins class="diff-chg">way
that
is
not
possible
through
setting
Properties.
</ins>
Examples
<del class="diff-old">include
an
LED
fade
in,
moving
</del>
<ins class="diff-chg">are
changing
internal
state
that
is
not
exposed
as
</ins>
a
<del class="diff-old">robot,
brewing
</del>
<ins class="diff-chg">Property,
changing
multiple
Properties,
changing
Properties
over
time
or
with
</ins>
a
<del class="diff-old">cup
of
coffee,
etc.
Usually,
ongoing
</del>
<ins class="diff-chg">process
that
should
not
be
disclosed.
</ins>
Actions
<del class="diff-old">are
modelled
as
Task
resources,
which
are
created
when
an
Action
invocation
is
received
by
the
Thing.
Please
note,
this
class
</del>
<ins class="diff-chg">may
</ins>
also
<del class="diff-old">inherited
all
vocabulary
from
</del>
<ins class="diff-chg">be
pure
functions,
that
is,
they
may
not
use
any
internal
state
at
all,
and
may
simply
process
input
data
and
return
a
result
that
directly
depends
only
on
</ins>
the
<del class="diff-old">InteractionPattern
class.
</del>
<ins class="diff-chg">input
given.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
<del class="diff-old">Expected
</del>
<ins class="diff-chg">Mandatory
</ins></th><th><ins class="diff-chg">
Default
</ins>
value
<del class="diff-old">type
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
<del class="diff-old">inputSchema
</del>
<ins class="diff-chg">input
</ins>
</code>
</td>
<td>
<del class="diff-old">link
</del>
<ins class="diff-chg">Link
</ins>
to
the
n-ary
class
that
allows
the
declaration
of
the
accepted
data
type
of
an
action.
</td>
<td>
<ins class="diff-new">no
</ins></td><td>.</td><td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">outputSchema
</del>
<ins class="diff-chg">output
</ins>
</code>
</td>
<td>
<del class="diff-old">link
</del>
<ins class="diff-chg">Link
</ins>
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
returned
by
an
action.
</td>
<td>
<ins class="diff-new">no
</ins></td><td>.</td><td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="event">
<h4 id="x5-2-5-event">
<span class="secno">
5.2.5
</span>
<code>
Event
</code>
<del class="diff-old">The
Event
interaction
pattern
enables
a
mechanism
for
events
to
be
notified
by
a
Thing
on
a
certain
condition
(e.g.,
the
fill
level
of
the
water
tank
reached
a
given
threshold).
Please
note,
this
class
also
inherited
all
vocabulary
from
the
InteractionPattern
class.
Field
Name
Description
Expected
value
type
schema
link
to
the
n-ary
class
that
allows
the
declaration
of
the
data
type
and
unit
of
measure
provided
by
a
property
or
an
event.
DataSchema
</del>
<a class="self-link" aria-label="§" href= "#event">
</a>
<del class="diff-old">5.2.6
DataSchema
</del>
</h4>
<p>
<del class="diff-old">This
class
embeds
the
terms
</del>
<ins class="diff-chg">The
Event
Interaction
Pattern
describes
event
sources
</ins>
that
<ins class="diff-new">asynchronously
push
messages.
Here
not
state,
but
state
transitions
(events)
</ins>
are
<del class="diff-old">defined
</del>
<ins class="diff-chg">communicated
(e.g.,
"clicked").
Events
may
be
triggered
</ins>
by
<del class="diff-old">JSON
Schema
(
https://tools.ietf.org/html/draft-handrews-json-schema-validation-00#section-6
)
and
map
them
in
a
Linked
Data
form
to
allow,
e.g.,
the
representation
of
pairs
(data
type,
semantic
meaning
such
as
unit
of
measure)
</del>
<ins class="diff-chg">internal
state
changes
</ins>
that
are
<del class="diff-old">expected
</del>
<ins class="diff-chg">not
exposed
</ins>
as
<del class="diff-old">input
data
or
output
data
</del>
<ins class="diff-chg">Properties.
Events
usually
follow
strong
consistency,
where
messages
need
to
be
queued
to
ensure
eventual
delivery
</ins>
of
<del class="diff-old">a
given
interaction
pattern.
</del>
<ins class="diff-chg">all
events
that
have
occurred.
</ins>
</p>
<del class="diff-old">Editor's
note
In
next
update
</del>
<p>
<ins class="diff-chg">Instances
</ins>
of
the
<del class="diff-old">TD
deliverable
</del>
<code>
<ins class="diff-chg">Event
</ins></code><ins class="diff-chg">
class
contains
</ins>
the
<del class="diff-old">full
list
</del>
<ins class="diff-chg">term
definitions
</ins>
of
<del class="diff-old">schema
terms
will
be
defined
here.
For
now,
please
check
</del>
the
<del class="diff-old">data
schema
defintions
that
are
provided
in
Section
6.5
</del>
<ins class="diff-chg">class
</ins><a href="#interactionpattern" class= "sec-ref"><ins class="diff-chg">
InteractionPattern
</ins>
</a>
and
<del class="diff-old">examples
provided
in
WoT
Binding
Template
</del>
<a href="#dataschema" class= "sec-ref">
<ins class="diff-chg">DataSchema
</ins>
</a>.
</p>
</section>
<section id="form">
<h4 id="x5-2-6-form">
<span class="secno">
<del class="diff-old">5.2.7
</del>
<ins class="diff-chg">5.2.6
</ins>
</span>
<code>
Form
</code>
<a class="self-link" aria-label="§" href= "#form">
</a>
</h4>
<p>
Communication
metadata
<ins class="diff-new">indicating
</ins>
where
a
service
can
be
accessed
by
a
client
application.
An
interaction
might
have
more
than
one
form.
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
<del class="diff-old">Expected
</del>
<ins class="diff-chg">Mandatory
</ins></th><th><ins class="diff-chg">
Default
</ins>
value
<del class="diff-old">type
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
href
</code>
</td>
<td>
URI
of
the
endpoint
where
an
interaction
pattern
is
<del class="diff-old">provided
</del>
<ins class="diff-chg">provided.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
mediaType
</code>
</td>
<td>
Assign
<ins class="diff-new">the
</ins>
underlying
media
type
<ins class="diff-new">[
</ins><cite><a class="bibref" href= "#bib-mediatypes"><ins class="diff-new">
MEDIATYPES
</ins></a></cite><ins class="diff-new">
]
</ins>
of
<del class="diff-old">the
</del>
<ins class="diff-chg">an
</ins>
interaction
<del class="diff-old">pattern
based
on
IANA
(
https://www.iana.org/assignments/media-types/media-types.xhtml
)
</del>
<ins class="diff-chg">pattern.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><ins class="diff-chg">
application/json
</ins>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
rel
</code>
</td>
<td>
Indicates
the
expected
result
of
performing
the
operation
described
by
the
form.
For
example,
the
Property
interaction
allows
get
and
set
operations.
The
protocol
binding
may
contain
a
form
for
the
get
operation
and
a
different
form
for
the
set
operation.
The
<del class="diff-old">value
of
the
"rel"
</del>
<ins class="diff-chg">rel
</ins>
attribute
<del class="diff-old">of
the
form
</del>
indicates
which
form
is
which
and
allows
the
client
to
select
the
correct
form
for
the
<del class="diff-old">oeration
required
</del>
<ins class="diff-chg">operation
required.
</ins><p><ins class="diff-chg">
The
value
of
the
</ins><code><ins class="diff-chg">
rel
</ins></code><ins class="diff-chg">
attribute
of
the
form
must
be
one
of
readproperty,
writeproperty,
observeproperty,
invokeaction,
subscribeevent,
or
unsubscribeevent.
</ins>
</p>
</td>
<td>
<ins class="diff-new">no
</ins></td><td>.</td><td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code></a><p><ins class="diff-chg">
(one
of
</ins><code><ins class="diff-chg">
"readproperty"
</ins></code>,<code><ins class="diff-chg">
"writeproperty"
</ins></code>,<code><ins class="diff-chg">
"observeproperty"
</ins></code>,<code><ins class="diff-chg">
"invokeaction"
</ins></code>,<code><ins class="diff-chg">
"subscribeevent"
</ins></code>,<ins class="diff-chg">
or
</ins><code><ins class="diff-chg">
"unsubscribeevent"
</ins></code><ins class="diff-chg">
)
</ins></p></td></tr><tr><td><code><ins class="diff-chg">
subProtocol
</ins></code></td><td><ins class="diff-chg">
Indicates
the
exact
mechanism
by
which
an
interaction
will
be
accomplished
for
a
given
protocol
when
there
are
multiple
options.
For
example,
for
HTTP
and
Events,
it
indicates
which
of
several
available
mechanisms
should
be
used
for
asynchronous
notifications.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a><p><ins class="diff-chg">
(one
of
</ins><code><ins class="diff-chg">
"LongPoll"
</ins></code><ins class="diff-chg">
)
</ins></p></td></tr><tr><td><code><ins class="diff-chg">
security
</ins></code></td><td><ins class="diff-chg">
Set
of
security
configurations,
provided
as
an
array,
that
must
all
be
satisfied
for
access
to
resources
at
or
below
the
current
level,
if
not
overridden
at
a
lower
level.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href= "#securityscheme"><code><ins class="diff-chg">
SecurityScheme
</ins></code></a></td></tr><tr><td><code><ins class="diff-chg">
scopes
</ins></code></td><td><ins class="diff-chg">
Set
of
authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="link">
<h4 id="x5-2-7-link">
<span class="secno">
<del class="diff-old">5.2.8
</del>
<ins class="diff-chg">5.2.7
</ins>
</span>
<code>
Link
</code>
<a class="self-link" aria-label="§" href= "#link">
</a>
</h4>
<p>
A
Web
link,
as
specified
by
IETF
RFC
8288
<del class="diff-old">(
https://tools.ietf.org/html/rfc8288)
.
</del>
<ins class="diff-chg">(https://tools.ietf.org/html/rfc8288).
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
Description
</th>
<th>
<del class="diff-old">Expected
</del>
<ins class="diff-chg">Mandatory
</ins></th><th><ins class="diff-chg">
Default
</ins>
value
<del class="diff-old">type
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
<del class="diff-old">anchor
By
default,
the
context
of
a
link
is
the
URL
of
the
representation
it
is
associated
with,
and
is
serialised
as
a
URI.
When
present,
the
anchor
parameter
overrides
this
with
another
URI,
such
as
a
fragment
of
this
resource,
or
a
third
resource
(i.e.,
when
the
anchor
value
is
an
absolute
URI).
anyURI
</del>
href
</code>
</td>
<td>
URI
of
the
endpoint
where
an
interaction
pattern
is
<del class="diff-old">provided
</del>
<ins class="diff-chg">provided.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
mediaType
</code>
</td>
<td>
Assign
<ins class="diff-new">the
</ins>
underlying
media
type
<ins class="diff-new">[
</ins><cite><a class="bibref" href= "#bib-mediatypes"><ins class="diff-new">
MEDIATYPES
</ins></a></cite><ins class="diff-new">
]
</ins>
of
<del class="diff-old">the
</del>
<ins class="diff-chg">an
</ins>
interaction
<del class="diff-old">pattern
based
on
IANA
(
https://www.iana.org/assignments/media-types/media-types.xhtml
)
</del>
<ins class="diff-chg">pattern.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><ins class="diff-chg">
application/json
</ins>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr>
<td>
<code>
rel
</code>
</td>
<td>
Indicates
the
expected
result
of
performing
the
operation
described
by
the
form.
For
example,
the
Property
interaction
allows
get
and
set
operations.
The
protocol
binding
may
contain
a
form
for
the
get
operation
and
a
different
form
for
the
set
operation.
The
<del class="diff-old">value
of
the
"rel"
</del>
<ins class="diff-chg">rel
</ins>
attribute
<del class="diff-old">of
the
form
</del>
indicates
which
form
is
which
and
allows
the
client
to
select
the
correct
form
for
the
<del class="diff-old">oeration
required
</del>
<ins class="diff-chg">operation
required.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">5.2.9
</del>
<code>
<del class="diff-old">Security
</del>
<ins class="diff-chg">anchor
</ins>
</code>
<del class="diff-old">The
(optional)
security
field
can
be
used
to
provide
access
metadata
(self-contained)
information
</del>
</td>
<td>
<ins class="diff-chg">By
default,
the
context
</ins>
of
<ins class="diff-new">a
link
is
</ins>
the
<del class="diff-old">Thing
for
securely
transmitting
information
via
all
its
resources.
Also
see
Section
Security
Consideration.
Definition
taken
from
http://w3c.github.io/wot/current-practices/wot-practices#security-metadata
</del>
<ins class="diff-chg">URL
of
the
representation
it
is
associated
with,
and
is
serialised
as
a
URI.
When
present,
the
anchor
parameter
overrides
this
with
another
URI,
such
as
a
fragment
of
this
resource,
or
a
third
resource
(i.e.,
when
the
anchor
value
is
an
absolute
URI).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code><ins class="diff-chg">
anyURI
</ins></code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<del class="diff-old">6.
JSON-LD
Serialization
Thing
Description
instances
are
modeled
on
the
classes
defined
in
</del>
<section id="sec-data-schema-vocabulary-definition">
<h3 id="x5-3-data-schema-vocabulary-definition">
<del class="diff-old">5.
</del>
<span class= "secno">
<ins class="diff-chg">5.3
</ins>
</span>
<ins class="diff-chg">Data
Schema
</ins>
Vocabulary
Definition
<a class= "self-link" aria-label="§" href= "#sec-data-schema-vocabulary-definition">
<del class="diff-old">,
and
they
are
serialized
in
JSON-LD
</del>
</a>
<del class="diff-old">by
default,
using
the
vocabulary
defined
there
when
they
are
served
at
run-time.
JSON-LD
is
a
serialization
format
that
adds
a
semantic
layer
on
top
of
the
JSON
specification:
the
terms
that
appear
in
a
JSON
document
should
be
associated
with
uniquely
identified
concepts
from
shared
vocabularies.
This
principle
is
part
of
a
set
of
practices
to
publish
data
on
the
Web
called
Linked
Data,
where
concepts
are
usually
identified
with
URIs
and
originate
from
RDF
vocabularies.
</del>
</h3>
<section id="dataschema">
<h4 id="x5-3-1-dataschema">
<span class="secno">
<del class="diff-old">6.1
</del>
<ins class="diff-chg">5.3.1
</ins>
</span>
<del class="diff-old">Thing
as
a
Whole
The
JSON-LD
representation
for
a
Thing
Description
is
a
JSON
object
of
which
fields
are
defined
below.
</del>
<code>
<ins class="diff-chg">DataSchema
</ins></code><a class="self-link" aria-label="§" href= "#dataschema"></a></h4>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">@context
</del>
<code>
<ins class="diff-chg">description
</ins></code>
</td>
<td>
<del class="diff-old">array
of
strings
</del>
<ins class="diff-chg">Provides
additional
(human)
readable
information.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">The
array
MUST
contain
a
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
<del class="diff-old">"https://w3c.github.io/wot/w3c-wot-td-context.jsonld"
.
Also
see
below.
</del>
</code>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">@type
</del>
<code>
<ins class="diff-chg">type
</ins></code>
</td>
<td>
<del class="diff-old">array
</del>
<ins class="diff-chg">Assignment
</ins>
of
<del class="diff-old">strings
</del>
<ins class="diff-chg">JSON-based
data
types
compatible
with
JSON
Schema
(one
of
boolean,
integer,
number,
string,
object,
array,
or
null).
</ins>
</td>
<td>
no
</td>
<del class="diff-old">Gives
annotations
to
the
Thing
name
</del>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
<del class="diff-old">yes
Name
</del>
</code>
</a>
<p>
<ins class="diff-chg">(one
</ins>
of
<del class="diff-old">the
Thing
</del>
<code>
<ins class="diff-chg">"boolean"
</ins></code>,<code><ins class="diff-chg">
"integer"
</ins></code>,<code><ins class="diff-chg">
"number"
</ins></code>,<code><ins class="diff-chg">
"string"
</ins></code>,<code><ins class="diff-chg">
"object"
</ins></code>,<code><ins class="diff-chg">
"array"
</ins></code>,<ins class="diff-chg">
or
</ins><code><ins class="diff-chg">
"null"
</ins></code><ins class="diff-chg">
)
</ins></p>
</td>
</tr>
<tr>
<td>
<del class="diff-old">base
</del>
<code>
<ins class="diff-chg">const
</ins></code>
</td>
<td>
<del class="diff-old">string
</del>
<ins class="diff-chg">Provides
a
constant
value.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">Base
URI
for
use
in
</del>
a
<del class="diff-old">Thing
Description.
If
relative
URIs
are
used
within
</del>
<ins class="diff-chg">value
of
any
type
that
is
consistent
with
the
type
given
to
</ins>
the
<ins class="diff-new">above
</ins>
<code>
<del class="diff-old">form
</del>
<ins class="diff-chg">type
</ins>
</code>
field
<del class="diff-old">(see
6.3
Form
),
base
MUST
be
present.
</del>
<ins class="diff-chg">definition
if
any
</ins>
</td>
</tr>
<tr>
<td>
<del class="diff-old">interaction
array
of
objects
no
See
</del>
<del class="diff-old">6.2
Interaction
Resources
</del>
<code>
<ins class="diff-chg">enum
</ins></code>
</td>
<td>
<del class="diff-old">security
array
</del>
<ins class="diff-chg">Restricted
set
</ins>
of
<del class="diff-old">objects
</del>
<ins class="diff-chg">values
provided
as
an
array.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">See
6.4
Security
link
</del>
<td>.
</td>
<td>
array
of
<del class="diff-old">objects
no
tbd:
see
Link
</del>
<ins class="diff-chg">values
of
any
type
with
each
consistent
with
the
type
given
to
the
above
</ins><code><ins class="diff-chg">
type
</ins></code><ins class="diff-chg">
field
definition
if
any
</ins>
</td>
</tr>
</tbody>
</table>
<p>
<del class="diff-old">Each
field
in
Thing
</del>
<ins class="diff-chg">The
</ins>
class
<del class="diff-old">(see
5.2.1
Thing
)
is
represented
by
the
namesake
JSON
field
described
in
</del>
<code>
<ins class="diff-chg">DataSchema
</ins></code><ins class="diff-chg">
has
</ins>
the
<del class="diff-old">above
table.
</del>
<ins class="diff-chg">following
subclasses:
</ins>
</p>
<del class="diff-old">The
</del>
<ul>
<li>
<a href="#arrayschema">
<code>
<del class="diff-old">@context
</del>
<ins class="diff-chg">ArraySchema
</ins>
</code>
<del class="diff-old">key
is
used
to
define
Thing
Description's
context.
All
JSON
key
terms
that
are
defined
in
the
present
document
(also
see
Vocabulary
Definition
Section
</del>
</a>
<del class="diff-old">)
have
been
put
in
an
external
context
document,
available
at
</del>
</li>
<li>
<a href="#booleanschema">
<code>
<ins class="diff-new">BooleanSchema
</ins></code>
<del class="diff-old">https://www.w3.org/ns/td/w3c-wot-td-context.jsonld
</del>
</a>
<del class="diff-old">.
Each
Thing
Description
instance
in
JSON-LD
MUST
have
this
context
information
enmbedded
within
an
JSON
array
structure.
Thus,
a
basic
Thing
Description
would
contain
the
following
declaration:
Example
3
</del>
</li>
<li>
<del class="diff-old">{
  : [&lt;span class=
"hljs-string"&gt;"https://www.w3.org/ns/td/w3c-wot-td-context.jsonld"],
  ...
}
</del>
<a href="#integerschema">
<del class="diff-old">In
case
a
single
Thing
Description
instance
involves
several
contexts,
additional
namespaces
with
prefixes
can
be
extended
to
the
</del>
<code>
<del class="diff-old">@context
</del>
<ins class="diff-chg">IntegerSchema
</ins>
</code>
<del class="diff-old">array
structure.
This
option
proves
relevant
if
one
wants
to
extend
the
existing
Thing
Description
context
without
modifying
it.
For
instance:
</del>
<del class="diff-old">Example
4
</del>
</a>
<del class="diff-old">{
  : [&lt;span class=
"hljs-string"&gt;"https://www.w3.org/ns/td/w3c-wot-td-context.jsonld",
               {&lt;span class=
"hljs-string"&gt;"sensor": &lt;span class=
"hljs-string"&gt;"http://example.org/sensors#"}],
  ...
}
</del>
</li>
<li>
<a href="#numberschema">
<del class="diff-old">Note:
Besides
these
pre-defined
terms
in
the
Thing
Description
context,
additional
characteristics
can
be
added
to
Thing
level
such
as
product
ID,
firmware
version,
location,
etc.
These
terms
should
then
appear
in
the
context
of
the
Thing
.
</del>
<code>
<ins class="diff-chg">NumberSchema
</ins></code>
<del class="diff-old">Editor's
note
</del>
</a>
<del class="diff-old">This
note
should
be
moved
to
the
td-context-extension
definition
once
we
have
a
section
for
that.
In
there
it
should
be
also
explained
that
a
context
is
not
necessary
if
you
are
working
outside
of
the
RDF
model
and
if
you
handle
a
TD
just
as
a
simple
JSON
document.
A
sample
TD
snippet
that
relies
on
the
defined
fields
above
is
given
below:
</del>
</li>
<li>
<del class="diff-old">Example
5
</del>
<a href="#objectschema">
<del class="diff-old">{
  : [&lt;span class=
"hljs-string"&gt;"https://www.w3.org/ns/td/w3c-wot-td-context.jsonld"],
  : [&lt;span class=
"hljs-string"&gt;"Thing"],
  : &lt;span class=
"hljs-string"&gt;"MyThing",
  : &lt;span class=
"hljs-string"&gt;"coap://mything.example.com:5683/",
  : [
   ...
}
</del>
<code>
<ins class="diff-chg">ObjectSchema
</ins></code>
</a>
<del class="diff-old">Note:
For
examples
of
full
Thing
Description,
see
</del>
</li>
<li>
<del class="diff-old">6.7
Examples
</del>
<a href="#stringschema">
<code>
<ins class="diff-chg">StringSchema
</ins></code>
</a>
</li>
</ul>
</section>
<del class="diff-old">6.2
Interaction
Resources
An
interaction
in
the
context
of
the
Web
of
Things
is
an
exchange
of
data
between
a
Web
client
and
a
Thing.
This
data
can
be
either
given
as
input
by
the
client,
returned
as
output
by
the
Thing,
or
both.
Three
interaction
patterns
are
defined:
Property
,
Action
,
and
Event
.
</del>
<section id="arrayschema">
<h4 id="x5-3-2-arrayschema">
<span class="secno">
<del class="diff-old">6.2.1
</del>
<ins class="diff-chg">5.3.2
</ins>
</span>
<del class="diff-old">Property
The
Property
interaction
definitions
(also
see
Property
vocabulary
definition
section
)
provides
metadata
for
readable
and/or
writeable
data
that
can
be
static
(e.g.,
supported
mode,
rated
output
voltage,
etc.)
or
dynamic
(e.g.,
current
fill
level
of
water,
minimum
recorded
temperature,
etc.).
Shown
below
is
an
example
of
a
</del>
<code>
<del class="diff-old">Property
</del>
<ins class="diff-chg">ArraySchema
</ins>
</code>
<del class="diff-old">interaction
definition.
</del>
<del class="diff-old">Example
6
</del>
<a class="self-link" aria-label="§" href= "#arrayschema">
<del class="diff-old">{
  ...
  : [
    {
      : [&lt;span class=
"hljs-string"&gt;"Property"],
      : &lt;span class=
"hljs-string"&gt;"temperature",
      :{ &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"number" },
      : &lt;span class=
"hljs-literal"&gt;false,
      : &lt;span class=
"hljs-literal"&gt;true,
      : [{
         : &lt;span class=
"hljs-string"&gt;"coap://mytemp.example.com:5683/temp",
        : &lt;span class=
"hljs-string"&gt;"application/json"
      }]
    },
  ...
}
</del>
</a>
</h4>
<p>
<del class="diff-old">The
JSON-LD
representation
for
a
Property
interaction
definition
is
a
</del>
<ins class="diff-chg">A
</ins>
JSON
<del class="diff-old">object
of
which
the
fields
are
defined
below.
</del>
<ins class="diff-chg">array
specification
("type":
"array").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">@type
</del>
<code>
<ins class="diff-chg">items
</ins></code>
</td>
<td>
<del class="diff-old">array
</del>
<ins class="diff-chg">Used
to
define
the
characteristics
</ins>
of
<del class="diff-old">strings
</del>
<ins class="diff-chg">an
array.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">Gives
one
or
more
semantic
annotations
to
the
</del>
<a href="#dataschema">
<code>
<del class="diff-old">Property
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
<del class="diff-old">interaction.
The
array
MUST
start
with
a
string
"Property"
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">name
string
yes
</del>
<code>
<ins class="diff-chg">minItems
</ins></code>
</td>
<td>
<del class="diff-old">Name
</del>
<ins class="diff-chg">Defines
the
minimum
number
</ins>
of
<ins class="diff-new">items
that
have
to
be
in
</ins>
the
<del class="diff-old">Property
schema
</del>
<ins class="diff-chg">array.
</ins>
</td>
<td>
<del class="diff-old">object
</del>
<ins class="diff-chg">no
</ins>
</td>
<del class="diff-old">yes
</del>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<del class="diff-old">6.5
Type
System
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt">
<code>
<ins class="diff-chg">unsignedInt
</ins></code>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">writable
boolean
yes
a
property
is
writable
(=true)
or
not
(=false)
observable
boolean
yes
a
property
is
observable
(=true)
or
not
(=false)
form
</del>
<code>
<ins class="diff-chg">maxItems
</ins></code>
</td>
<td>
<del class="diff-old">array
</del>
<ins class="diff-chg">Defines
the
maximum
number
</ins>
of
<del class="diff-old">objects
</del>
<ins class="diff-chg">items
that
have
to
be
in
the
array.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<del class="diff-old">6.3
Form
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt">
<code>
<ins class="diff-chg">unsignedInt
</ins></code>
</a>
</td>
</tr>
</tbody>
</table>
<del class="diff-old">Each
field
in
Property
class
(see
5.2.3
Property
)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</del>
</section>
<section id="objectschema">
<h4 id="x5-3-3-objectschema">
<span class="secno">
<del class="diff-old">6.2.2
</del>
<ins class="diff-chg">5.3.3
</ins>
</span>
<del class="diff-old">Action
The
</del>
<code>
<del class="diff-old">Action
</del>
<ins class="diff-chg">ObjectSchema
</ins>
</code>
<del class="diff-old">interaction
pattern
(also
see
Action
vocabulary
definition
section
)
targets
changes
or
processes
on
a
Thing
that
take
a
certain
time
to
complete
(i.e.,
actions
cannot
be
applied
instantaneously
like
property
writes).
Examples
include
an
LED
fade
in,
moving
a
robot,
brewing
a
cup
of
coffee,
etc.
Usually,
ongoing
Actions
are
modeled
as
Task
resources,
which
are
created
when
an
Action
invocation
is
received
by
the
Thing.
</del>
<del class="diff-old">Example
7
</del>
<a class="self-link" aria-label="§" href= "#objectschema">
<del class="diff-old">{
  ...
  : [
    {
      : [&lt;span class=
"hljs-string"&gt;"Action"],
      : &lt;span class=
"hljs-string"&gt;"fadeIn",
      &lt;span class=
"hljs-string"&gt;"inputSchema" },
      : [{
           : &lt;span class=
"hljs-string"&gt;"coap://mytemp.example.com:5683/in",
          &lt;span class=
"hljs-string"&gt;"mediaType"
      }]
    }
  ]
  ...
}
</del>
</a>
</h4>
<p>
<del class="diff-old">JSON-LD
representation
for
an
Action
interaction
definition
is
a
</del>
<ins class="diff-chg">A
</ins>
JSON
object
<del class="diff-old">of
which
the
fields
are
defined
below.
</del>
<ins class="diff-chg">specification
("type":
"object").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">@type
</del>
<code>
<ins class="diff-chg">properties
</ins></code>
</td>
<td>
<del class="diff-old">array
of
strings
</del>
<ins class="diff-chg">Data
schema
nested
definitions.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">Gives
one
or
more
semantic
annotations
to
the
</del>
<a href="#dataschema">
<code>
<del class="diff-old">Action
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
<del class="diff-old">interaction.
The
array
MUST
start
with
a
string
"Action"
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">name
string
yes
</del>
<code>
<ins class="diff-chg">required
</ins></code>
</td>
<td>
<del class="diff-old">Name
</del>
<ins class="diff-chg">Defines
which
members
</ins>
of
the
<del class="diff-old">Action
outputSchema
</del>
object
<ins class="diff-new">type
are
mandatory.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<ins class="diff-chg">array
of
</ins><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<del class="diff-old">6.5
</del>
<code>
<ins class="diff-chg">string
</ins></code></a></td></tr></tbody></table></section><section id="booleanschema"><h4 id="x5-3-4-booleanschema"><span class="secno"><ins class="diff-chg">
5.3.4
</ins>
</span>
<del class="diff-old">Type
System
</del>
<code>
<ins class="diff-chg">BooleanSchema
</ins></code><a class="self-link" aria-label="§" href= "#booleanschema"></a></h4><p><ins class="diff-chg">
A
JSON
boolean
value
specification
("type":
"boolean").
</ins></p></section><section id="numberschema"><h4 id="x5-3-5-numberschema"><span class="secno"><ins class="diff-chg">
5.3.5
</ins>
</span>
<code>
<ins class="diff-new">NumberSchema
</ins></code><a class="self-link" aria-label="§" href= "#numberschema">
</a>
</h4>
<p>
<ins class="diff-chg">A
JSON
number
value
specification
("type":
"number").
</ins></p><table class="def"><thead><tr><th><ins class="diff-chg">
Field
Name
</ins></th><th><ins class="diff-chg">
Description
</ins></th><th><ins class="diff-chg">
Mandatory
</ins></th><th><ins class="diff-chg">
Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">inputSchema
</del>
<code>
<ins class="diff-chg">minimum
</ins></code>
</td>
<td>
<del class="diff-old">object
</del>
<ins class="diff-chg">Specifies
a
minimum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<del class="diff-old">6.5
Type
System
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double">
<code>
<ins class="diff-chg">double
</ins></code>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">form
</del>
<code>
<ins class="diff-chg">maximum
</ins></code>
</td>
<td>
<del class="diff-old">array
of
objects
</del>
<ins class="diff-chg">Specifies
a
maximum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<del class="diff-old">6.3
Form
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double">
<code>
<ins class="diff-chg">double
</ins></code>
</a>
</td>
</tr>
</tbody>
</table>
<del class="diff-old">Each
field
in
Action
class
(see
</del>
</section>
<section id="stringschema">
<h4 id="x5-3-6-stringschema">
<span class="secno">
<del class="diff-old">5.2.4
Action
</del>
<ins class="diff-chg">5.3.6
</ins>
</span>
<code>
<ins class="diff-new">StringSchema
</ins></code><a class="self-link" aria-label="§" href= "#stringschema">
</a>
<del class="diff-old">)
is
represented
by
the
namesake
</del>
</h4>
<p>
<ins class="diff-chg">A
</ins>
JSON
<del class="diff-old">field
described
in
the
above
table.
</del>
<ins class="diff-chg">string
value
specification
("type":
"string").
</ins>
</p>
</section>
<section id="integerschema">
<h4 id="x5-3-7-integerschema">
<span class="secno">
<del class="diff-old">6.2.3
</del>
<ins class="diff-chg">5.3.7
</ins>
</span>
<del class="diff-old">Event
The
</del>
<code>
<del class="diff-old">Event
interaction
pattern
(also
see
Event
vocabulary
definition
section
)
enables
a
mechanism
to
be
notified
by
a
Thing
on
a
certain
condition.
While
some
protocols
such
as
CoAP
can
provide
such
a
mechanism
natively,
others
do
not.
Furthermore,
Events
might
need
a
specific
configuration
that
requires
data
sent
and
stored
on
the
Thing
in
a
standard
way.
There
are
are
three
mandatory
terms
and
one
optional
term
defined
within
the
Event
</del>
<ins class="diff-chg">IntegerSchema
</ins>
</code>
<del class="diff-old">pattern:
</del>
<del class="diff-old">Example
8
</del>
<a class="self-link" aria-label="§" href= "#integerschema">
<del class="diff-old">{
  ...
  : [
    {
      : [&lt;span class=
"hljs-string"&gt;"Event"],
      : &lt;span class=
"hljs-string"&gt;"criticalCondition",
      :  { &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"string" },
      : [{
           : &lt;span class=
"hljs-string"&gt;"coap://mytemp.example.com:5683/ev",
          &lt;span class=
"hljs-string"&gt;"mediaType"
      }]
    }
  ]
  ...
}
</del>
</a>
</h4>
<p>
<del class="diff-old">The
JSON-LD
representation
for
an
Event
interaction
definition
is
a
</del>
<ins class="diff-chg">A
</ins>
JSON
<del class="diff-old">object
of
which
the
fields
are
defined
below.
</del>
<ins class="diff-chg">integer
value
specification,
that
is,
numbers
without
a
fractional
part
("type":
"integer").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">@type
array
of
strings
yes
Gives
one
or
more
semantic
annotations
to
the
</del>
<code>
<del class="diff-old">Event
</del>
<ins class="diff-chg">minimum
</ins>
</code>
<del class="diff-old">interaction.
The
array
MUST
start
with
a
string
"Event"
name
string
yes
Name
of
the
Event
</del>
</td>
<td>
<del class="diff-old">schema
</del>
<ins class="diff-chg">Specifies
a
minimum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</ins>
</td>
<td>
<del class="diff-old">object
</del>
<ins class="diff-chg">no
</ins>
</td>
<del class="diff-old">yes
</del>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<del class="diff-old">6.5
Type
System
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer">
<code>
<ins class="diff-chg">integer
</ins></code>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">form
</del>
<code>
<ins class="diff-chg">maximum
</ins></code>
</td>
<td>
<del class="diff-old">array
of
objects
</del>
<ins class="diff-chg">Specifies
a
maximum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">See
</del>
<del class="diff-old">6.3
Form
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer">
<code>
<ins class="diff-chg">integer
</ins></code>
</a>
</td>
</tr>
</tbody>
</table>
<del class="diff-old">Each
field
in
Event
class
(see
</del>
</section>
</section>
<section id="sec-security-vocabulary-definition">
<h3 id="x5-4-security-vocabulary-definition">
<del class="diff-old">5.2.5
Event
</del>
<span class= "secno">
<ins class="diff-chg">5.4
</ins>
</span>
<ins class="diff-new">Security
Vocabulary
Definition
</ins><a class= "self-link" aria-label="§" href= "#sec-security-vocabulary-definition">
</a>
<del class="diff-old">)
is
represented
by
the
namesake
JSON
field
described
in
the
above
table.
</del>
<del class="diff-old">6.3
Form
</del>
</h3>
<p>
<del class="diff-old">This
section
describes
JSON-LD
serialization
for
</del>
<ins class="diff-chg">For
</ins>
the
<del class="diff-old">instances
</del>
<ins class="diff-chg">core
TD
vocabulary
only
well-established
security
mechanisms
are
supported,
such
as
those
built
into
protocols
supported
by
WoT
or
already
in
wide
use
with
those
protocols.
The
current
set
</ins>
of
<del class="diff-old">the
5.2.7
Form
</del>
<ins class="diff-chg">HTTP
security
schemes
is
partly
based
on
</ins><a href= "https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#securitySchemeObject"><ins class="diff-chg">
OpenAPI
3.0.1
</ins></a><ins class="diff-chg">
(see
also
[
</ins><cite>
<a class="bibref" href= "#bib-openapi">
<ins class="diff-new">OPENAPI
</ins>
</a>
<del class="diff-old">class.
Shown
below
is
an
example
</del>
</cite>
<ins class="diff-chg">]).
Note
however
that
while
the
HTTP
security
schemes,
vocabulary
and
syntax
given
in
this
specification
share
many
similarities
with
OpenAPI
they
are
not
fully
compatible.
Also,
since
OpenAPI
primarily
targets
web
services
built
around
HTTP,
it
does
not
cover
the
full
set
</ins>
of
<del class="diff-old">a
form
definition.
</del>
<ins class="diff-chg">use
cases
required
for
the
IoT.
Security
schemes
appropriate
for
IoT-centered
protocols
such
as
CoAP
and
MQTT
are
therefore
also
included.
</ins>
</p>
<div class="ednote" id="issue-container-generatedID-5">
<div role="heading" class="ednote-title marker" id="h-ednote-4" aria-level="4">
<span>
<del class="diff-old">Example
9
</del>
<ins class="diff-chg">Editor's
note
</ins>
</span>
<del class="diff-old">&lt;span class=
"hljs-string"&gt;"form": [
  {
     : &lt;span class=
"hljs-string"&gt;"coap://mytemp.example.com:5683/temp",
    : &lt;span class=
"hljs-string"&gt;"application/json",
    : &lt;span class=
"hljs-string"&gt;"writeProperty"
  }
]
</del>
<span style= "text-transform: none">:
<ins class="diff-chg">Security
Scheme
Extensions
</ins></span>
</div>
<del class="diff-old">JSON-LD
representation
</del>
<p class="">
<ins class="diff-chg">The
vocabulary
extension
mechanism
of
the
WoT
Thing
Description
allows
for
additional
security
schemes
if
needed.However,
for
more
information
about
what
additional
security
schemes
or
modifications
are
under
discussion
</ins>
for
<del class="diff-old">a
web
form
definition
is
a
JSON
array
with
name
"form".
Each
item
in
</del>
the
<del class="diff-old">array
is
</del>
<ins class="diff-chg">core
WoT
vocabulary(and
to
file
issues
if
you
have
</ins>
a
<del class="diff-old">JSON
object
that
consists
of
two
JSON
fields
as
summarized
below.
</del>
<ins class="diff-chg">request)
please
visit
the
</ins><a href="https://github.com/w3c/wot-security"><ins class="diff-chg">
WoT
Security
TF
repository.
</ins></a>
</p>
</div>
<section id="securityscheme">
<h4 id="x5-4-1-securityscheme">
<span class="secno">
<ins class="diff-new">5.4.1
</ins></span><code><ins class="diff-new">
SecurityScheme
</ins></code><a class="self-link" aria-label="§" href="#securityscheme"></a></h4>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">href
</del>
<code>
<ins class="diff-chg">scheme
</ins></code>
</td>
<td>
<del class="diff-old">string
</del>
<ins class="diff-chg">Identification
of
security
mechanism
being
configured.
</ins>
</td>
<td>
yes
</td>
<td>.
</td>
<td>
<del class="diff-old">URI.
If
a
relative
URI
is
given
then
this
URI
is
relative
to
the
MUST
present
base
URI
(see
</del>
<del class="diff-old">6.1
Thing
as
a
Whole
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code>
</a>
<del class="diff-old">).
</del>
<p>
<ins class="diff-chg">(one
of
</ins><code><ins class="diff-chg">
"nosec"
</ins></code>,<code><ins class="diff-chg">
"basic"
</ins></code>,<code><ins class="diff-chg">
"cert"
</ins></code>,<code><ins class="diff-chg">
"digest"
</ins></code>,<code><ins class="diff-chg">
"bearer"
</ins></code>,<code><ins class="diff-chg">
"pop"
</ins></code>,<code><ins class="diff-chg">
"psk"
</ins></code>,<code><ins class="diff-chg">
"public"
</ins></code>,<code><ins class="diff-chg">
"oauth2"
</ins></code>,<ins class="diff-chg">
or
</ins><code><ins class="diff-chg">
"apikey"
</ins></code><ins class="diff-chg">
)
</ins></p>
</td>
</tr>
<tr>
<td>
<del class="diff-old">mediaType
</del>
<code>
<ins class="diff-chg">description
</ins></code>
</td>
<td>
<del class="diff-old">string
</del>
<ins class="diff-chg">Provides
additional
(human)
readable
information.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">Media
type
based
on
IANA
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code></a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">rel
</del>
<code>
<ins class="diff-chg">proxyUrl
</ins></code>
</td>
<td>
<del class="diff-old">string
</del>
<ins class="diff-chg">URI
of
the
proxy
server
this
security
configuration
provides
access
to.
If
not
given,
the
corresponding
security
configuration
is
for
the
endpoint.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">Provides
the
expected
result
of
performing
the
operation
described
by
the
form.
Check
[
</del>
<del class="diff-old">WOT-PROTOCOL-BINDING
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<del class="diff-old">]
for
detail
usage
of
</del>
<code>
<del class="diff-old">rel
.
</del>
<ins class="diff-chg">anyURI
</ins></code></a>
</td>
</tr>
</tbody>
</table>
<p>
The
<del class="diff-old">form
field
is
used
to
pointing
a
URI
to
an
instance
of
the
interaction
and
descriptions
of
the
protocol
settings
and
options
expected
to
be
used
between
the
client
and
server
for
the
interaction.
The
different
opportunities
of
</del>
<ins class="diff-chg">class
</ins><code><ins class="diff-chg">
SecurityScheme
</ins></code><ins class="diff-chg">
has
</ins>
the
<del class="diff-old">protocol
settings
(such
as
for
HTTP,
CoAP,
MQTT,
etc)
is
described
in
[
</del>
<ins class="diff-chg">following
subclasses:
</ins></p><ul><li>
<del class="diff-old">WOT-PROTOCOL-BINDING
</del>
<a href= "#certsecurityscheme">
<del class="diff-old">].
</del>
<code>
<ins class="diff-chg">CertSecurityScheme
</ins></code>
<del class="diff-old">6.4
Security
Shown
below
is
an
example
of
a
security
resource
definition.
</del>
</a>
<del class="diff-old">Example
10
</del>
</li>
<li>
<del class="diff-old">{
  ...
  : [{
    : &lt;span class=
"hljs-string"&gt;"token:jwt", 
    :&lt;span class=
"hljs-string"&gt;"HS256", 
    :&lt;span class=
"hljs-string"&gt;"https://authority-issuing.org"
  }],
  ...
}
</del>
<a href= "#apikeysecurityscheme">
<del class="diff-old">In
the
above
example,
a
JSON
Web
Token
(JWT)
type
is
assigned
(
cat
),
along
with
a
corresponding
hashing
algorithm
"HS256"
(
</del>
<code>
<del class="diff-old">alg
)
and
the
issuing
authority
of
the
security
token
(
as
</del>
<ins class="diff-chg">APIKeySecurityScheme
</ins>
</code>
<del class="diff-old">).
</del>
<del class="diff-old">Editor's
note
</del>
</a>
<del class="diff-old">Consider
the
need
for
a
context
definition
for
the
above
example.
</del>
</li>
<li>
<a href= "#basicsecurityscheme">
<del class="diff-old">6.5
Type
System
All
three
interaction
types,
Property
,
Action
,
and
Event
,
include
data
schema
definitions.
Instances
of
the
</del>
<code>
<del class="diff-old">Property
</del>
<ins class="diff-chg">BasicSecurityScheme
</ins>
</code>
<del class="diff-old">and
</del>
</a>
</li>
<li>
<a href= "#bearersecurityscheme">
<code>
<del class="diff-old">Event
</del>
<ins class="diff-chg">BearerSecurityScheme
</ins>
</code>
<del class="diff-old">interaction
types
each
must
define
only
one
schema
(i.e.
</del>
</a>
</li>
<li>
<a href= "#digestsecurityscheme">
<code>
<del class="diff-old">schema
</del>
<ins class="diff-chg">DigestSecurityScheme
</ins>
</code>
<del class="diff-old">field),
which
describes
the
data
they
expose,
while
instances
of
the
</del>
</a>
</li>
<li>
<a href= "#nosecurityscheme">
<code>
<del class="diff-old">Action
</del>
<ins class="diff-chg">NoSecurityScheme
</ins>
</code>
<del class="diff-old">interaction
type
can
define
different
schemas
for
inputs
(i.e.
</del>
</a>
</li>
<li>
<a href= "#oauth2securityscheme">
<code>
<del class="diff-old">inputSchema
</del>
<ins class="diff-chg">OAuth2SecurityScheme
</ins>
</code>
<del class="diff-old">)
and
outputs
(i.e.
</del>
</a>
</li>
<li>
<a href= "#psksecurityscheme">
<code>
<del class="diff-old">outputSchema
</del>
<ins class="diff-chg">PSKSecurityScheme
</ins>
</code>
<del class="diff-old">).
In
the
case
of
a
</del>
</a>
</li>
<li>
<a href= "#popsecurityscheme">
<code>
<del class="diff-old">Property
</del>
<ins class="diff-chg">PoPSecurityScheme
</ins>
</code>
<del class="diff-old">that
allows
for
an
update
operation,
the
input
data
and
the
output
data
are
defined
by
a
single
schema
(
</del>
</a>
</li>
<li>
<a href= "#publicsecurityscheme">
<code>
<del class="diff-old">schema
</del>
<ins class="diff-chg">PublicSecurityScheme
</ins>
</code>
<del class="diff-old">field).
In
this
section,
we
define
an
abstract
type
system
notation
based
on
JSON-LD
for
describing
the
structure
and
datatypes
for
values
of
interaction
types.
While
type
system
is
designed
to
be
compatible
with
JSON
schema
[
</del>
<del class="diff-old">JSON-SCHEMA-CORE
</del>
</a>
<del class="diff-old">]
[
</del>
</li>
</ul>
</section>
<section id="nosecurityscheme">
<h4 id="x5-4-2-nosecurityscheme">
<span class="secno">
<ins class="diff-chg">5.4.2
</ins></span><code><ins class="diff-chg">
NoSecurityScheme
</ins></code><a class="self-link" aria-label="§" href="#nosecurityscheme">
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
</a>
<del class="diff-old">],
it
is
intended
</del>
</h4>
<p>
<ins class="diff-chg">A
security
configuration
corresponding
</ins>
to
<del class="diff-old">be
encoding-neutral
and
integrates
into
the
Linked
Data
vocabularies
</del>
<ins class="diff-chg">("scheme":
"nosec"),
indicating
there
is
no
authentication
or
other
mechanism
required
</ins>
to
<del class="diff-old">allow
semantic
annotations.
It
can
not
only
be
directly
translated
into
JSON
schema,
but
also
can
be
handily
translated
into
XML
Schema.
Use
of
JSON-LD
equips
</del>
<ins class="diff-chg">access
</ins>
the
<del class="diff-old">type
system
with
a
way
to
associate
data
elements
with
citations
and
semantic
concepts
defined
elsewhere.
</del>
<ins class="diff-chg">resource.
</ins>
</p>
<del class="diff-old">6.5.1
Simple
Data
Definition
</del>
</section>
<section id="basicsecurityscheme">
<h4 id="x5-4-3-basicsecurityscheme">
<del class="diff-old">6.5.1.1
</del>
<span class= "secno">
<ins class="diff-chg">5.4.3
</ins>
</span>
<del class="diff-old">Simple
Types
Within
schema
,
</del>
<code>
<del class="diff-old">inputSchema
</del>
<ins class="diff-chg">BasicSecurityScheme
</ins>
</code>
<a class= "self-link" aria-label="§" href="#basicsecurityscheme">
</a>
</h4>
<p>
<ins class="diff-new">Basic
authentication
security
configuration
("scheme":
"basic"),
using
an
unencrypted
username
</ins>
and
<ins class="diff-new">password.
This
scheme
should
be
used
with
some
other
security
mechanism
providing
confidentiality,
for
example,
TLS.
</ins></p><table class="def"><thead><tr><th><ins class="diff-new">
Field
Name
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr><td>
<code>
<del class="diff-old">outputSchema
</del>
<ins class="diff-chg">in
</ins>
</code>
<del class="diff-old">fields,
simple
type
assignments
can
be
done
by
using
</del>
</td>
<td>
<ins class="diff-chg">Specifies
</ins>
the
<ins class="diff-new">location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins></td><td><ins class="diff-new">
no
</ins></td><td><ins class="diff-new">
header
</ins></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">string
</ins>
</code>
<del class="diff-old">field
that
specifies
one
of
the
datatypes
borrowed
from
[
</del>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
</a>
<del class="diff-old">].
Shown
below
is
an
example
of
an
interaction
snippet
that
carries
a
simple
type
definition
</del>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">number
</del>
<ins class="diff-chg">name
</ins>
</code>
<del class="diff-old">within
</del>
</td>
<td>
<ins class="diff-chg">Name
for
query,
header,
or
cookie
parameters.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">schema
.
</del>
<ins class="diff-chg">string
</ins></code>
<del class="diff-old">Example
11
</del>
</a>
<del class="diff-old">            &lt;span class=
"hljs-string"&gt;"schema": { &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;
"number"
</del>
</td>
</tr>
</tbody>
</table>
</section>
<section id="certsecurityscheme">
<h4 id="x5-4-4-certsecurityscheme">
<span class="secno">
<ins class="diff-chg">5.4.4
</ins>
</span>
<del class="diff-old">}
</del>
<code>
<ins class="diff-chg">CertSecurityScheme
</ins></code>
<a class="self-link" aria-label="§" href="#certsecurityscheme">
</a>
</h4>
<p>
<del class="diff-old">JSON-LD
representation
for
primitive
data
type
definition
is
a
JSON
object
of
which
the
field
is
defined
below.
</del>
<ins class="diff-chg">Certificate-base
asymmetric
key
security
configuration
("scheme":
"cert").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">type
</del>
<code>
<ins class="diff-chg">identity
</ins></code>
</td>
<td>
<del class="diff-old">string
</del>
<ins class="diff-chg">Pre-shared
key
identity.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">The
following
type
defintions
are
possible
for
simple
type
assignments:
boolean
integer
number
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
<del class="diff-old">null
</del>
</code>
</a>
</td>
</tr>
</tbody>
</table>
<del class="diff-old">These
type
constructs
are
in
parallel
to
those
that
are
available
in
JSON
schema.
Therefore,
serialization
of
data
exchanged
between
servients
is
straightforward
when
it
is
in
JSON
format.
</del>
</section>
<section id="digestsecurityscheme">
<h4 id="x5-4-5-digestsecurityscheme">
<del class="diff-old">6.5.1.2
</del>
<span class= "secno">
<ins class="diff-chg">5.4.5
</ins>
</span>
<del class="diff-old">Restrictions
</del>
<code>
<ins class="diff-chg">DigestSecurityScheme
</ins></code><a class= "self-link" aria-label="§" href="#digestsecurityscheme"></a></h4>
<p>
<del class="diff-old">In
order
</del>
<ins class="diff-chg">Digest
authentication
security
configuration
("scheme":
"digest").
This
scheme
is
similar
</ins>
to
<del class="diff-old">make
more
precise
data
type
defintions
the
TD
also
allows
the
usage
</del>
<ins class="diff-chg">basic
authentication
but
with
added
features
to
avoid
man-in-the-middle
attacks.
</ins></p><table class="def"><thead><tr><th><ins class="diff-chg">
Field
Name
</ins></th><th><ins class="diff-chg">
Description
</ins></th><th><ins class="diff-chg">
Mandatory
</ins></th><th><ins class="diff-chg">
Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins></th></tr></thead><tbody><tr><td><code><ins class="diff-chg">
qop
</ins></code></td><td><ins class="diff-chg">
Quality
</ins>
of
<del class="diff-old">restrication
terms
borrowed
from
[
</del>
<ins class="diff-chg">protection
(one
of
auth
or
auth-int).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><ins class="diff-chg">
auth
</ins></td><td>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<del class="diff-old">].
Consider
the
following
</del>
<code>
<del class="diff-old">schema
</del>
<ins class="diff-chg">string
</ins>
</code>
<del class="diff-old">definition
which
defines
the
value
to
be
an
</del>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">integer
</del>
<ins class="diff-chg">in
</ins>
</code>
<del class="diff-old">within
</del>
</td>
<td>
<ins class="diff-chg">Specifies
</ins>
the
<del class="diff-old">value
range
</del>
<ins class="diff-chg">location
</ins>
of
<del class="diff-old">[
0
...
255
].
</del>
<ins class="diff-chg">security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><ins class="diff-chg">
header
</ins></td><td>
<del class="diff-old">Example
12
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<del class="diff-old">            : { 
  : &lt;span class=
"hljs-string"&gt;"integer",
  : &lt;span class=
"hljs-number"&gt;0,
  : &lt;span class=
"hljs-number"&gt;255
}
</del>
<code>
<ins class="diff-chg">string
</ins></code>
<del class="diff-old">The
following
table
only
display
a
small
subset
of
the
restriction
terms
defined
in
JSON
Schema.
Please
check
[
</del>
</a>
</td>
</tr>
<tr>
<td>
<code>
<ins class="diff-chg">name
</ins></code></td><td><ins class="diff-chg">
Name
for
query,
header,
or
cookie
parameters.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
</a>
<del class="diff-old">]
</del>
</td>
</tr>
</tbody>
</table>
</section>
<section id="bearersecurityscheme">
<h4 id="x5-4-6-bearersecurityscheme">
<span class= "secno">
<ins class="diff-chg">5.4.6
</ins></span><code><ins class="diff-chg">
BearerSecurityScheme
</ins></code><a class= "self-link" aria-label="§" href="#bearersecurityscheme"></a></h4><p><ins class="diff-chg">
Bearer
token
authentication
security
configuration
("scheme":
"bearer").
This
scheme
is
intended
</ins>
for
<del class="diff-old">the
full
set
</del>
<ins class="diff-chg">situations
where
bearer
tokens
are
used
independently
</ins>
of
<del class="diff-old">restrictions.
</del>
<ins class="diff-chg">OAuth2.
If
the
oauth2
scheme
is
specified
it
is
not
generally
necessary
to
specify
this
scheme
as
well
as
it
is
implied.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">minimum
</del>
<code>
<ins class="diff-chg">authorizationUrl
</ins></code>
</td>
<td>
<del class="diff-old">number
</del>
<ins class="diff-chg">URI
of
the
authorization
server.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">Specifies
a
minimum
numeric
value.
Only
applicable
for
associated
number
or
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">integer
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
<del class="diff-old">types.
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">maximum
</del>
<code>
<ins class="diff-chg">alg
</ins></code>
</td>
<td>
<del class="diff-old">number
</del>
<ins class="diff-chg">Encoding,
encryption,
or
digest
algorithm
(one
of
MD5,
ES256,
or
ES512-256).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">Specifies
a
maximum
numeric
value.
Only
applicable
for
associated
number
or
</del>
<ins class="diff-chg">ES256
</ins></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">integer
</del>
<ins class="diff-chg">string
</ins>
</code>
<del class="diff-old">types.
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">minLength
</del>
<code>
<ins class="diff-chg">format
</ins></code>
</td>
<td>
<del class="diff-old">number
</del>
<ins class="diff-chg">Specifies
format
of
security
authentication
information
(one
of
jwt,
jwe,
or
jws).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">Minimum
length
of
the
string.
Only
applicable
for
associated
</del>
<ins class="diff-chg">jwt
</ins></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
<del class="diff-old">type.
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">maxLength
</del>
<code>
<ins class="diff-chg">in
</ins></code>
</td>
<td>
<del class="diff-old">number
</del>
<ins class="diff-chg">Specifies
the
location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">Maximum
length
of
the
string.
Only
applicable
for
associated
</del>
<ins class="diff-chg">header
</ins></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
<del class="diff-old">type.
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">const
</del>
<code>
<ins class="diff-chg">name
</ins></code>
</td>
<td>
<del class="diff-old">any
type
</del>
<ins class="diff-chg">Name
for
query,
header,
or
cookie
parameters.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">Provides
a
constand/default
value.
...
...
...
</del>
<td>.
</td>
<td>
<del class="diff-old">Check
[
</del>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code>
</a>
<del class="diff-old">]
for
further
type
restriction
terms.
</del>
</td>
</tr>
</tbody>
</table>
</section>
<section id="psksecurityscheme">
<h4 id="x5-4-7-psksecurityscheme">
<del class="diff-old">6.5.1.3
</del>
<span class="secno">
<ins class="diff-chg">5.4.7
</ins>
</span>
<del class="diff-old">Semantic
Annotation
Unlike
in
JSON
Schema,
the
TD
with
JSON-LD
serializiation
allows
a
semantic
annotation
of
data
members
of
the
types
by
using
the
@type
key.
The
example
below
comes
with
a
semantic
annotation
within
</del>
<code>
<del class="diff-old">inputSchema
</del>
<ins class="diff-chg">PSKSecurityScheme
</ins>
</code>
<del class="diff-old">to
privide
its
semantic
context
DimmerData
that
is
defined
in
the
</del>
<del class="diff-old">http://iotschema.org/
namespace.
Example
13
</del>
<a class="self-link" aria-label="§" href="#psksecurityscheme">
<del class="diff-old">{
  : [
    &lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-td-context.jsonld", 
    {: &lt;span class=
"hljs-string"&gt;"http://iotschema.org/"}
  ],
  ...
  : { 
    : &lt;span class=
"hljs-string"&gt;"integer",
    : [&lt;span class=
"hljs-string"&gt;"iot:DimmerData" ],
    : &lt;span class=
"hljs-number"&gt;0,
    : &lt;span class=
"hljs-number"&gt;255,
  },
  ...
}
</del>
</a>
</h4>
<p>
<del class="diff-old">JSON-LD
representation
for
semantic
annotation
of
simple
type
within
schema
,
inputSchema
and
outputSchema
fields
is
defined
below.
</del>
<ins class="diff-chg">Pre-shared
key
authentication
security
configuration
("scheme":
"psk").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">@type
</del>
<code>
<ins class="diff-chg">identity
</ins></code>
</td>
<td>
<del class="diff-old">array
of
strings
</del>
<ins class="diff-chg">Pre-shared
key
identity.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">Gives
one
or
more
semantic
annotations
to
the
data
member.
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code></a>
</td>
</tr>
</tbody>
</table>
<del class="diff-old">Editor's
note
ToDo:
Provide
information
about
JSON
Schema
validation
with
@type
.
</del>
</section>
<section id="publicsecurityscheme">
<h4 id="x5-4-8-publicsecurityscheme">
<span class= "secno">
<del class="diff-old">6.5.1.4
</del>
<ins class="diff-chg">5.4.8
</ins>
</span>
<del class="diff-old">Runtime
Data
Serializiation
Unless
otherwise
specified
in
the
</del>
<code>
<del class="diff-old">form
</del>
<ins class="diff-chg">PublicSecurityScheme
</ins>
</code>
<del class="diff-old">field
(also
see
[
</del>
<del class="diff-old">WOT-PROTOCOL-BINDING
</del>
<a class= "self-link" aria-label="§" href="#publicsecurityscheme">
</a>
<del class="diff-old">])
the
provided
schema
reflects
the
payload
structure
of
the
runtime
data
of
the
Property
,
Action
,
and
Event
.
</del>
</h4>
<p>
<del class="diff-old">Let's
consider
the
simple
data
type
defintion
as
shown
in
Example
11.
When
the
</del>
<ins class="diff-chg">Raw
public
key
asymmetric
key
security
configuration
("scheme":
"public").
</ins></p><table class="def"><thead><tr><th><ins class="diff-chg">
Field
Name
</ins></th><th><ins class="diff-chg">
Description
</ins></th><th><ins class="diff-chg">
Mandatory
</ins></th><th><ins class="diff-chg">
Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins></th></tr></thead><tbody><tr><td>
<code>
<del class="diff-old">integer
</del>
<ins class="diff-chg">identity
</ins>
</code>
<del class="diff-old">being
exchanged
is
184,
data
serialization
in
JSON
format
will
look
like
the
following:
</del>
<del class="diff-old">Example
14
</del>
</td>
<td>
<ins class="diff-chg">Pre-shared
key
identity.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td>
<del class="diff-old">184
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<del class="diff-old">The
snippet
in
the
above
example
is
a
valid
JSON
document
according
to
the
syntax
defined
in
[
</del>
<code>
<ins class="diff-chg">string
</ins></code>
<del class="diff-old">RFC7159
</del>
</a>
<del class="diff-old">],
which
allows
sending
simple
types
in
the
root
of
the
document.
There
is
no
need
for
wrapping
a
single
value
into
an
object.
The
same
data
(i.e.
a
number
equal
to
184)
will
look
like
the
following
when
the
data
is
exchanged
in
XML.
Example
15
</del>
</td>
</tr>
</tbody>
</table>
</section>
<section id="oauth2securityscheme">
<h4 id="x5-4-9-oauth2securityscheme">
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;integer184&lt;span class=
"hljs-tag"&gt;&lt;/&lt;span class=
"hljs-name"&gt;
integer
&gt;
</del>
<span class= "secno">
<ins class="diff-chg">5.4.9
</ins>
</span>
<code>
<ins class="diff-new">OAuth2SecurityScheme
</ins></code>
<a class= "self-link" aria-label="§" href="#oauth2securityscheme">
</a>
<del class="diff-old">6.5.2
Structured
Data
Definition
</del>
</h4>
<p>
<del class="diff-old">With
</del>
<ins class="diff-chg">OAuth2
authentication
security
configuration
("scheme":
"oauth2").
For
</ins>
the
<del class="diff-old">type
system,
it
is
also
possible
to
define
value
types
that
have
more
than
one
literal
value.
The
type
system
provides
two
distinct
constructs
to
define
a
structure
that
can
have
multiple
literal
values.
One
is
</del>
<ins class="diff-chg">implicit
flow
</ins>
the
<del class="diff-old">object
,
</del>
<ins class="diff-chg">authorizationUrl
</ins>
and
<ins class="diff-new">scopes
are
required.
For
</ins>
the
<del class="diff-old">other
one
is
the
array
.
Both
object
</del>
<ins class="diff-chg">password
</ins>
and
<del class="diff-old">array
</del>
<ins class="diff-chg">client
flows
both
tokenUrl
and
scopes
</ins>
are
<del class="diff-old">assigned
as
</del>
<ins class="diff-chg">required.
For
</ins>
the
<ins class="diff-new">code
flow
authorizationUrl,
tokenUrl,
and
scopes
are
required.
</ins></p><table class="def"><thead><tr><th><ins class="diff-new">
Field
Name
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
</ins>
value
<del class="diff-old">of
</del>
</th>
<th>
<ins class="diff-chg">Type
</ins></th></tr></thead><tbody><tr><td>
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">authorizationUrl
</ins>
</code>
<del class="diff-old">field
in
order
to
indicate
the
use
of
those
constructs.
</del>
<del class="diff-old">6.5.2.1
Object
In
order
to
avoid
duplicate
key
definitions
with
different
meanings
in
</del>
</td>
<td>
<ins class="diff-chg">URI
of
</ins>
the
<del class="diff-old">context
documents,
</del>
<ins class="diff-chg">authorization
server.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
<del class="diff-old">definitions
take
a
form
that
is
slightly
different
from
that
of
[
</del>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
</a>
<del class="diff-old">].
The
following
highlights
the
differences.
TD
uses
a
JSON
array
with
a
name
</del>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">field
</del>
<ins class="diff-chg">tokenUrl
</ins>
</code>
<del class="diff-old">instead
of
JSON
Schema's
properties
</del>
</td>
<td>
<ins class="diff-chg">URI
</ins>
of
<del class="diff-old">a
JSON
object
Each
object
in
a
</del>
<ins class="diff-chg">the
token
server.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">field
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
<del class="diff-old">array
must
contain
the
key
</del>
</a>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">refreshUrl
</ins>
</code>
<del class="diff-old">(corresponding
to
the
field
name
</del>
</td>
<td>
<ins class="diff-chg">URI
</ins>
of
the
<del class="diff-old">specified
JSON
object),
and
</del>
<ins class="diff-chg">refresh
server.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">schema
,
whose
value
must
be
a
data
schema
as
specified
in
the
present
section
(recursive
definition)
The
following
example
shows
a
Thing
Description
</del>
<ins class="diff-chg">anyURI
</ins></code></a></td></tr><tr><td>
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">scopes
</ins>
</code>
<del class="diff-old">definiton
using
JSON-LD
serializiation,
</del>
</td>
<td>
<ins class="diff-chg">Set
of
authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
</ins>
in
<del class="diff-old">comparison
with
</del>
<ins class="diff-chg">tokens
returned
by
</ins>
an
<del class="diff-old">equivalent
JSON
Schema
object
definition.
TD
</del>
<ins class="diff-chg">authorization
server
and
associated
</ins>
with
<del class="diff-old">JSON-LD
object
definition
JSON
Schema
</del>
<ins class="diff-chg">forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">string
</ins>
</code>
<del class="diff-old">definition
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">Example
16
</del>
<del class="diff-old">{
    : &lt;span class=
"hljs-string"&gt;"object",
    : [{
        : &lt;span class=
"hljs-string"&gt;"id",
        : {
            : &lt;span class=
"hljs-string"&gt;"integer"
        }
    }],
    : [&lt;span class=
"hljs-string"&gt;"id"]
}
</del>
<code>
<ins class="diff-chg">flow
</ins></code>
</td>
<td>
<ins class="diff-chg">Authorization
flow
(one
of
implicit,
password,
client,
or
code).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><ins class="diff-chg">
implicit
</ins></td><td>
<del class="diff-old">Example
17
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<del class="diff-old">{
    : &lt;span class=
"hljs-string"&gt;"object",
    : {
        : {&lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"integer"}
    },
    : [&lt;span class=
"hljs-string"&gt;"id"]
}
</del>
<code>
<ins class="diff-chg">string
</ins></code></a>
</td>
</tr>
</tbody>
</table>
<del class="diff-old">The
following
is
an
example
inputSchema
definition
that
declares
the
value
to
be
an
object
consisting
of
two
named
literals
brightness
(of
type
integer
)
and
name
(of
type
string
)
where
</del>
</section>
<section id="apikeysecurityscheme">
<h4 id="x5-4-10-apikeysecurityscheme">
<span class= "secno">
<ins class="diff-chg">5.4.10
</ins></span>
<code>
<del class="diff-old">brightness
</del>
<ins class="diff-chg">APIKeySecurityScheme
</ins>
</code>
<del class="diff-old">is
required
to
be
present.
</del>
<del class="diff-old">Example
18
</del>
<a class= "self-link" aria-label="§" href="#apikeysecurityscheme">
<del class="diff-old">            : {
    : &lt;span class=
"hljs-string"&gt;"object",
    : [
        {
            : &lt;span class=
"hljs-string"&gt;"brightness",
            : {
                &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"integer",
                &lt;span class=
"hljs-string"&gt;"@type": [&lt;span class=
"hljs-string"&gt;"iot:DimmerData"],
                &lt;span class=
"hljs-string"&gt;"minimum",
                &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;255
            }
        },
        {
            : &lt;span class=
"hljs-string"&gt;"name",
            : {
              : &lt;span class=
"hljs-string"&gt;"string"
            }
        }
    ],
    : [&lt;span class=
"hljs-string"&gt;"brightness"]
}
</del>
</a>
</h4>
<p>
<del class="diff-old">JSON-LD
representation
</del>
<ins class="diff-chg">API
key
authentication
security
configuration
("scheme":
"apikey").
This
is
</ins>
for
<del class="diff-old">object
data
type
definition
</del>
<ins class="diff-chg">the
case
where
the
access
token
</ins>
is
<ins class="diff-new">opaque
and
is
not
using
</ins>
a
<del class="diff-old">JSON
object
with
terms
as
defined
below.
</del>
<ins class="diff-chg">standard
token
format.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">type
string
yes
"object"
has
to
be
assigned
to
</del>
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">in
</ins>
</code>
<del class="diff-old">for
object
declaration.
</del>
</td>
<td>
<del class="diff-old">field
</del>
<ins class="diff-chg">Specifies
the
location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins>
</td>
<td>
<del class="diff-old">array
of
objects
</del>
<ins class="diff-chg">no
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">query
</ins>
</td>
<td>
<del class="diff-old">Each
array
entry
defines
within
the
object
one
member
of
the
structure
by
its
name
(as
string)
schema
(as
defined
in
Simple
Data
Definition
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code>
</a>
<del class="diff-old">)
</del>
</td>
</tr>
<tr>
<td>
<del class="diff-old">required
</del>
<code>
<ins class="diff-chg">name
</ins></code>
</td>
<td>
<del class="diff-old">array
of
strings
</del>
<ins class="diff-chg">Name
for
query,
header,
or
cookie
parameters.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">Defines
which
members
(associated
by
member's
name
)
that
are
defined
within
the
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">field
</del>
<ins class="diff-chg">string
</ins>
</code>
<del class="diff-old">are
mandatory
or
not
in
an
instance.
</del>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="popsecurityscheme">
<h4 id="x5-4-11-popsecurityscheme">
<del class="diff-old">6.5.2.2
</del>
<span class= "secno">
<ins class="diff-chg">5.4.11
</ins>
</span>
<del class="diff-old">Array
Arrays
follow
again
the
same
convention
as
defined
in
[
JSON-SCHEMA-VALIDATION
].
The
following
is
an
example
value
type
definition
that
defines
the
value
to
be
an
</del>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">PoPSecurityScheme
</ins>
</code>
<del class="diff-old">that
consists
of
exactly
three
number
literals
with
each
value
within
the
range
of
[
0
...
2047
].
</del>
<del class="diff-old">Example
19
</del>
<a class= "self-link" aria-label="§" href="#popsecurityscheme">
<del class="diff-old">            : {
    : &lt;span class=
"hljs-string"&gt;"array",
    : {
          : &lt;span class=
"hljs-string"&gt;"number",
         : &lt;span class=
"hljs-number"&gt;0,
         : &lt;span class=
"hljs-number"&gt;2047
    },
     : &lt;span class=
"hljs-number"&gt;3,
     : &lt;span class=
"hljs-number"&gt;3
}
</del>
</a>
</h4>
<p>
<del class="diff-old">JSON-LD
representation
for
array
type
definition
is
a
JSON
object
with
terms
as
defined
below.
</del>
<ins class="diff-chg">Proof-of-possession
token
authentication
security
configuration
("scheme":
"pop").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
Field
Name
</th>
<th>
<del class="diff-old">JSON
Construct
</del>
<ins class="diff-chg">Description
</ins>
</th>
<th>
Mandatory
</th>
<th>
<del class="diff-old">Description
</del>
<ins class="diff-chg">Default
value
</ins></th><th><ins class="diff-chg">
Type
</ins>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<del class="diff-old">type
</del>
<code>
<ins class="diff-chg">authorizationUrl
</ins></code>
</td>
<td>
<del class="diff-old">string
</del>
<ins class="diff-chg">URI
of
the
authorization
server.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">"array"
has
to
be
assigned
to
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
<del class="diff-old">for
array
declaration.
</del>
</a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">items
</del>
<code>
<ins class="diff-chg">alg
</ins></code>
</td>
<td>
<del class="diff-old">object
</del>
<ins class="diff-chg">Encoding,
encryption,
or
digest
algorithm
(one
of
MD5,
ES256,
or
ES512-256).
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins></td><td><ins class="diff-chg">
ES256
</ins>
</td>
<td>
<del class="diff-old">Defines
characteristics
of
the
array
items
by
its
underlying
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">string
</ins>
</code>
<del class="diff-old">(assignment
as
defined
in
Simple
Types
or
Structured
Data
Definition
)
(optional)
one
or
more
type
restrictions
(as
defined
in
Restriction
</del>
</a>
<del class="diff-old">)
</del>
</td>
</tr>
<tr>
<td>
<del class="diff-old">minItems
</del>
<code>
<ins class="diff-chg">format
</ins></code>
</td>
<td>
<del class="diff-old">integer
</del>
<ins class="diff-chg">Specifies
format
of
security
authentication
information
(one
of
jwt,
jwe,
or
jws).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">Defines
the
minimum
number
of
itmes
that
have
to
be
in
the
array.
</del>
<ins class="diff-chg">jwt
</ins></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a>
</td>
</tr>
<tr>
<td>
<del class="diff-old">maxItems
</del>
<code>
<ins class="diff-chg">in
</ins></code>
</td>
<td>
<del class="diff-old">integer
</del>
<ins class="diff-chg">Specifies
the
location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">Defines
the
maximum
number
of
itmes
that
the
array
can
provide.
</del>
<ins class="diff-chg">header
</ins></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a>
</td>
</tr>
<tr>
<del class="diff-old">...
</del>
<td>
<code>
<ins class="diff-chg">name
</ins></code>
</td>
<del class="diff-old">...
</del>
<td>
<ins class="diff-chg">Name
for
query,
header,
or
cookie
parameters.
</ins>
</td>
<del class="diff-old">...
</del>
<td>
<ins class="diff-chg">no
</ins></td><td>.
</td>
<td>
<del class="diff-old">Check
[
</del>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<ins class="diff-chg">string
</ins></code>
</a>
<del class="diff-old">]
for
further
array
restriction
terms.
</del>
</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="sec-td-serialization">
<h2 id="x6-thing-description-serialization">
<span class= "secno">
<del class="diff-old">6.5.2.3
</del>
<ins class="diff-chg">6.
</ins>
</span>
<del class="diff-old">Runtime
Data
Serializiation
In
</del>
<ins class="diff-chg">Thing
Description
Serialization
</ins><a class= "self-link" aria-label="§" href="#sec-td-serialization"></a></h2><div class="ednote" id="issue-container-generatedID-6"><div role="heading" class="ednote-title marker" id="h-ednote-5" aria-level="3"><span><ins class="diff-chg">
Editor's
note
</ins></span><span style= "text-transform: none">:<ins class="diff-chg">
JSON-LD
1.1
</ins></span></div><p class=""><ins class="diff-chg">
This
is
</ins>
the
<del class="diff-old">case
</del>
<ins class="diff-chg">first
draft
that
uses
JSON-LD
1.1
as
a
serialization
format
</ins>
of
<del class="diff-old">an
object-based
schema
decleration
</del>
the
<del class="diff-old">expected
instance
</del>
<ins class="diff-chg">Thing
Description.
As
that
</ins>
is
<del class="diff-old">straightforward
and
similar
handling
</del>
<ins class="diff-chg">work
in
progress,
working
assumptions
are
based
on
the
latest
</ins><a href= "https://json-ld.org/spec/latest/json-ld/#"><ins class="diff-chg">
Community
Draft
of
JSON-LD
1.1
</ins></a>.<ins class="diff-chg">
A
new
JSON-LD
Working
Group
has
already
been
</ins><a href= "https://www.w3.org/2018/03/jsonld-wg-charter.html"><ins class="diff-chg">
chartered
</ins></a>.<ins class="diff-chg">
It
is
planned
that
this
section
will
conform
</ins>
to
<del class="diff-old">JSON
Schema
</del>
<ins class="diff-chg">the
latest
working
draft
of
their
JSON-LD
1.1
deliverable
and
only
use
stable
elements.
</ins></p></div><p><ins class="diff-chg">
Thing
Description
instances
are
modeled
</ins>
and
<ins class="diff-new">structured
based
on
Section
</ins><a href="#sec-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-new">
5.
</ins></span><span class= "sec-title"><ins class="diff-new">
Information
Model
</ins></span></a>.<ins class="diff-new">
This
section
defines
a
TD
serialization
based
on
</ins>
JSON
<del class="diff-old">instances.
Let's
consider
Example
18:
When
</del>
<ins class="diff-chg">[
</ins><cite><a class="bibref" href= "#bib-rfc8259"><ins class="diff-chg">
RFC8259
</ins></a></cite><ins class="diff-chg">
].
</ins></p><section id="json-serializiation-section"><h3 id="x6-1-representation-format"><span class="secno"><ins class="diff-chg">
6.1
</ins></span><ins class="diff-chg">
Representation
Format
</ins><a class="self-link" aria-label="§" href= "#json-serializiation-section"></a></h3><p><ins class="diff-chg">
The
JSON
serialization
of
TDs
follows
</ins>
the
<ins class="diff-new">syntax
of
JSON-LD
1.1
in
order
to
streamline
semantic
evaluation.
Hence,
serializations
can
be
parsed
either
as
raw
JSON
or
with
a
JSON-LD
1.1
processor.
</ins></p><p><ins class="diff-new">
In
order
to
enable
this
convergence,
all
vocabulary
terms
defined
in
Section
</ins><a href="#sec-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-new">
5.
</ins></span><span class= "sec-title"><ins class="diff-new">
Information
Model
</ins></span></a><ins class="diff-new">
will
have
a
JSON
key
representation.
</ins></p><p><ins class="diff-new">
In
addition,
</ins><span class="rfc2119-assertion" id= "td-jsonld-keywords"><ins class="diff-new">
Thing
Description
instances
</ins><em class= "rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
contain
JSON-LD
1.1
keywords
such
as
</ins>
<code>
<del class="diff-old">brightness
</del>
<ins class="diff-chg">@context
</ins>
</code>
<del class="diff-old">number
</del>
and
<del class="diff-old">the
</del>
<code>
<del class="diff-old">name
string
values
being
exchanged
</del>
<ins class="diff-chg">@type
</ins></code>.</span></p><p><ins class="diff-chg">
The
data
types
of
the
vocabulary
as
defined
in
Section
</ins><a href= "#sec-data-schema-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-chg">
5.3
</ins></span><span class= "sec-title"><ins class="diff-chg">
Data
Schema
Vocabulary
Definition
</ins></span></a><ins class="diff-chg">
will
be
transformed
to
JSON-based
types.
The
following
rules
</ins>
are
<del class="diff-old">200
</del>
<ins class="diff-chg">used
for
vocabulary
terms
based
on
some
simple
type
definitions:
</ins></p><ul><li><span class="rfc2119-assertion" id="td-string-type"><ins class="diff-chg">
Vocabulary
terms
that
use
simple
types
string
</ins>
and
<del class="diff-old">"Web
of
Things",
data
serialization
</del>
<ins class="diff-chg">anyURI
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
JSON
string.
</ins></span></li><li><span class="rfc2119-assertion" id="td-integer-type"><ins class="diff-chg">
Vocabulary
terms
that
use
simple
type
unsignedInt
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
JSON
integer.
</ins></span></li><li><span class="rfc2119-assertion" id="td-number-type"><ins class="diff-chg">
Vocabulary
terms
that
use
simple
type
double
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
JSON
number.
</ins></span></li></ul><p><ins class="diff-chg">
All
vocabulary
terms
</ins>
in
<ins class="diff-new">Section
</ins><a href= "#sec-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-new">
5.
</ins></span><span class="sec-title"><ins class="diff-new">
Information
Model
</ins></span></a><ins class="diff-new">
associated
with
more
complex
class-based
types
are
defined
separately
for
structured
</ins>
JSON
<del class="diff-old">format
will
look
like
</del>
<ins class="diff-chg">type
transformation
in
</ins>
the
<del class="diff-old">following.
</del>
<ins class="diff-chg">following
subsections.
</ins>
</p>
<section id="sec-thing-as-a-whole-json">
<h4 id="x6-1-1-thing-as-a-whole">
<del class="diff-old">Example
20
</del>
<span class="secno">
<ins class="diff-chg">6.1.1
</ins>
</span>
<ins class="diff-new">Thing
as
a
whole
</ins><a class="self-link" aria-label="§" href= "#sec-thing-as-a-whole-json">
<del class="diff-old">{
  : &lt;span class=
"hljs-number"&gt;200,
  : &lt;span class=
"hljs-string"&gt;"Web of Things"
}
</del>
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-context">
The
<del class="diff-old">above
data
will
look
</del>
<ins class="diff-chg">root
object
of
a
Thing
Description
instance
</ins><em class="rfc2119" title= "MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
include
</ins>
the
<del class="diff-old">following
when
</del>
<code>
<ins class="diff-chg">@context
</ins></code><ins class="diff-chg">
key
from
JSON-LD
1.1
with
</ins>
the
<del class="diff-old">data
is
exchanged
in
XML.
</del>
<ins class="diff-chg">value
URI
of
the
Thing
description
context
file
</ins><code><ins class="diff-chg">
http://www.w3.org/ns/td
</ins></code>.</span>
</p>
<div class="example" id= "ex-3-example-3-context-http-www-w3-org-ns-td">
<div class="marker">
<a class="self-link" href= "#ex-3-example-3-context-http-www-w3-org-ns-td">
Example
<del class="diff-old">21
</del>
<ins class="diff-chg">3
</ins></a></div><pre class="hljs javascript" aria-busy="false">{      <span class="hljs-string">"@context"</span>: <span class=<ins class="diff-chg">
"hljs-string">"http://www.w3.org/ns/td"</span>,
    ...
}
</ins></pre></div><div class="ednote" id="issue-container-generatedID-7"><div role="heading" class="ednote-title marker" id="h-ednote-6" aria-level="5"><span><ins class="diff-chg">
Editor's
note
</ins>
</span>
</div>
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;
  &lt;&lt;span class=
"hljs-name"&gt;id
    &lt;&lt;span class=
"hljs-name"&gt;integer200&lt;span class=
"hljs-tag"&gt;&lt;/
  &lt;/&lt;span class=
"hljs-name"&gt;id
  &lt;&lt;span class=
"hljs-name"&gt;name
    &lt;&lt;span class=
"hljs-name"&gt;stringWeb of Things&lt;span class=
"hljs-tag"&gt;&lt;/
  &lt;/&lt;span class=
"hljs-name"&gt;name
&lt;/&lt;span class=
"hljs-name"&gt;
object
</del>
<p class="">
<code>
<ins class="diff-chg">http://www.w3.org/ns/td
</ins></code><ins class="diff-chg">
uses
content
negotiation
to
return
the
context
file.
Thus,
it
must
be
fetched
with
an
</ins><code><ins class="diff-chg">
Accept
</ins></code><ins class="diff-chg">
header
set
to
</ins><code><ins class="diff-chg">
application/ld+json
</ins></code>.</p></div><p><span class="rfc2119-assertion" id="td-context-jsonld"><ins class="diff-chg">
When
a
Thing
Description
instance
is
processed
and
interpreted
by
a
JSON-LD
1.1
processor
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
field
</ins><em class= "rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
present
</ins>
</span>
<del class="diff-old">&gt;
</del>
<ins class="diff-chg">(see
also
Section
</ins><a href="#note-jsonld-processing" class="sec-ref"><ins class="diff-chg">
JSON-LD
1.1
Processing
</ins></a><ins class="diff-chg">
).
</ins></p><p><span class="rfc2119-assertion" id="td-additional-contexts"><ins class="diff-chg">
When
a
single
Thing
Description
instance
involves
several
contexts,
additional
namespaces
with
prefixes
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
appended
to
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
array
structure.
</ins>
</span>
<ins class="diff-new">This
option
proves
relevant
if
one
wants
to
extend
the
existing
Thing
Description
context
without
modifying
it.
For
instance:
</ins></p><div class="example" id= "ex-4-example-4-context-http-www-w3-org-ns-td-iot-http-iotschema-org"><div class="marker"><a class="self-link" href= "#ex-4-example-4-context-http-www-w3-org-ns-td-iot-http-iotschema-org"><ins class="diff-new">
Example
4
</ins></a>
</div>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"@context"</span>: [<span class=
<ins class="diff-new">"hljs-string">"http://www.w3.org/ns/td"</span>,
                {<span class=
"hljs-string">"iot"</span>: <span class=
"hljs-string">"http://iotschema.org/"</span>}],
    ...
}
</ins>
</pre>
</div>
<p>
<del class="diff-old">In
both
JSON
</del>
<span class="rfc2119-assertion" id="td-context-toplevel">
<ins class="diff-chg">Each
mandatory
</ins>
and
<del class="diff-old">XML
serialization,
values
can
appear
in
any
order
regardless
of
the
order
used
</del>
<ins class="diff-chg">optional
field
name
as
defined
</ins>
in
the
<ins class="diff-new">class
</ins><a href= "#thing" class="sec-ref">
<code>
<del class="diff-old">field
</del>
<ins class="diff-chg">Thing
</ins>
</code>
<del class="diff-old">definition
of
</del>
</a>
<em class="rfc2119" title="MUST">
<ins class="diff-chg">MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
key
in
</ins>
the
<ins class="diff-chg">root
</ins>
object
<del class="diff-old">.
</del>
<ins class="diff-chg">of
the
Thing
Description
instance.
</ins></span>
</p>
<p>
<del class="diff-old">In
the
case
</del>
<span class="rfc2119-assertion" id="td-objects">
<ins class="diff-chg">The
type
</ins>
of
<del class="diff-old">an
array
decleration
there
is
</del>
the
<del class="diff-old">same
bahavior
from
JSON
Schema
</del>
<ins class="diff-chg">fields
</ins><code><ins class="diff-chg">
properties
</ins></code>,<code><ins class="diff-chg">
actions
</ins></code>,
and
<code>
<ins class="diff-new">events
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
a
</ins>
JSON
<del class="diff-old">instances.
Let's
consider
Example
19:
When
</del>
<ins class="diff-chg">object.
</ins></span></p><p><span class="rfc2119-assertion" id="td-arrays"><ins class="diff-chg">
The
type
of
</ins>
the
<del class="diff-old">numbers
being
exchanged
are
520,
184
</del>
<ins class="diff-chg">fields
</ins><code><ins class="diff-chg">
links
</ins></code>,<code><ins class="diff-chg">
scopes
</ins></code>,
and
<del class="diff-old">1314,
data
serialization
in
</del>
<code>
<ins class="diff-chg">security
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
a
</ins>
JSON
<del class="diff-old">format
will
look
like
</del>
<ins class="diff-chg">array.
</ins></span></p><p><ins class="diff-chg">
A
TD
snippet
based
on
</ins>
the
<del class="diff-old">following.
</del>
<ins class="diff-chg">defined
fields
of
the
class
</ins><a href= "#thing" class="sec-ref"><code><ins class="diff-chg">
Thing
</ins></code></a><ins class="diff-chg">
without
the
optional
field
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
is
given
below:
</ins>
</p>
<div class="example" id= "ex-5-example-5-id-urn-dev-wot-com-example-servient-mything-name-mything-description-additional-human-readable-information-of-the-thing-support-https-servient-example-com-contact-security-base-https-servient-example-com-properties-actions-events-links">
<div class="marker">
<a class="self-link" href= "#ex-5-example-5-id-urn-dev-wot-com-example-servient-mything-name-mything-description-additional-human-readable-information-of-the-thing-support-https-servient-example-com-contact-security-base-https-servient-example-com-properties-actions-events-links">
Example
<del class="diff-old">22
</del>
<ins class="diff-chg">5
</ins></a>
</div>
<del class="diff-old">[
  ,
  ,
  
]
</del>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"id"</span>: <span class=
<ins class="diff-chg">"hljs-string">"urn:dev:wot:com:example:servient:myThing"</span>,
</ins>    <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyThing"</span>,
</ins>    <span class="hljs-string">"description"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Additional (human) readable information of the Thing."</span>,
</ins>    <span class="hljs-string">"support"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://servient.example.com/contact"</span>,
</ins>    <span class="hljs-string">"security"</span>: [...],    <span class="hljs-string">"base"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://servient.example.com/"</span>,
</ins>    <span class="hljs-string">"properties"</span>: {...},    <span class="hljs-string">"actions"</span>: {...},    <span class="hljs-string">"events"</span>: {...},    <span class="hljs-string">"links"</span>: [...]<ins class="diff-chg">
}
</ins>
</pre>
</div>
<p>
<del class="diff-old">The
above
data
will
look
</del>
<ins class="diff-chg">Alternatively,
</ins>
the
<del class="diff-old">following
when
</del>
<ins class="diff-chg">same
example
can
be
written
instead
to
explicitly
include
</ins>
the
<del class="diff-old">data
is
exchanged
in
XML.
</del>
<ins class="diff-chg">(semantic)
keys
used
by
JSON-LD
1.1
(
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
@type
</ins></code><ins class="diff-chg">
):
</ins>
</p>
<div class="example" id= "ex-6-example-6-context-http-www-w3-org-ns-td-type-thing-id-urn-dev-wot-com-example-servient-mything-name-mything-description-additional-human-readable-information-of-the-thing-support-https-servient-example-com-contact-security-base-https-servient-example-com-properties-actions-events-links">
<div class="marker">
<a class="self-link" href= "#ex-6-example-6-context-http-www-w3-org-ns-td-type-thing-id-urn-dev-wot-com-example-servient-mything-name-mything-description-additional-human-readable-information-of-the-thing-support-https-servient-example-com-contact-security-base-https-servient-example-com-properties-actions-events-links">
Example
<del class="diff-old">23
</del>
<ins class="diff-chg">6
</ins></a>
</div>
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;
  &lt;&lt;span class=
"hljs-name"&gt;number520&lt;span class=
"hljs-tag"&gt;&lt;/
  &lt;&lt;span class=
"hljs-name"&gt;number184&lt;span class=
"hljs-tag"&gt;&lt;/
  &lt;&lt;span class=
"hljs-name"&gt;number1314&lt;span class=
"hljs-tag"&gt;&lt;/
&lt;/&lt;span class=
"hljs-name"&gt;
array
&gt;
</del>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"@context"</span>: <span class=
<ins class="diff-chg">"hljs-string">"http://www.w3.org/ns/td"</span>,
</ins>    <span class="hljs-string">"@type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Thing"</span>,
</ins>    <span class="hljs-string">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:myThing"</span>,
</ins>    <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyThing"</span>,
</ins>    <span class="hljs-string">"description"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Additional (human) readable information of the Thing."</span>,
</ins>    <span class="hljs-string">"support"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://servient.example.com/contact"</span>,
</ins>    <span class="hljs-string">"security"</span>: [...],    <span class="hljs-string">"base"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://servient.example.com/"</span>,
</ins>    <span class="hljs-string">"properties"</span>: {...},    <span class="hljs-string">"actions"</span>: {...},    <span class="hljs-string">"events"</span>: {...},    <span class="hljs-string">"links"</span>: [...]<ins class="diff-chg">
}
</ins>
</pre>
</div>
</section>
<section id="property-serialization-json">
<h4 id="x6-1-2-properties">
<del class="diff-old">6.5.3
</del>
<span class="secno">
<ins class="diff-chg">6.1.2
</ins>
</span>
<del class="diff-old">Mapping
to
XML
Schema
</del>
<code>
<ins class="diff-chg">properties
</ins></code><a class="self-link" aria-label="§" href= "#property-serialization-json"></a>
</h4>
<p>
<del class="diff-old">In
</del>
<span class="rfc2119-assertion" id="td-properties">
<ins class="diff-chg">Properties
(and
sub-properties)
offered
by
a
Thing
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
collected
in
</ins>
the
<del class="diff-old">previous
section,
examples
showed
what
data
whose
value
type
is
described
using
</del>
<ins class="diff-chg">JSON-object
based
</ins><code><ins class="diff-chg">
properties
</ins></code><ins class="diff-chg">
field
with
(unique)
Property
names
as
JSON
keys.
</ins></span></p><span class="rfc2119-assertion" id="td-property-keys"><ins class="diff-chg">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
</ins>
the
<ins class="diff-new">class
</ins><a href="#property" class="sec-ref"><code><ins class="diff-new">
Property
</ins></code></a>,<ins class="diff-new">
as
well
as
its
two
superclasses
</ins><a href="#interactionpattern" class= "sec-ref"><code><ins class="diff-new">
InteractionPattern
</ins></code></a><ins class="diff-new">
and
</ins><a href= "#dataschema" class="sec-ref"><code><ins class="diff-new">
DataSchema
</ins></code></a>,<em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
serialized
as
a
JSON
key
within
a
Property
object.
</ins></span><p><span class="rfc2119-assertion" id="td-property-objects"><ins class="diff-new">
The
</ins>
type
<del class="diff-old">system
look
like
when
</del>
<ins class="diff-chg">of
the
fields
</ins><code><ins class="diff-chg">
properties
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
items
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
</ins>
serialized
<del class="diff-old">to
XML
in
parallel
to
corresponding
</del>
<ins class="diff-chg">as
a
</ins>
JSON
<del class="diff-old">serializations.
</del>
<ins class="diff-chg">object.
</ins></span>
</p>
<p>
<del class="diff-old">This
section
describes
how
</del>
<span class="rfc2119-assertion" id="td-property-arrays">
<ins class="diff-chg">The
</ins>
type
<del class="diff-old">definitions
described
using
</del>
<ins class="diff-chg">of
</ins>
the
<del class="diff-old">type
system
can
</del>
<ins class="diff-chg">fields
</ins><code><ins class="diff-chg">
forms
</ins></code>,<code><ins class="diff-chg">
required
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
enum
</ins></code>,<code><ins class="diff-chg">
scopes
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
security
</ins></code>,<em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em>
be
<del class="diff-old">mapped
</del>
<ins class="diff-chg">serialized
as
a
JSON
array.
</ins></span></p><p><ins class="diff-chg">
A
TD
snippet
based
on
the
defined
fields
is
given
below:
</ins></p><div class="example" id= "ex-7-example-7-properties-on-label-on-off-type-boolean-forms-status-type-object-properties-brightness-type-number-minimum-0-0-maximum-100-0-rgb-type-array-items-type-number-minimum-0-maximum-255-minitems-3-maxitems-3-required-brightness-rgb-forms"><div class="marker"><a class="self-link" href= "#ex-7-example-7-properties-on-label-on-off-type-boolean-forms-status-type-object-properties-brightness-type-number-minimum-0-0-maximum-100-0-rgb-type-array-items-type-number-minimum-0-maximum-255-minitems-3-maxitems-3-required-brightness-rgb-forms"><ins class="diff-chg">
Example
7
</ins></a></div><pre class="hljs javascript" aria-busy="false">{<ins class="diff-chg">
    ...
</ins>    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"on"</span>: {            <span class="hljs-string">"label"</span>: <span class=<ins class="diff-chg">
"hljs-string">"On/Off"</span>,
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"boolean"</span>,
</ins>            <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
        },
</ins>        <span class="hljs-string">"status"</span>: {            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
</ins>            <span class="hljs-string">"properties"</span>: {                <span class="hljs-string">"brightness"</span>: {                    <span class=<ins class="diff-chg">
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0.0</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100.0</span>
                 },
</ins>                 <span class="hljs-string">"rgb"</span>: {                    <span class=<ins class="diff-chg">
"hljs-string">"type"</span>: <span class=
"hljs-string">"array"</span>,
</ins>                    <span class="hljs-string">"items"</span> : {                        <span class=<ins class="diff-chg">
"hljs-string">"type"</span> : <span class=
"hljs-string">"number"</span>,
</ins>                        <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
</ins>                        <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class=
"hljs-number">255</span>
                    },
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"minItems"</span>: <span class=
"hljs-number">3</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"maxItems"</span>: <span class="hljs-number">3</span>
                }
            },
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"required"</span>: [<span class=
"hljs-string">"brightness"</span>, <span class=
"hljs-string">"rgb"</span>],
</ins>            <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
        }
    }
    ...
}
</ins></pre></div><p><span class="rfc2119-assertion" id= "td-property-semantic"><ins class="diff-chg">
Similar
</ins>
to
<del class="diff-old">XML
schema
definitions
</del>
<ins class="diff-chg">the
case
at
the
</ins><code><ins class="diff-chg">
Thing
</ins></code><ins class="diff-chg">
level,
properties
</ins><em class="rfc2119" title= "MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
have
additional
semantic
annotations
based
on
JSON-LD
1.1
keywords.
</ins></span></p><p><span class="rfc2119-assertion" id="td-property-defaults"><ins class="diff-chg">
When
a
Thing
Description
instance
is
processed
and
interpreted
</ins>
by
<del class="diff-old">using
</del>
<ins class="diff-chg">a
JSON-LD
1.1
processor,
each
</ins><code><ins class="diff-chg">
property
</ins></code><em class= "rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
contain
</ins>
the
<del class="diff-old">same
examples.
Given
these
type
definitions,
providing
</del>
<ins class="diff-chg">vocabulary
terms
</ins><code><ins class="diff-chg">
observable
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
writable
</ins></code><ins class="diff-chg">
due
to
</ins>
the
<del class="diff-old">mapping
</del>
<a href= "https://en.wikipedia.org/wiki/Open-world_assumption">
<ins class="diff-chg">open-world
assumption
</ins></a><ins class="diff-chg">
of
Linked
Data.
</ins></span><ins class="diff-chg">
This
assumption
means
that
if
a
Linked
Data
model
of
a
Thing
Description
instance
were
</ins>
to
<del class="diff-old">XML
schema
allows
XML
tools
</del>
<ins class="diff-chg">omit
these
vocabulary
terms,
then
the
interpreter
would
not
be
able
</ins>
to
<del class="diff-old">directly
validate
serialized
XML
data,
for
example.
The
XML
structure
for
which
this
mapping
is
designed
is
</del>
<ins class="diff-chg">make
any
assumptions
about
their
actual
value.
</ins></p><p><ins class="diff-chg">
A
snippet
of
a
JSON-LD
1.1
processable
TD
serialization
including
semantic
annotations
and
the
default
values
of
</ins><code><ins class="diff-chg">
observable
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
writable
</ins></code>
based
on
<del class="diff-old">EXI4JSON
[
</del>
<ins class="diff-chg">the
class
</ins><a href="#property" class="sec-ref">
<del class="diff-old">exi-for-json
</del>
<code>
<ins class="diff-chg">Property
</ins></code>
<del class="diff-old">].
</del>
</a>
<ins class="diff-chg">is
given
as
follows:
</ins>
</p>
<div class="example" id= "ex-8-example-8-properties-on-type-iot-switchtoggle-label-on-off-writable-false-observable-false-type-boolean-forms-status-writable-false-observable-false-type-object-properties-brightness-type-iot-currentlevel-type-number-minimum-0-0-maximum-100-0-rgb-type-iot-rgbdata-type-array-items-type-number-minimum-0-maximum-255-minitems-3-maxitems-3-required-brightness-rgb-forms">
<div class="marker">
<del class="diff-old">6.5.3.1
</del>
<a class="self-link" href= "#ex-8-example-8-properties-on-type-iot-switchtoggle-label-on-off-writable-false-observable-false-type-boolean-forms-status-writable-false-observable-false-type-object-properties-brightness-type-iot-currentlevel-type-number-minimum-0-0-maximum-100-0-rgb-type-iot-rgbdata-type-array-items-type-number-minimum-0-maximum-255-minitems-3-maxitems-3-required-brightness-rgb-forms">
<ins class="diff-chg">Example
8
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"properties"</span>: {    <span class="hljs-string">"on"</span>: {        <span class="hljs-string">"@type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"iot:SwitchToggle"</span>,
</ins>        <span class="hljs-string">"label"</span>: <span class=<ins class="diff-chg">
"hljs-string">"On/Off"</span>,
</ins>        <span class="hljs-string">"writable"</span>: <span class=<ins class="diff-chg">
"hljs-literal">false</span>,
</ins>        <span class="hljs-string">"observable"</span>: <span class=<ins class="diff-chg">
"hljs-literal">false</span>,
</ins>        <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"boolean"</span>,
</ins>        <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
    },
</ins>    <span class="hljs-string">"status"</span>: {        <span class="hljs-string">"writable"</span>: <span class=<ins class="diff-chg">
"hljs-literal">false</span>,
</ins>        <span class="hljs-string">"observable"</span>: <span class=<ins class="diff-chg">
"hljs-literal">false</span>,
</ins>        <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
</ins>        <span class="hljs-string">"properties"</span>: {            <span class="hljs-string">"brightness"</span>: {                <span class=<ins class="diff-chg">
"hljs-string">"@type"</span>: <span class=
"hljs-string">"iot:CurrentLevel"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0.0</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100.0</span>
            },
</ins>            <span class="hljs-string">"rgb"</span>: {                <span class=<ins class="diff-chg">
"hljs-string">"@type"</span>: <span class=
"hljs-string">"iot:rgbData"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"type"</span>: <span class=
"hljs-string">"array"</span>,
</ins>                <span class="hljs-string">"items"</span> : {                    <span class=<ins class="diff-chg">
"hljs-string">"type"</span> : <span class=
"hljs-string">"number"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class=
"hljs-number">255</span>
                },
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"minItems"</span>: <span class=
"hljs-number">3</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"maxItems"</span>: <span class="hljs-number">3</span>
            }
        },
</ins>        <span class="hljs-string">"required"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"brightness"</span>,<span class=
"hljs-string">"rgb"</span>],
</ins>        <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
    }
}
...
</ins></pre></div></section><section id="action-serialization-json"><h4 id="x6-1-3-actions"><span class="secno"><ins class="diff-chg">
6.1.3
</ins>
</span>
<del class="diff-old">Object
Definition
to
XML
Schema
</del>
<code>
<ins class="diff-chg">actions
</ins></code><a class="self-link" aria-label="§" href= "#action-serialization-json"></a></h4>
<p>
<del class="diff-old">Shown
below
is
</del>
<span class="rfc2119-assertion" id="td-actions">
<ins class="diff-chg">Actions
offered
by
a
Thing
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
collected
in
</ins>
the
<del class="diff-old">type
system
</del>
<ins class="diff-chg">JSON-object
based
</ins>
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">actions
</ins>
</code>
<del class="diff-old">definition
given
for
</del>
<ins class="diff-chg">field
with
(unique)
Action
names
as
JSON
keys.
</ins></span></p><span class="rfc2119-assertion" id="td-action-keys"><ins class="diff-chg">
Each
optional
vocabulary
term
as
defined
in
</ins>
the
<ins class="diff-new">class
</ins><a href="#action" class= "sec-ref">
<code>
<del class="diff-old">inputSchema
</del>
<ins class="diff-chg">Action
</ins>
</code>
<del class="diff-old">in
Section
Object
.
The
</del>
</a>
<ins class="diff-chg">and
its
superclass
</ins><a href= "#interactionpattern" class= "sec-ref">
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">InteractionPattern
</ins>
</code>
<del class="diff-old">consists
</del>
</a>
<em class="rfc2119" title="MUST">
<ins class="diff-chg">MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
key
within
an
Action
object.
</ins></span><p><span class="rfc2119-assertion" id="td-action-objects"><ins class="diff-chg">
The
type
</ins>
of
<del class="diff-old">two
named
literals
</del>
<ins class="diff-chg">the
fields
</ins>
<code>
<del class="diff-old">id
</del>
<ins class="diff-chg">input
</ins>
</code>
<del class="diff-old">(of
type
</del>
<ins class="diff-chg">and
</ins>
<code>
<del class="diff-old">integer
</del>
<ins class="diff-chg">output
</ins></code><em class= "rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
object.
</ins></span></p><p><ins class="diff-chg">
The
keys
of
</ins><code><ins class="diff-chg">
input
</ins>
</code>
<del class="diff-old">)
</del>
and
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">output
</ins>
</code>
<del class="diff-old">(of
type
</del>
<ins class="diff-chg">rely
on
the
the
class
</ins><a href="#dataschema" class= "sec-ref">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
<del class="diff-old">)
where
</del>
</a>.
</p>
<p>
<span class="rfc2119-assertion" id="td-action-arrays">
<ins class="diff-chg">The
type
of
the
fields
</ins>
<code>
<del class="diff-old">id
</del>
<ins class="diff-chg">forms
</ins></code>,<code><ins class="diff-chg">
scopes
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
security
</ins>
</code>
<del class="diff-old">is
required
to
</del>
<em class="rfc2119" title="MUST">
<ins class="diff-chg">MUST
</ins></em>
be
<del class="diff-old">present.
</del>
<ins class="diff-chg">serialized
as
a
JSON
array.
</ins></span>
</p>
<p>
<ins class="diff-chg">A
TD
snippet
based
on
the
defined
fields
is
given
below:
</ins></p><div class="example" id= "ex-9-example-9-actions-fade-label-fade-in-out-description-smooth-fade-in-and-out-animation-input-type-object-properties-from-type-integer-minimum-0-maximum-100-to-type-integer-minimum-0-maximum-100-duration-type-number-required-to-duration-output-type-string-forms"><div class="marker">
<a class="self-link" href= "#ex-9-example-9-actions-fade-label-fade-in-out-description-smooth-fade-in-and-out-animation-input-type-object-properties-from-type-integer-minimum-0-maximum-100-to-type-integer-minimum-0-maximum-100-duration-type-number-required-to-duration-output-type-string-forms">
Example
<del class="diff-old">24
</del>
<ins class="diff-chg">9
</ins></a>
</div>
<del class="diff-old">{
    : &lt;span class=
</del>
<pre class="hljs javascript" aria-busy="false">...
<span class="hljs-string">"actions"</span>: {
    <span class="hljs-string">"fade"</span> {
        <span class="hljs-string">"label"</span>: <span class=
<ins class="diff-chg">"hljs-string">"Fade in/out"</span>,
</ins>        <span class=<ins class="diff-chg">
"hljs-string">"description"</span>: <span class="hljs-string">"Smooth fade in and out animation."</span>,
</ins>        <span class="hljs-string">"input"</span>: {            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
<del class="diff-old">    : [
        {
            : &lt;span class=
"hljs-string"&gt;"id",
            : {
              : &lt;span class=
"hljs-string"&gt;"integer"
            }
</del>
            <span class="hljs-string">"properties"</span>: {
                <span class="hljs-string">"from"</span>: {
                    <span class=
<ins class="diff-chg">"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100</span>
                },
</ins>                <span class="hljs-string">"to"</span>: {                    <span class=<ins class="diff-chg">
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100</span>
                },
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"duration"</span>: {<span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>}
            },
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"required"</span>: [<span class=
"hljs-string">"to"</span>,<span class=
"hljs-string">"duration"</span>],
</ins>
        },
<del class="diff-old">        {
            : &lt;span class=
"hljs-string"&gt;"name",
            : {
              : &lt;span class=
"hljs-string"&gt;"string"
            }
        }
    ],
    : [&lt;span class=
"hljs-string"&gt;"id"]
</del>
        <span class="hljs-string">"output"</span>: {<span class=
<ins class="diff-chg">"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>},
</ins>        <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
    }
    ...
</ins>
}
<ins class="diff-new">...
</ins>
</pre>
</div>
<p>
<del class="diff-old">When
</del>
<span class="rfc2119-assertion" id= "td-action-semantic">
<ins class="diff-chg">Definitions
within
</ins>
the
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">actions
</ins>
</code>
<del class="diff-old">is
anonymous
(i.e.
it
is
</del>
<ins class="diff-chg">field
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
have
additional
semantic
annotations
based
on
JSON-LD
1.1
keywords.
</ins></span></p></section><section id="event-serialization-json"><h4 id="x6-1-4-events"><span class="secno"><ins class="diff-chg">
6.1.4
</ins></span><code><ins class="diff-chg">
events
</ins></code><a class="self-link" aria-label="§" href= "#event-serialization-json"></a></h4><p><span class="rfc2119-assertion" id="td-events"><ins class="diff-chg">
Events
offered
by
a
Thing
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
collected
in
</ins>
the
<del class="diff-old">root,
or
participates
</del>
<ins class="diff-chg">JSON-object
based
</ins><code><ins class="diff-chg">
events
</ins></code><ins class="diff-chg">
field
with
(unique)
Event
names
as
JSON
keys.
</ins></span></p><span class="rfc2119-assertion" id="td-event-keys"><ins class="diff-chg">
Each
optional
vocabulary
term
as
defined
</ins>
in
<ins class="diff-new">the
class
</ins><a href="#event" class= "sec-ref"><code><ins class="diff-new">
Event
</ins></code></a>,<ins class="diff-new">
as
well
as
its
two
superclasses
</ins><a href="#interactionpattern" class= "sec-ref"><code><ins class="diff-new">
InteractionPattern
</ins></code></a><ins class="diff-new">
and
</ins><a href= "#dataschema" class="sec-ref"><code><ins class="diff-new">
DataSchema
</ins></code></a>,<em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
serialized
as
a
JSON
key
within
</ins>
an
<ins class="diff-new">Event
object.
</ins></span><p><span class="rfc2119-assertion" id="td-event-objects"><ins class="diff-new">
The
type
of
the
fields
</ins>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">properties
</ins>
</code>
<del class="diff-old">definition),
</del>
<ins class="diff-chg">and
</ins><code><ins class="diff-chg">
items
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
object.
</ins></span></p><p><span class="rfc2119-assertion" id="td-event-arrays"><ins class="diff-chg">
The
type
of
</ins>
the
<del class="diff-old">above
</del>
<ins class="diff-chg">fields
</ins>
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">forms
</ins></code>,<code><ins class="diff-chg">
required
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
enum
</ins></code>,<code><ins class="diff-chg">
scopes
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
security
</ins>
</code>
<del class="diff-old">definition
transforms
to
</del>
<em class="rfc2119" title="MUST">
<ins class="diff-chg">MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
array.
</ins></span></p><p><ins class="diff-chg">
A
TD
snippet
based
on
</ins>
the
<del class="diff-old">following
XML
Schema
element
definition.
</del>
<ins class="diff-chg">defined
fields
is
given
below:
</ins>
</p>
<div class="example" id= "ex-10-example-10-event-overheated-type-object-properties-temperature-type-number-forms">
<div class="marker">
<a class="self-link" href= "#ex-10-example-10-event-overheated-type-object-properties-temperature-type-number-forms">
Example
<del class="diff-old">25
</del>
<ins class="diff-chg">10
</ins></a>
</div>
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"object" &lt;span class=
"hljs-attr"&gt;xmlns:xs=&lt;span class=
"hljs-string"&gt;"http://www.w3.org/2001/XMLSchema"
    &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
        &lt;&lt;span class=
"hljs-name"&gt;xs:all
            &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"id"
                &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
                  &lt;&lt;span class=
"hljs-name"&gt;xs:sequence
                    &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"integer" &lt;span class=
"hljs-attr"&gt;type=&lt;span class=
"hljs-string"&gt;"xs:integer"
                  &lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
                &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
            &lt;/&lt;span class=
"hljs-name"&gt;xs:element
            &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"name" &lt;span class=
"hljs-attr"&gt;minOccurs=&lt;span class=
"hljs-string"&gt;"0"
                &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
                  &lt;&lt;span class=
"hljs-name"&gt;xs:sequence
                    &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"string" &lt;span class=
"hljs-attr"&gt;type=&lt;span class=
"hljs-string"&gt;"xs:string"
                  &lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
                &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
            &lt;/&lt;span class=
"hljs-name"&gt;xs:element
        &lt;/&lt;span class=
"hljs-name"&gt;xs:all
    &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
&lt;/&lt;span class=
"hljs-name"&gt;
xs:element
&gt;
</del>
<pre class="hljs javascript" aria-busy="false">...
<span class="hljs-string">"event"</span>: {
    <span class="hljs-string">"overheated"</span>: {
        <span class="hljs-string">"type"</span>: <span class=
<ins class="diff-chg">"hljs-string">"object"</span>,
</ins>        <span class="hljs-string">"properties"</span>: {            <span class=<ins class="diff-chg">
"hljs-string">"temperature"</span>: { <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span> }
        },
</ins>        <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
    }
    ...
}
...
</ins>
</pre>
</div>
<p>
<del class="diff-old">Otherwise
(i.e.
</del>
<span class="rfc2119-assertion" id= "td-event-semantic">
<ins class="diff-chg">Definitions
within
</ins>
the
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">events
</ins>
</code>
<del class="diff-old">is
a
member
of
another
</del>
<ins class="diff-chg">field
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
have
additional
semantic
anotations
based
on
JSON-LD
1.1
keywords.
</ins></span></p></section><section id="form-serialization-json"><h4 id="x6-1-5-forms"><span class="secno"><ins class="diff-chg">
6.1.5
</ins></span>
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">forms
</ins>
</code>
<del class="diff-old">definition,
thus
has
a
name),
</del>
<a class="self-link" aria-label="§" href= "#form-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-forms">
<ins class="diff-chg">Each
mandatory
and
optional
vocabulary
term
as
defined
in
</ins>
the
<ins class="diff-new">class
</ins><a href="#form" class="sec-ref">
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">Form
</ins>
</code>
<del class="diff-old">definition
transforms
to
the
following
XML
schema
element
definition.
Note
</del>
</a>,
<em class="rfc2119" title= "MUST">
<ins class="diff-chg">MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
key.
</ins></span></p><p><span class="rfc2119-assertion" id="td-form-protocolbindings"><ins class="diff-chg">
If
required,
</ins>
<code>
<ins class="diff-new">forms
</ins></code><em class="rfc2119" title= "MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
be
supplemented
with
protocol-specific
vocabulary
terms
identified
with
a
prefix.
</ins></span><ins class="diff-new">
See
also
[
</ins><cite>
<del class="diff-old">$name
</del>
<a class= "bibref" href= "#bib-wot-protocol-binding">
<ins class="diff-chg">WOT-PROTOCOL-BINDING
</ins></a>
</cite>
<ins class="diff-new">].
</ins></p><p><span class="rfc2119-assertion" id="td-form-mediatype"><ins class="diff-new">
When
a
Thing
Description
instance
is
processed
and
interpreted
by
a
JSON-LD
1.1
processor,
each
</ins><code><ins class="diff-new">
forms
</ins>
</code>
<del class="diff-old">represents
</del>
<ins class="diff-chg">(array)
entry
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
contain
a
</ins><code><ins class="diff-chg">
mediaType
</ins></code><ins class="diff-chg">
due
to
</ins>
the
<del class="diff-old">name
</del>
<a href= "https://en.wikipedia.org/wiki/Open-world_assumption">
<ins class="diff-chg">open-world
assumption
</ins></a>
of
<del class="diff-old">the
object
,
and
needs
</del>
<ins class="diff-chg">Linked
Data.
</ins></span><ins class="diff-chg">
This
assumption
means
that
if
a
Linked
Data
model
of
a
Thing
Description
instance
were
</ins>
to
<del class="diff-old">be
replaced
by
</del>
<ins class="diff-chg">omit
these
vocabulary
terms,
then
</ins>
the
<ins class="diff-new">interpreter
would
not
be
able
to
make
any
assumptions
about
their
</ins>
actual
<del class="diff-old">name
of
</del>
<ins class="diff-chg">value.
</ins></p><p><ins class="diff-chg">
A
TD
snippet
based
on
</ins>
the
<del class="diff-old">object
.
</del>
<ins class="diff-chg">defined
fields
is
given
below:
</ins>
</p>
<div class="example" id= "ex-11-example-11-forms-href-http-mytemp-example-com-5683-temp-mediatype-application-json-http-methodname-post-rel-writeproperty-security-scheme-basic-in-header">
<div class="marker">
<a class="self-link" href= "#ex-11-example-11-forms-href-http-mytemp-example-com-5683-temp-mediatype-application-json-http-methodname-post-rel-writeproperty-security-scheme-basic-in-header">
Example
<del class="diff-old">26
</del>
<ins class="diff-chg">11
</ins></a>
</div>
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"$name" &lt;span class=
"hljs-attr"&gt;xmlns:xs=&lt;span class=
"hljs-string"&gt;"http://www.w3.org/2001/XMLSchema"
    &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
        &lt;&lt;span class=
"hljs-name"&gt;xs:sequence
            &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"object"
                &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
                    &lt;&lt;span class=
"hljs-name"&gt;xs:all
                        &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"id"
                            &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
                              &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:sequence
                                &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"integer" &lt;span class=
"hljs-attr"&gt;type=&lt;span class=
"hljs-string"&gt;"xs:integer"
                              &lt;span class=
"hljs-tag"&gt;&lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
                            &lt;span class=
"hljs-tag"&gt;&lt;/
                        &lt;/&lt;span class=
"hljs-name"&gt;xs:element
                        &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"name" &lt;span class=
"hljs-attr"&gt;minOccurs=&lt;span class=
"hljs-string"&gt;"0"
                            &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
                              &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:sequence
                                &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"string" &lt;span class=
"hljs-attr"&gt;type=&lt;span class=
"hljs-string"&gt;"xs:string"
                              &lt;span class=
"hljs-tag"&gt;&lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
                            &lt;span class=
"hljs-tag"&gt;&lt;/
                        &lt;/&lt;span class=
"hljs-name"&gt;xs:element
                    &lt;/&lt;span class=
"hljs-name"&gt;xs:all
                &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
            &lt;/&lt;span class=
"hljs-name"&gt;xs:element
        &lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
    &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
&lt;/&lt;span class=
"hljs-name"&gt;
xs:element
&gt;
</del>
<pre class="hljs javascript" aria-busy="false">...
<span class="hljs-string">"forms"</span>: [{
    <span class="hljs-string">"href"</span> : <span class=
<ins class="diff-chg">"hljs-string">"http://mytemp.example.com:5683/temp"</span>,
</ins>    <span class="hljs-string">"mediaType"</span>: <span class=<ins class="diff-chg">
"hljs-string">"application/json"</span>,
</ins>    <span class=<ins class="diff-chg">
"hljs-string">"http:methodName"</span>: <span class="hljs-string">"POST"</span>,
</ins>    <span class="hljs-string">"rel"</span>: <span class=<ins class="diff-chg">
"hljs-string">"writeProperty"</span>,
</ins>    <span class="hljs-string">"security"</span>: [{<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>:<span class=
"hljs-string">"basic"</span>, <span class=
"hljs-string">"in"</span>:<span class=
"hljs-string">"header"</span>}]
}]
...
</ins>
</pre>
</div>
</section>
<section id="links-serialization-json">
<h4 id="x6-1-6-links">
<del class="diff-old">6.5.3.2
</del>
<span class="secno">
<ins class="diff-chg">6.1.6
</ins>
</span>
<del class="diff-old">Array
Definition
to
XML
Schema
</del>
<code>
<ins class="diff-chg">links
</ins></code><a class="self-link" aria-label="§" href= "#links-serialization-json"></a></h4>
<p>
<del class="diff-old">Shown
below
is
</del>
<span class="rfc2119-assertion" id="td-links">
<ins class="diff-chg">Each
mandatory
and
optional
vocabulary
term
as
defined
in
</ins>
the
<del class="diff-old">type
system
</del>
<ins class="diff-chg">class
</ins><a href="#link" class="sec-ref">
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">Link
</ins>
</code>
<del class="diff-old">definition
</del>
</a>,
<em class="rfc2119" title= "MUST">
<ins class="diff-chg">MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
key.
</ins></span></p><p><ins class="diff-chg">
A
TD
snippet
based
on
the
defined
fields
is
</ins>
given
<del class="diff-old">for
</del>
<ins class="diff-chg">below:
</ins></p><div class="example" id= "ex-12-example-12-links-href-https-servient-example-com-things-lampcontroller-rel-controlledby-mediatype-application-td-json"><div class="marker"><a class="self-link" href= "#ex-12-example-12-links-href-https-servient-example-com-things-lampcontroller-rel-controlledby-mediatype-application-td-json"><ins class="diff-chg">
Example
12
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"links"</span>: [{    <span class="hljs-string">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://servient.example.com/things/lampController"</span>,
</ins>    <span class="hljs-string">"rel"</span>: <span class=<ins class="diff-chg">
"hljs-string">"controlledBy"</span>,
</ins>    <span class="hljs-string">"mediaType"</span>: <span class=<ins class="diff-chg">
"hljs-string">"application/td+json"</span>
}]
...
</ins></pre></div></section><section id="security-serialization-json"><h4 id="x6-1-7-security"><span class="secno"><ins class="diff-chg">
6.1.7
</ins></span><code><ins class="diff-chg">
security
</ins></code><a class="self-link" aria-label="§" href= "#security-serialization-json"></a></h4><p><span class="rfc2119-assertion" id="td-security"><ins class="diff-chg">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
</ins>
the
<ins class="diff-new">class
</ins><a href= "#securityscheme" class="sec-ref">
<code>
<del class="diff-old">inputSchema
</del>
<ins class="diff-chg">SecurityScheme
</ins>
</code>
</a>,
<em class="rfc2119" title="MUST">
<ins class="diff-new">MUST
</ins></em><ins class="diff-new">
be
serialized
as
a
JSON
key.
</ins></span></p><p><ins class="diff-new">
The
following
TD
snippet
shows
a
simple
security
configuration
specifying
basic
username/password
authentication
</ins>
in
<del class="diff-old">Section
Array
.
</del>
<ins class="diff-chg">the
header.
</ins>
The
<ins class="diff-new">value
of
</ins>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">in
</ins>
</code>
<del class="diff-old">consists
</del>
<ins class="diff-chg">given
is
actually
the
default
value
</ins>
of
<del class="diff-old">exactly
three
number
literals
</del>
<code>
<ins class="diff-chg">header
</ins></code>.</p><div class="example" id="security-basic-example"><div class="marker"><a class="self-link" href= "#security-basic-example"><ins class="diff-chg">
Example
13
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"security"</span>: [{    <span class="hljs-string">"scheme"</span>: <span class=<ins class="diff-chg">
"hljs-string">"basic"</span>,
</ins>    <span class="hljs-string">"in"</span>: <span class=<ins class="diff-chg">
"hljs-string">"header"</span>
}]
...
</ins></pre></div><p><ins class="diff-chg">
Here
is
a
more
complex
example:
a
TD
snippet
showing
digest
authentication
on
a
proxy
combined
</ins>
with
<del class="diff-old">each
value
within
</del>
<ins class="diff-chg">bearer
token
authentication
on
an
endpoint.
Here
</ins>
the
<ins class="diff-new">default
</ins>
value
<del class="diff-old">range
</del>
of
<del class="diff-old">[
0
...
2047
].
</del>
<code>
<ins class="diff-chg">in
</ins></code><ins class="diff-chg">
in
the
</ins><code><ins class="diff-chg">
digest
</ins></code><ins class="diff-chg">
scheme,
</ins><code><ins class="diff-chg">
header
</ins></code>,<ins class="diff-chg">
is
implied.
</ins>
</p>
<div class="example" id="security-digest-example">
<div class="marker">
<a class="self-link" href= "#security-digest-example">
Example
<del class="diff-old">27
</del>
<ins class="diff-chg">14
</ins></a>
</div>
<del class="diff-old">{
    : &lt;span class=
"hljs-string"&gt;"array",
    : {
         : &lt;span class=
"hljs-string"&gt;"number",
        : &lt;span class=
"hljs-number"&gt;0,
        : &lt;span class=
"hljs-number"&gt;2047
</del>
<pre class="hljs javascript" aria-busy="false">...
<span class="hljs-string">"security"</span>: [
<ins class="diff-chg">    {
</ins>       <span class="hljs-string">"scheme"</span>: <span class=<ins class="diff-chg">
"hljs-string">"digest"</span>,
</ins>       <span class="hljs-string">"proxyUrl"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://portal.example.com/"</span>
</ins>
    },
<del class="diff-old">     : &lt;span class=
"hljs-number"&gt;3,
     : &lt;span class=
"hljs-number"&gt;3
}
</del>
<ins class="diff-chg">    {
</ins>       <span class="hljs-string">"scheme"</span>: <span class=<ins class="diff-chg">
"hljs-string">"bearer"</span>,
</ins>       <span class="hljs-string">"format"</span>: <span class=<ins class="diff-chg">
"hljs-string">"jwt"</span>,
</ins>       <span class="hljs-string">"alg"</span>: <span class=<ins class="diff-chg">
"hljs-string">"ES256"</span>,
</ins>       <span class=<ins class="diff-chg">
"hljs-string">"authorizationUrl"</span>: <span class=
"hljs-string">"https://servient.example.com:8443/"</span>
    }
]
...
</ins>
</pre>
</div>
<p>
<del class="diff-old">When
</del>
<ins class="diff-chg">Security
definitions
can
be
given
at
more
than
one
level.
In
this
case,
definitions
at
the
lower
levels
override
(completely
replace)
the
definitions
at
</ins>
the
<ins class="diff-new">higher
level.
</ins></p><p><ins class="diff-new">
Security
configuration
is
mandatory.
</ins><span class= "rfc2119-assertion" id="td-security-mandatory"><ins class="diff-new">
Every
form
in
a
Thing
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
have
a
security
configuration
either
provided
in
the
form
itself,
at
the
interaction
level
directly
above
it
(if
security
is
not
configured
in
the
form),
or
at
the
Thing
level
(if
security
is
not
configured
in
either
the
form
or
at
the
interaction
level).
</ins></span><ins class="diff-new">
In
the
vocabulary
defined
above,
note
that
</ins>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">security
</ins>
</code>
is
<del class="diff-old">anonymous
(i.e.
it
</del>
<ins class="diff-chg">marked
as
non-mandatory.
However,
this
</ins>
is
<ins class="diff-new">only
true
locally
(at
a
specific
level),
and
only
if
</ins>
the
<del class="diff-old">root,
</del>
<ins class="diff-chg">security
is
configured
at
a
higher
</ins>
or
<del class="diff-old">participates
</del>
<ins class="diff-chg">lower
level.
In
other
words,
a
security
configuration
must
be
provided
at
</ins><em><ins class="diff-chg">
some
</ins></em><ins class="diff-chg">
level
for
each
form.
</ins></p><p><ins class="diff-chg">
Security
configuration
is
considered
binding.
</ins><span class= "rfc2119-assertion" id="td-security-binding"><ins class="diff-chg">
The
security
configuration
metadata
provided
</ins>
in
<del class="diff-old">another
</del>
<ins class="diff-chg">a
Thing
Description
</ins><em class= "rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
accurately
reflect
the
security
requirements
of
the
Thing.
</ins></span><ins class="diff-chg">
Some
protocols
can
ask
for
authentication
dynamically.
If
a
protocol
asks
for
a
form
of
security
credentials
not
declared
in
the
Thing
Description
then
the
Thing
Description
is
to
be
considered
invalid.
</ins></p><p><ins class="diff-chg">
The
</ins>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">nosec
</ins>
</code>
<del class="diff-old">definition),
</del>
<ins class="diff-chg">security
scheme
is
provided
for
the
case
that
no
security
is
needed.
The
minimal
security
configuration
for
a
Thing
is
configuration
of
</ins>
the
<del class="diff-old">above
</del>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">nosec
</ins>
</code>
<del class="diff-old">definition
transforms
to
</del>
<ins class="diff-chg">security
scheme
at
the
top
level,
as
in
</ins>
the
following
<del class="diff-old">XML
Schema
element
definition.
</del>
<ins class="diff-chg">example:
</ins>
</p>
<div class="example" id= "ex-15-example-15-id-urn-dev-wot-com-example-servient-mything-name-mything-description-additional-human-readable-information-of-the-thing-support-https-servient-example-com-contact-security-scheme-nosec-properties-actions-events-links">
<div class="marker">
<a class="self-link" href= "#ex-15-example-15-id-urn-dev-wot-com-example-servient-mything-name-mything-description-additional-human-readable-information-of-the-thing-support-https-servient-example-com-contact-security-scheme-nosec-properties-actions-events-links">
Example
<del class="diff-old">28
</del>
<ins class="diff-chg">15
</ins></a>
</div>
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"array" &lt;span class=
"hljs-attr"&gt;xmlns:xs=&lt;span class=
"hljs-string"&gt;"http://www.w3.org/2001/XMLSchema"
    &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
        &lt;&lt;span class=
"hljs-name"&gt;xs:sequence
            &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"double" &lt;span class=
"hljs-attr"&gt;minOccurs=&lt;span class=
"hljs-string"&gt;"3" &lt;span class=
"hljs-attr"&gt;maxOccurs=&lt;span class=
"hljs-string"&gt;"3"
                &lt;&lt;span class=
"hljs-name"&gt;xs:simpleType &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"minInclusive"
                    &lt;&lt;span class=
"hljs-name"&gt;xs:restriction &lt;span class=
"hljs-attr"&gt;base=&lt;span class=
"hljs-string"&gt;"xs:double"
                        &lt;&lt;span class=
"hljs-name"&gt;xs:minInclusive &lt;span class=
"hljs-attr"&gt;value=&lt;span class=
"hljs-string"&gt;"0"
                        &lt;&lt;span class=
"hljs-name"&gt;xs:maxInclusive &lt;span class=
"hljs-attr"&gt;value=&lt;span class=
"hljs-string"&gt;"2047"
                    &lt;/&lt;span class=
"hljs-name"&gt;xs:restriction
                &lt;/&lt;span class=
"hljs-name"&gt;xs:simpleType
            &lt;/&lt;span class=
"hljs-name"&gt;xs:element
        &lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
    &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
&lt;/&lt;span class=
"hljs-name"&gt;
xs:element
&gt;
</del>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"id"</span>: <span class=
<ins class="diff-chg">"hljs-string">"urn:dev:wot:com:example:servient:myThing"</span>,
</ins>    <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyThing"</span>,
</ins>    <span class="hljs-string">"description"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Additional (human) readable information of the Thing."</span>,
</ins>    <span class="hljs-string">"support"</span>: <span class=<ins class="diff-chg">
"hljs-string">"https://servient.example.com/contact"</span>,
</ins>    <span class="hljs-string">"security"</span>: [{<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"nosec"</span>}],
</ins>    <span class="hljs-string">"properties"</span>: {...},    <span class="hljs-string">"actions"</span>: {...},    <span class="hljs-string">"events"</span>: {...},    <span class="hljs-string">"links"</span>: [...]<ins class="diff-chg">
}
</ins>
</pre>
</div>
<p>
<del class="diff-old">Otherwise
(i.e.
</del>
<ins class="diff-chg">To
give
a
more
complex
example,
suppose
we
have
a
Thing
where
all
interactions
require
basic
authentication
except
for
one
interaction
for
which
no
authentication
is
required.
In
the
following,
</ins>
the
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">nosec
</ins>
</code>
<del class="diff-old">is
a
member
of
an
</del>
<ins class="diff-chg">scheme
for
the
security
configuration
in
the
</ins>
<code>
<del class="diff-old">object
</del>
<ins class="diff-chg">overheating
</ins>
</code>
<del class="diff-old">definition,
thus
has
a
name),
</del>
<ins class="diff-chg">event
to
indicate
no
authentication
is
required.
For
</ins>
the
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">status
</ins>
</code>
<del class="diff-old">definition
transforms
to
</del>
<ins class="diff-chg">property
and
</ins>
the
<del class="diff-old">following
XML
schema
element
definition.
Note
</del>
<code>
<ins class="diff-new">toggle
</ins></code><ins class="diff-new">
action,
however,
</ins><code><ins class="diff-new">
basic
</ins></code><ins class="diff-new">
authentication
is
required
as
defined
at
the
top
level
of
the
Thing.
</ins></p><div class="example" id= "ex-16-example-16-security-scheme-basic-properties-status-forms-href-https-mylamp-example-com-status-mediatype-application-json-actions-toggle-forms-href-https-mylamp-example-com-toggle-mediatype-application-json-events-overheating-forms-href-https-mylamp-example-com-oh-mediatype-application-json-security-scheme-nosec"><div class="marker">
<del class="diff-old">$name
</del>
<a class="self-link" href= "#ex-16-example-16-security-scheme-basic-properties-status-forms-href-https-mylamp-example-com-status-mediatype-application-json-actions-toggle-forms-href-https-mylamp-example-com-toggle-mediatype-application-json-events-overheating-forms-href-https-mylamp-example-com-oh-mediatype-application-json-security-scheme-nosec">
<ins class="diff-chg">Example
16
</ins></a>
<del class="diff-old">represents
</del>
</div>
<pre class="hljs javascript" aria-busy="false">{
<ins class="diff-chg">    ...
</ins>    <span class="hljs-string">"security"</span>: [{<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>}],
</ins>    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"status"</span>: {<ins class="diff-chg">
            ...
</ins>            <span class="hljs-string">"forms"</span>: [{                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>,
            }]
        }
    },
</ins>    <span class="hljs-string">"actions"</span>: {        <span class="hljs-string">"toggle"</span>: {<ins class="diff-chg">
            ...
</ins>            <span class="hljs-string">"forms"</span>: [{                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
            }]
        }
    },
</ins>    <span class="hljs-string">"events"</span>: {        <span class="hljs-string">"overheating"</span>: {<ins class="diff-chg">
            ...
</ins>            <span class="hljs-string">"forms"</span>: [{                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"security"</span>: [{<span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"nosec"</span>}] 
            }]
        }
    }
}
</ins></pre></div><p><ins class="diff-chg">
Security
definitions
can
also
can
be
given
for
different
elements
at
</ins>
the
<del class="diff-old">name
</del>
<ins class="diff-chg">same
level.
This
may
be
required
for
devices
that
support
multiple
protocols,
for
example
CoAP
and
HTTP,
with
support
for
different
security
mechanisms.
This
is
also
useful
when
alternative
authentication
mechanisms
are
allowed.
Here
is
a
TD
snippet
demonstrating
three
possible
ways
to
access
a
resource:
via
HTTPS
with
basic
authentication,
via
HTTPS
via
digest
authentication,
or
via
CoAPS
with
an
API
key.
In
other
words,
the
use
</ins>
of
<ins class="diff-new">multiple
security
configurations
at
the
same
level
provides
a
way
to
combine
security
mechanisms
an
in
"OR"
fashion.
In
contrast,
putting
multiple
security
configurations
in
</ins>
the
<ins class="diff-new">same
</ins>
<code>
<del class="diff-old">array
,
and
needs
</del>
<ins class="diff-chg">security
</ins></code><ins class="diff-chg">
field
combines
them
in
an
"AND"
fashion,
since
in
that
case
they
would
all
need
</ins>
to
be
<del class="diff-old">replaced
by
</del>
<ins class="diff-chg">satisfied
to
allow
access
to
</ins>
the
<del class="diff-old">actual
name
</del>
<ins class="diff-chg">resource.
</ins></p><div class="example" id= "ex-17-example-17-properties-status-forms-href-https-mylamp-example-com-status-mediatype-application-json-security-scheme-basic-href-https-mylamp-example-com-status-mediatype-application-json-security-scheme-digest-href-coaps-mylamp-example-com-5683-status-mediatype-application-json-security-scheme-apikey"><div class="marker"><a class="self-link" href= "#ex-17-example-17-properties-status-forms-href-https-mylamp-example-com-status-mediatype-application-json-security-scheme-basic-href-https-mylamp-example-com-status-mediatype-application-json-security-scheme-digest-href-coaps-mylamp-example-com-5683-status-mediatype-application-json-security-scheme-apikey"><ins class="diff-chg">
Example
17
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"properties"</span>: {    <span class="hljs-string">"status"</span>: {<ins class="diff-chg">
        ...
</ins>        <span class="hljs-string">"forms"</span>: [<ins class="diff-chg">
            {
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"security"</span>: [{<span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>}]
            },
            {
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"security"</span>: [{<span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"digest"</span>}]
            },
            {
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com:5683/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"security"</span>: [{<span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"apikey"</span>}]
            }
        ]
    }
},
...
</ins></pre></div></section></section><section id="media-type-section"><h3 id="x6-2-media-type"><span class="secno"><ins class="diff-chg">
6.2
</ins></span><ins class="diff-chg">
Media
Type
</ins><a class="self-link" aria-label="§" href= "#media-type-section"></a></h3><p><ins class="diff-chg">
The
JSON-based
serialization
</ins>
of
the
<ins class="diff-new">TD
is
identified
by
the
media
type
[
</ins><cite><a class="bibref" href= "#bib-mediatypes"><ins class="diff-new">
MEDIATYPES
</ins></a></cite><ins class="diff-new">
]
</ins>
<code>
<del class="diff-old">array
</del>
<ins class="diff-chg">application/td+json
</ins>
</code>.
</p>
<div class="ednote" id="issue-container-generatedID-8">
<div role="heading" class="ednote-title marker" id="h-ednote-7" aria-level="4">
<span>
<del class="diff-old">Example
29
</del>
<ins class="diff-chg">Editor's
note
</ins></span><span style= "text-transform: none">:<ins class="diff-chg">
CoAP
Content
Format
</ins>
</span>
</div>
<del class="diff-old">&lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"$name" &lt;span class=
"hljs-attr"&gt;xmlns:xs=&lt;span class=
"hljs-string"&gt;"http://www.w3.org/2001/XMLSchema"
    &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
        &lt;&lt;span class=
"hljs-name"&gt;xs:sequence
            &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"array"
                &lt;&lt;span class=
"hljs-name"&gt;xs:complexType
                    &lt;&lt;span class=
"hljs-name"&gt;xs:sequence
                        &lt;&lt;span class=
"hljs-name"&gt;xs:element &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"double" &lt;span class=
"hljs-attr"&gt;minOccurs=&lt;span class=
"hljs-string"&gt;"3" &lt;span class=
"hljs-attr"&gt;maxOccurs=&lt;span class=
"hljs-string"&gt;"3"
                            &lt;&lt;span class=
"hljs-name"&gt;xs:simpleType &lt;span class=
"hljs-attr"&gt;name=&lt;span class=
"hljs-string"&gt;"minInclusive"
                                &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:restriction &lt;span class=
"hljs-attr"&gt;base=&lt;span class=
"hljs-string"&gt;"xs:double"
                                    &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:minInclusive &lt;span class=
"hljs-attr"&gt;value=&lt;span class=
"hljs-string"&gt;"0"
                                    &lt;span class=
"hljs-tag"&gt;&lt;&lt;span class=
"hljs-name"&gt;xs:maxInclusive &lt;span class=
"hljs-attr"&gt;value=&lt;span class=
"hljs-string"&gt;"2047"
                                &lt;span class=
"hljs-tag"&gt;&lt;/&lt;span class=
"hljs-name"&gt;xs:restriction
                            &lt;span class=
"hljs-tag"&gt;&lt;/
                        &lt;/&lt;span class=
"hljs-name"&gt;xs:element
                    &lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
                &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
            &lt;/&lt;span class=
"hljs-name"&gt;xs:element
        &lt;/&lt;span class=
"hljs-name"&gt;xs:sequence
    &lt;/&lt;span class=
"hljs-name"&gt;xs:complexType
&lt;/&lt;span class=
"hljs-name"&gt;
xs:element
</del>
<p class="">
<ins class="diff-chg">CoAP-based
WoT
implementations
can
use
the
experimental
Content-Format
</ins><code><ins class="diff-chg">
65100
</ins></code><ins class="diff-chg">
until
a
proper
identifier
has
been
registered.
</ins></p></div><p><span class="rfc2119-assertion" id="td-media-type"><ins class="diff-chg">
The
media
type
</ins><code><ins class="diff-chg">
application/td+json
</ins></code><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
also
associated
with
the
JSON-LD
context
</ins><code><ins class="diff-chg">
http://www.w3.org/ns/td
</ins></code>.
</span>
<del class="diff-old">&gt;
</del>
<ins class="diff-chg">That
means
that
this
media
type
can
also
be
used
for
contextual
identification
of
the
vocabulary
within
a
(simplified)
TD
instance
that
may
omit
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
key
term.
</ins></p><div class="ednote" id="issue-container-generatedID-9"><div role="heading" class="ednote-title marker" id="h-ednote-8" aria-level="4"><span><ins class="diff-chg">
Editor's
note
</ins>
</span>
<span style= "text-transform: none">:
<ins class="diff-chg">IANA
Considerations
</ins></span>
</div>
<p class="">
<ins class="diff-new">Neither
the
</ins><code><ins class="diff-new">
application/td+json
</ins></code><ins class="diff-new">
media
type
nor
a
CoAP
Content-Format
identifier
have
been
registered
with
IANA
yet.
</ins></p></div>
</section>
<section id="Implementation-Note-section">
<h3 id="x6-3-implementation-notes">
<span class="secno">
<del class="diff-old">6.6
</del>
<ins class="diff-chg">6.3
</ins>
</span>
<del class="diff-old">Parsing
</del>
<ins class="diff-chg">Implementation
Notes
</ins><a class="self-link" aria-label="§" href= "#Implementation-Note-section"></a>
</h3>
<section id="note-json-processing">
<h4 id="x6-3-1-json-processing">
<span class="secno">
<ins class="diff-new">6.3.1
</ins></span><ins class="diff-new">
JSON
Processing
</ins><a class="self-link" aria-label="§" href= "#note-json-processing"></a></h4>
<p>
<del class="diff-old">To
parse
</del>
<ins class="diff-chg">The
minimum
requirement
to
read
the
content
of
</ins>
a
<del class="diff-old">valid
</del>
Thing
Description
<ins class="diff-new">instance
is
</ins>
a
<del class="diff-old">simple
JSON-based
parser
and
tools
can
</del>
<ins class="diff-chg">(simple)
JSON
parser.
</ins></p><p><span class="rfc2119-assertion" id= "td-writable-observable-default"><ins class="diff-chg">
If
the
key
terms
</ins><code><ins class="diff-chg">
writable
</ins></code><ins class="diff-chg">
and/or
</ins><code><ins class="diff-chg">
observable
</ins></code><ins class="diff-chg">
are
not
present
within
a
</ins><code><ins class="diff-chg">
properties
</ins></code><ins class="diff-chg">
definition,
the
default
value
defined
in
</ins><a href="#sec-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-chg">
5.
</ins></span><span class= "sec-title"><ins class="diff-chg">
Information
Model
</ins></span></a><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em>
be
<del class="diff-old">used
to
retrieve
</del>
<ins class="diff-chg">assumed.
</ins></span></p><p><span class="rfc2119-assertion" id="td-media-type-default"><ins class="diff-chg">
If
</ins>
the
<del class="diff-old">content.
</del>
<code>
<ins class="diff-chg">mediaType
</ins></code><ins class="diff-chg">
key
term
is
not
present
within
a
</ins><code><ins class="diff-chg">
forms
</ins></code><ins class="diff-chg">
definition,
the
default
value
as
defined
in
</ins><a href="#sec-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-chg">
5.
</ins></span><span class="sec-title"><ins class="diff-chg">
Information
Model
</ins></span></a><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
assumed.
</ins></span></p><p>
To
validate
<ins class="diff-new">the
semantic
meaning
</ins>
and
follow
references
to
external
context
<del class="diff-old">vocabulary,
</del>
<ins class="diff-chg">vocabulary
terms
(e.g.,
iot.schema.org),
use
of
</ins>
JSON-LD
or
RDF-based
<del class="diff-old">parsing
</del>
tools
and
libraries
<del class="diff-old">are
</del>
<ins class="diff-chg">is
</ins>
highly
<del class="diff-old">recommended.
</del>
<ins class="diff-chg">recommended
as
explained
in
the
next
sub-section.
</ins>
</p>
</section>
<section id="note-jsonld-processing">
<h4 id="x6-3-2-json-ld-1-1-processing">
<del class="diff-old">6.7
</del>
<span class= "secno">
<ins class="diff-chg">6.3.2
</ins>
</span>
<del class="diff-old">Examples
</del>
<ins class="diff-chg">JSON-LD
1.1
Processing
</ins><a class="self-link" aria-label="§" href="#note-jsonld-processing"></a></h4>
<p>
<del class="diff-old">In
</del>
<ins class="diff-chg">To
interpret
</ins>
the
<del class="diff-old">following,
we
give
examples
</del>
<ins class="diff-chg">semantic
meaning
</ins>
of
<del class="diff-old">full
TDs.
The
first
one,
</del>
a
<del class="diff-old">temperature
sensor,
shows
how
to
define
relations
between
</del>
Thing
<del class="diff-old">Properties.
As
a
second
example,
we
modeled
an
actuator
(LED
lamp)
where
Actions
have
all
been
characterized
semantically,
so
that
machines
could
unambiguously
interpret
them
</del>
<ins class="diff-chg">Description
</ins>
in
<del class="diff-old">an
automated
manner.
At
last,
association
between
Things
is
shown
by
defining
</del>
<ins class="diff-chg">terms
of
RDF
triples,
</ins>
a
<del class="diff-old">master
switch
controlling
other
LED
lamps.
</del>
<ins class="diff-chg">Thing
Description
instance
first
requires
a
valid
JSON-LD
1.1
representation
based
on
this
Thing
Description
specification.
Then
this
representation
can
be
passed
to
a
JSON-LD
1.1
processor.
</ins>
</p>
<del class="diff-old">6.7.1
Temperature
Sensor
Example
30
{
  : [&lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-td-context.jsonld",
               &lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-common-context.jsonld"],
  : [&lt;span class=
"hljs-string"&gt;"Sensor"],
  : &lt;span class=
"hljs-string"&gt;"myTempSensor",
   : &lt;span class=
"hljs-string"&gt;"coap:///www.example.com:5683/temp/",
  : [
    {
      : [&lt;span class=
"hljs-string"&gt;"Property",&lt;span class=
"hljs-string"&gt;"Temperature"],
      : &lt;span class=
"hljs-string"&gt;"threshold",
      : &lt;span class=
"hljs-string"&gt;"myTemp",
      :  { 
        : &lt;span class=
"hljs-string"&gt;"number"
      },
      : &lt;span class=
"hljs-literal"&gt;false,
      : &lt;span class=
"hljs-literal"&gt;true,
      : [{
           : &lt;span class=
"hljs-string"&gt;"val",
          : &lt;span class=
"hljs-string"&gt;"application/json"
      }]
    }, 
    {
      : [&lt;span class=
"hljs-string"&gt;"Property",&lt;span class=
"hljs-string"&gt;"Temperature"],
      : &lt;span class=
"hljs-string"&gt;"myThreshold",
      : { 
        : &lt;span class=
"hljs-string"&gt;"number"
      },
      : &lt;span class=
"hljs-literal"&gt;true,
         : [{
           : &lt;span class=
"hljs-string"&gt;"thr",
          : &lt;span class=
"hljs-string"&gt;"application/json"
      }]
    },
    {
      : [&lt;span class=
"hljs-string"&gt;"Event"],
      : { &lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"number" },
      : &lt;span class=
"hljs-string"&gt;"myChange",
      : &lt;span class=
"hljs-string"&gt;"temp",
      : [{
           : &lt;span class=
"hljs-string"&gt;"val/changed",
          : &lt;span class=
"hljs-string"&gt;"application/json"
      }]
    }, 
    {
      : [&lt;span class=
"hljs-string"&gt;"Event"],
      :  { &lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"number" },
      : &lt;span class=
"hljs-string"&gt;"myWarning",
      : [{
           : &lt;span class=
"hljs-string"&gt;"val/high",
          : &lt;span class=
"hljs-string"&gt;"application/json"
      }]
    }
  ]
}
</del>
<p>
The
<ins class="diff-new">following
pre-processing
steps
of
a
</ins>
Thing
<ins class="diff-new">Description
instance
must
be
executed
before
starting
JSON-LD
1.1
processing:
</ins></p><ul><li><span class="rfc2119-assertion" id= "td-jsonld-preprocessing-context"><ins class="diff-new">
Before
starting
JSON-LD
1.1
processing
of
a
Thing
Description
instance,
there
</ins><em class= "rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
a
</ins>
<code>
<del class="diff-old">myTempSensor
defines
two
Properties:
myTemp
</del>
<ins class="diff-chg">@context
</ins>
</code>
<del class="diff-old">and
myThreshold
.
Both
are
</del>
<ins class="diff-chg">key
from
JSON-LD
1.1
as
</ins>
defined
<ins class="diff-new">in
Section
</ins><a href= "#sec-thing-as-a-whole-json" class="sec-ref"><span class= "secno"><ins class="diff-new">
6.1.1
</ins></span><span class="sec-title"><ins class="diff-new">
Thing
</ins>
as
<del class="diff-old">temperatures.
A
client
that
is
able
to
parse
</del>
a
<del class="diff-old">TD
only
needs
to
know
the
predicate
reference
to
understand
that
the
threshold
acts
as
</del>
<ins class="diff-chg">whole
</ins></span></a>.</span></li><li><span class="rfc2119-assertion" id= "td-jsonld-preprocessing-prefix"><ins class="diff-chg">
Before
starting
JSON-LD
1.1
processing
of
</ins>
a
<del class="diff-old">reference
value
for
myTemp
while
the
latter
is
</del>
<ins class="diff-chg">Thing
Description
instance,
all
external
vocabulary
terms
used
in
</ins>
the
<del class="diff-old">actual
value
measured
by
</del>
<ins class="diff-chg">Thing
Description
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
provide
their
context
URIs
as
prefix
or
within
</ins>
the
<del class="diff-old">temperature
sensor.
Here,
</del>
<code>
<del class="diff-old">reference
</del>
<ins class="diff-chg">@context
</ins>
</code>
<del class="diff-old">points
to
</del>
<ins class="diff-chg">field.
</ins></span>
<del class="diff-old">http://schema.org/valueReference
</del>
</li>
<li>
<del class="diff-old">.
Moreover,
one
of
the
Events
</del>
<span class="rfc2119-assertion" id= "td-jsonld-preprocessing-defaults">
<ins class="diff-chg">Before
starting
JSON-LD
1.1
processing
</ins>
of
<del class="diff-old">the
</del>
<ins class="diff-chg">a
</ins>
Thing
<del class="diff-old">is
linked
to
the
measured
value
(with
the
predicate
property
).
It
means
</del>
<ins class="diff-chg">Description
instance,
all
mandatory
vocabulary
terms
as
defined
</ins>
in
<ins class="diff-new">Section
</ins><a href= "#sec-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-new">
5.
</ins></span><span class="sec-title"><ins class="diff-new">
Information
Model
</ins></span></a>
that
<del class="diff-old">context
that
an
event
should
be
triggered
each
time
myTemp
changes.
The
other
Event
does
not
define
further
semantics.
It
could
be
used
either
in
a
closed
system
(where
clients
</del>
are
<del class="diff-old">aware
of
its
meaning)
or
by
a
human
but
</del>
<ins class="diff-chg">missing
from
the
instance
</ins><em class= "rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
inserted
explicitly
with
their
default
value.
</ins></span></li></ul><p><ins class="diff-chg">
Section
</ins><a href="#introduction" class="sec-ref"><span class= "secno"><ins class="diff-chg">
1.
</ins></span><span class="sec-title"><ins class="diff-chg">
Introduction
</ins></span></a><ins class="diff-chg">
shows
</ins>
an
<del class="diff-old">external
agent
</del>
<ins class="diff-chg">example
of
how
the
input
and
output
of
such
preprocessing
</ins>
would
<del class="diff-old">not
have
sufficient
information
to
interpret
it.
</del>
<ins class="diff-chg">appear.
</ins>
</p>
</section>
</section>
</section>
<section id="example-serialization">
<h2 id="x7-example-thing-description-instances">
<span class= "secno">
<ins class="diff-chg">7.
</ins></span><ins class="diff-chg">
Example
Thing
Description
Instances
</ins><a class= "self-link" aria-label="§" href="#example-serialization"></a></h2><section id="myLampThing-example-serialization"><h3 id="x7-1-mylampthing-example">
<span class="secno">
<del class="diff-old">6.7.2
</del>
<ins class="diff-chg">7.1
</ins>
</span>
<del class="diff-old">LED
Master
Switch
</del>
<ins class="diff-chg">MyLampThing
Example
</ins><a class="self-link" aria-label="§" href= "#myLampThing-example-serialization">
</a>
</h3>
<div class="example" id= "ex-18-mylampthing-represented-as-a-compact-json-serialization">
<div class="marker">
<a class="self-link" href= "#ex-18-mylampthing-represented-as-a-compact-json-serialization">
Example
<del class="diff-old">31
</del>
<ins class="diff-chg">18
</ins></a><span class="example-title">:<ins class="diff-chg">
MyLampThing
represented
as
a
compact
JSON
serialization
</ins>
</span>
</div>
<pre class="hljs json" aria-busy="false">{
<del class="diff-old">  : [&lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-td-context.jsonld",
               &lt;span class=
"hljs-string"&gt;"https://w3c.github.io/wot/w3c-wot-common-context.jsonld"],
  : [&lt;span class=
"hljs-string"&gt;"Lamp"],
  : &lt;span class=
"hljs-string"&gt;"myMasterLED",
  : [
    {
      : [&lt;span class=
"hljs-string"&gt;"Action", &lt;span class=
"hljs-string"&gt;"Toggle"],
      : &lt;span class=
"hljs-string"&gt;"myMasterOnOff",
      : {
        : [&lt;span class=
"hljs-string"&gt;"OnOff"],
        : &lt;span class=
"hljs-string"&gt;"boolean"
      },
      : [
        {
           : &lt;span class=
"hljs-string"&gt;"coap://www.example.com:5683/master",
          : &lt;span class=
"hljs-string"&gt;"application/json"
        },
        {
           : &lt;span class=
"hljs-string"&gt;"http://www.example.com:80/master",
          : &lt;span class=
"hljs-string"&gt;"application/json"
</del>
    <span class="hljs-attr">"id"</span>: <span class=
<ins class="diff-chg">"hljs-string">"urn:dev:wot:com:example:servient:lamp"</span>,
</ins>    <span class="hljs-attr">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyLampThing"</span>,
</ins>    <span class="hljs-attr">"description"</span> : <span class=<ins class="diff-chg">
"hljs-string">"MyLampThing uses JSON-LD 1.1 serialization"</span>,
</ins>    <span class="hljs-attr">"security"</span>: [{<span class=<ins class="diff-chg">
"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"psk"</span>}],
</ins>    <span class="hljs-attr">"properties"</span>: {        <span class="hljs-attr">"status"</span>: {            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Shows the current status of the lamp"</span>,
</ins>            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"coaps://mylamp.example.com/status"</span>
            }]
        }
    },
</ins>    <span class="hljs-attr">"actions"</span>: {        <span class="hljs-attr">"toggle"</span>: {            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Turn on or off the lamp"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"coaps://mylamp.example.com/toggle"</span>
            }]
        }
    },
</ins>    <span class="hljs-attr">"events"</span>: {        <span class="hljs-attr">"overheating"</span>: {            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
</ins>            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"coaps://mylamp.example.com/oh"</span>
            }]
</ins>
        }
<del class="diff-old">      ]
</del>
    }
<del class="diff-old">  ]
</del>
}
</pre>
</div>
<div class="example" id= "ex-19-mylampthing-with-semantic-annotations-based-on-a-valid-json-ld-1-1-representation">
<div class="marker">
<del class="diff-old">Editor's
note
</del>
<a class="self-link" href= "#ex-19-mylampthing-with-semantic-annotations-based-on-a-valid-json-ld-1-1-representation">
<ins class="diff-chg">Example
19
</ins></a><span class="example-title">:<ins class="diff-chg">
MyLampThing
with
semantic
annotations
based
on
a
valid
JSON-LD
1.1
representation
</ins>
</span>
</div>
<del class="diff-old">In
this
last
example,
it
would
be
good
to
illustrate
the
use
of
associations
.
The
Thing
we
modeled
here
acts
as
a
master
switch
for
eight
lamps.
This
means
switching
on
and
off
myMasterOnOff
will
propagate
to
all
associated
Things
by
toggling
their
Action
that
is
also
of
type
Toggle
.
No
precise
semantics
for
associations
have
been
defined
yet
and
there
might
exist
many
other
kinds
of
dependency
between
Things
than
simply
parent/child
relations.
This
issue
will
be
addressed
soon.
Until
then,
Thing
associations
could
be
useful
for
discovery.
</del>
<pre class="hljs json" aria-busy="false">{
    <span class="hljs-attr">"@context"</span>: [<span class=
<ins class="diff-chg">"hljs-string">"http://www.w3.org/ns/td"</span>, 
                {<span class="hljs-attr">"iot"</span>: <span class=
"hljs-string">"http://iotschema.org/"</span>}],
</ins>    <span class="hljs-attr">"@type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"Thing"</span>,
</ins>    <span class="hljs-attr">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:lamp"</span>,
</ins>    <span class="hljs-attr">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyLampThing"</span>,
</ins>    <span class="hljs-attr">"description"</span> : <span class=<ins class="diff-chg">
"hljs-string">"MyLampThing uses JSON-LD 1.1 serialization"</span>,
</ins>    <span class="hljs-attr">"security"</span>: [{<span class=<ins class="diff-chg">
"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"psk"</span>}],
</ins>    <span class="hljs-attr">"properties"</span>: {        <span class="hljs-attr">"status"</span>: {            <span class="hljs-attr">"@type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"iot:SwitchStatus"</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Shows the current status of the lamp"</span>,
</ins>            <span class="hljs-attr">"writable"</span>: <span class=<ins class="diff-chg">
"hljs-literal">false</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-attr">"observable"</span>: <span class=
"hljs-literal">false</span>,
</ins>            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"coaps://mylamp.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
            }]
        }
    },
</ins>    <span class="hljs-attr">"actions"</span>: {        <span class="hljs-attr">"toggle"</span>: {            <span class="hljs-attr">"@type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"iot:SwitchStatus"</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Turn on or off the lamp"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"coaps://mylamp.example.com/toggle"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
            }]
        }
    },
</ins>    <span class="hljs-attr">"events"</span>: {        <span class="hljs-attr">"overheating"</span>: {            <span class="hljs-attr">"@type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"iot:TemperatureAlarm"</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
</ins>            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"forms"</span>: [{                <span class="hljs-attr">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"coaps://mylamp.example.com/oh"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-attr">"mediaType"</span>: <span class=
"hljs-string">"application/json"</span>
            }]
        }
    }
}
</ins></pre>
</div>
</section>
</section>
<section id="security-consideration">
<h2 id="x8-security-and-privacy-considerations">
<span class= "secno">
<del class="diff-old">7.
</del>
<ins class="diff-chg">8.
</ins>
</span>
Security
and
Privacy
Considerations
<a class= "self-link" aria-label="§" href="#security-consideration">
</a>
</h2>
<div class="ednote" id="issue-container-generatedID-10">
<div role="heading" class="ednote-title marker" id="h-ednote-9" aria-level="3">
<span>
Editor's
note
</span>
</div>
<p class="">
Please
see
the
<a href= "https://github.com/w3c/wot-security/">
WoT
Security
and
Privacy
</a>
repository
for
work
in
progress
regarding
threat
models,
assets,
risks,
recommended
mitigations,
and
best
practices
for
security
and
privacy
for
systems
using
the
Web
of
Things.
Once
complete,
security
and
privacy
considerations
relevant
to
Thing
Descriptions
will
be
summarized
in
this
section.
</p>
</div>
</section>
<section id="json-schema-4-validation" class="appendix normative">
<h2 id="a-json-schema-for-td-instance-validation">
<span class= "secno">
A.
</span>
<ins class="diff-new">JSON
Schema
for
TD
Instance
Validation
</ins><a class= "self-link" aria-label="§" href= "#json-schema-4-validation"></a></h2><ins class="diff-new">
Below
is
a
JSON
Schema
[
</ins><cite><a class="bibref" href= "#bib-json-schema-validation"><ins class="diff-new">
JSON-SCHEMA-VALIDATION
</ins></a></cite><ins class="diff-new">
]
for
syntactically
validating
Thing
Description
instances
serialized
in
JSON-LD
1.1.
</ins><div class="ednote" id="issue-container-generatedID-11"><div role="heading" class="ednote-title marker" id="h-ednote-10" aria-level="3"><span><ins class="diff-new">
Editor's
note
</ins></span></div><p class=""><ins class="diff-new">
This
schema
is
known
to
be
too
permissive.
This
issue
will
be
resolved
in
the
next
release
of
this
document.
</ins></p></div><pre class="advisement hljs" aria-busy="false">{<ins class="diff-new">
  "title": "WoT TD Schema for Bundang Plug Fest",
  "description": "JSON Schema representation of the TD serialisation format.",
  "$schema ": "http://json-schema.org/draft-06/schema#",
  "type": "object",
  "properties": {
    "base": {
      "$ref": "#/definitions/url"
    },
    "@type": {
      "$ref": "#/definitions/type_declaration"
    },
    "@context": {
      "$ref": "#/definitions/context"
    },
    "name": {
      "type": "string"
    },
    "id": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "properties": {
      "type": "object",
      "items": {
        "$ref": "#/definitions/properties"
      }
    },
    "actions": {
      "type": "object",
      "items": {
        "$ref": "#/definitions/actions"
      }
    },
    "events": {
      "type": "object",
      "items": {
        "$ref": "#/definitions/events"
      }
    },
    "links": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/links"
      }
    },
    "support": {
      "type": "string"
    },
    "security": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/securityScheme"
      }
    }
  },
  "required": [
    "name",
    "id"
  ],
  "additionalProperties": true,
  "definitions": {
    "context": {
      "oneOf": [
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/url"
              },
              {
                "type": "object"
              }
            ]
          },
          "contains": {
            "type": "string",
            "enum": [
              "https://w3c.github.io/wot-thing-description/context/td-context.jsonld",
              "http://www.w3.org/ns/td"
            ]
          }
        },
        {
          "type": "string",
          "enum": [
            "https://w3c.github.io/wot-thing-description/context/td-context.jsonld",
            "http://www.w3.org/ns/td"
          ]
        }
      ]
    },
    "type_declaration": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "type": "array"
        }
      ]
    },
    "form_declaration": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/form_element"
      }
    },
    "form_element": {
      "type": "object",
      "properties": {
        "href": {
          "$ref": "#/definitions/url"
        },
        "rel": {
          "type": "string"
        },
        "mediaType": {
          "type": "string"
        },
        "subProtocol": {
          "type": "string"
        },
        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "href"
      ],
      "additionalProperties": true
    },
    "properties": {
      "additionalProperties": {
        "type": "object",
        "items": {
          "$ref": "#/definitions/property_element"
        }
      }
    },
    "actions": {
      "additionalProperties": {
        "type": "object",
        "items": {
          "$ref": "#/definitions/action_element"
        }
      }
    },
    "events": {
      "additionalProperties": {
        "type": "object",
        "items": {
          "$ref": "#/definitions/event_element"
        }
      }
    },
    "property_element": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "@type": {
          "$ref": "#/definitions/type_declaration"
        },
        "label": {
          "type": "string"
        },
        "writable": {
          "type": "boolean"
        },
        "observable": {
          "type": "boolean"
        },
        "forms": {
          "$ref": "#/definitions/form_declaration"
        },
        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [],
      "additionalProperties": true
    },
    "action_element": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "@type": {
          "$ref": "#/definitions/type_declaration"
        },
        "label": {
          "type": "string"
        },
        "forms": {
          "$ref": "#/definitions/form_declaration"
        },
        "input": {
          "$ref": "#/definitions/data"
        },
        "output": {
          "$ref": "#/definitions/data"
        },
        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [],
      "additionalProperties": true
    },
    "event_element": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "@type": {
          "$ref": "#/definitions/type_declaration"
        },
        "label": {
          "type": "string"
        },
        "forms": {
          "$ref": "#/definitions/form_declaration"
        },
        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [],
      "additionalProperties": true
    },
    "links": {
      "type": "object",
      "properties": {
        "anchor": {
          "$ref": "#/definitions/url"
        },
        "href": {
          "$ref": "#/definitions/url"
        },
        "rel": {
          "type": "string"
        },
        "mediatype": {
          "type": "string"
        }
      },
      "required": [
        "href"
      ],
      "additionalProperties": true
    },
    "securityScheme": {
      "type": "object"
    },
    "url": {
      "type": "string",
      "format": "uri",
      "pattern": "(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(([^#]*))?(#(.*))?"
    },
    "jsonld_url": {
      "type": "string",
      "format": "uri",
      "pattern": "http://[^/?#]*|https://[^/?#]*"
    },
    "data": {
      "title": "Data type",
      "anyOf": [
        {
          "description": "URI of an XSD built-in type",
          "type": "string"
        },
        {
          "description": "URI and media type for a complex type (XSD, SenML...)",
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "href": {
              "type": "string"
            },
            "mediatype": {
              "type": "string"
            }
          },
          "required": [
            "name",
            "href",
            "mediatype"
          ]
        },
        {
          "$ref": "http://json-schema.org/draft-06/schema#"
        }
      ]
    },
    "dataSchema": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "enum": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "boolean"
              },
              {
                "type": "object"
              },
              {
                "type": "number"
              },
              {
                "type": "array"
              }
            ]
          }
        },
        "type": {
          "type": "string",
          "enum": [
            "string",
            "boolean",
            "object",
            "number",
            "array"
          ]
        }
      }
    }
  }
}
</ins></pre></section><section id="changes" class="appendix"><h2 id="b-recent-specification-changes"><span class= "secno"><ins class="diff-new">
B.
</ins></span>
Recent
Specification
Changes
<a class="self-link" aria-label="§" href="#changes">
<del class="diff-old">A.1
</del>
</a>
</h2>
<h2 id="changes2">
Changes
from
<del class="diff-old">First
</del>
<ins class="diff-chg">Second
</ins>
Public
Working
Draft
<a class= "self-link" aria-label="§" href="#changes">
</a>
</h2>
<ul>
<li>
<del class="diff-old">Property's
"outputData"
field
was
renamed
</del>
<ins class="diff-chg">The
default
serialization
format
for
Thing
Description
is
now
plain
JSON.
Thing
Description
instances
still
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
contain
JSON-LD
keys
such
</ins>
as
<del class="diff-old">"schema".
</del>
<code>
<ins class="diff-chg">@context
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
@type
</ins></code><ins class="diff-chg">
for
facilitating
semantic
evaluation
of
TDs.
(see
Section
</ins><a href= "#json-serializiation-section" class="sec-ref"><span class= "secno"><ins class="diff-chg">
6.1
</ins></span><span class="sec-title"><ins class="diff-chg">
Representation
Format
</ins></span></a><ins class="diff-chg">
)
</ins>
</li>
<li>
<del class="diff-old">Action's
"inputData"
and
"outputData"
fields
</del>
<ins class="diff-chg">With
regards
to
JSON-LD,
this
Thing
Description
draft
uses
JSON-LD
1.1
instead
of
JSON-LD
1.0.
With
this
transition,
all
vocabulary
terms
defined
in
vocabulary
definition
sections
now
have
a
JSON
key
representation.
Previously,
there
</ins>
were
<del class="diff-old">renamed
</del>
<ins class="diff-chg">vocabulary
terms
represented
</ins>
as
<del class="diff-old">"inputSchema"
and
"outputSchema",
respectively.
</del>
<ins class="diff-chg">key
values
in
TDs.
</ins>
</li>
<li>
<del class="diff-old">Event's
"outputData"
field
was
renamed
</del>
<ins class="diff-chg">In
addition
to
Thing
Description
core
vocabulary,
Thing
Description
now
has
the
data
schema
vocabulary
reflecting
a
subset
of
JSON
Schema
terms
</ins>
as
<del class="diff-old">"schema".
</del>
<ins class="diff-chg">linked
data
representation
(see
Section
</ins><a href="#sec-data-schema-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-chg">
5.3
</ins></span><span class= "sec-title"><ins class="diff-chg">
Data
Schema
Vocabulary
Definition
</ins></span></a><ins class="diff-chg">
)
and
the
security
vocabulary
(see
Section
</ins><a href= "#sec-security-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-chg">
5.4
</ins></span><span class="sec-title"><ins class="diff-chg">
Security
Vocabulary
Definition
</ins></span></a><ins class="diff-chg">
)
for
defining
security
based
conditions.
</ins>
</li>
<li>
<del class="diff-old">Communication
metadata
"link"
was
renamed
as
"form",
</del>
<ins class="diff-chg">A
security
field
is
available
at
three
levels
(Thing,
Interaction
Patterns
</ins>
and
<del class="diff-old">a
</del>
<ins class="diff-chg">Forms)
for
providing
security
requirements
for
accessing
resources.
Security
configuration
is
mandatory
for
each
</ins><code>
form
</code>.
</li>
<li>
<ins class="diff-new">Some
vocabulary
terms
(e.g.,
</ins><code><ins class="diff-new">
writable
</ins></code>,<code><ins class="diff-new">
observable
</ins></code>,<code><ins class="diff-new">
mediaType
</ins></code><ins class="diff-new">
)
</ins>
now
<del class="diff-old">contains
</del>
<ins class="diff-chg">have
default
values
that
are
used
by
Thing
Description
processors
when
they
are
absent
in
TD
instances
(see
Section
</ins><a href= "#sec-core-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-chg">
5.2
</ins></span><span class="sec-title"><ins class="diff-chg">
Core
Vocabulary
Definition
</ins></span></a><ins class="diff-chg">
).
Note
that
some
security
vocabulary
terms
can
also
have
such
values
(see
Section
</ins><a href= "#sec-security-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-chg">
5.4
</ins></span><span class="sec-title"><ins class="diff-chg">
Security
Vocabulary
Definition
</ins></span></a><ins class="diff-chg">
).
</ins></li><li><ins class="diff-chg">
Things
now
have
</ins>
a
<del class="diff-old">new
</del>
<ins class="diff-chg">mandatory
</ins>
field
<del class="diff-old">"rel".
</del>
<code>
<ins class="diff-chg">id
</ins></code><ins class="diff-chg">
for
uniquely
identifying
a
Thing,
and
an
optional
field
</ins><code><ins class="diff-chg">
support
</ins></code><ins class="diff-chg">
to
provide
information
about
Thing
Description
maintainer.
</ins>
</li>
<li>
<del class="diff-old">A
Web
"link"
was
introduced
at
</del>
<ins class="diff-chg">Interaction
patterns
have
an
optional
</ins><code><ins class="diff-chg">
label
</ins></code><ins class="diff-chg">
field
providing
text
for
such
uses
as
user
interfaces.
</ins></li><li><ins class="diff-chg">
The
</ins><code><ins class="diff-chg">
rel
</ins></code><ins class="diff-chg">
attribute
for
</ins><code><ins class="diff-chg">
form
</ins></code><ins class="diff-chg">
now
has
enumerated
allowable
values
specified.
</ins></li><li><ins class="diff-chg">
JSON-LD
@context
key
value
to
represent
</ins>
the
<del class="diff-old">top
level.
</del>
<ins class="diff-chg">Thing
description
context
file
now
is
</ins><code><ins class="diff-chg">
http://www.w3.org/ns/td
</ins></code>.
</li>
<li>
<del class="diff-old">Descriptions
were
added
</del>
<ins class="diff-chg">Added
a
section
about
media
types
used
for
exchanging
TDs.
(see
Section
</ins><a href="#media-type-section" class="sec-ref"><span class= "secno"><ins class="diff-chg">
6.2
</ins></span><span class="sec-title"><ins class="diff-chg">
Media
Type
</ins></span></a><ins class="diff-chg">
)
</ins></li><li><ins class="diff-chg">
Added
a
section
about
implementation
notes
that
provide
useful
clarifications
</ins>
to
<del class="diff-old">explain
how
semantic
annotations
can
be
attached
at
various
levels
(thing,
interaction
and
data).
</del>
<ins class="diff-chg">implementors.
(see
Section
</ins><a href= "#Implementation-Note-section" class="sec-ref"><span class= "secno"><ins class="diff-chg">
6.3
</ins></span><span class="sec-title"><ins class="diff-chg">
Implementation
Notes
</ins></span></a><ins class="diff-chg">
)
</ins></li><li><ins class="diff-chg">
A
JSON
Schema
is
provided
in
an
appendix
section
to
facilitate
the
validation
of
Thing
Description
instances.
(see
Section
</ins><a href="#json-schema-4-validation" class="sec-ref"><span class= "secno"><ins class="diff-chg">
A.
</ins></span><span class="sec-title"><ins class="diff-chg">
JSON
Schema
for
TD
Instance
Validation
</ins></span></a><ins class="diff-chg">
)
</ins>
</li>
</ul>
<h2 id="changes1">
<ins class="diff-chg">Changes
from
First
Public
Working
Draft
</ins><a class= "self-link" aria-label="§" href="#changes"></a></h2><p><ins class="diff-chg">
Changes
from
First
Public
Working
Draft
are
described
in
the
</ins><a href= "https://www.w3.org/TR/2018/WD-wot-thing-description-20180405/#changes"><ins class="diff-chg">
Second
Public
Working
Draft
</ins></a></p>
</section>
<section id="acknowledgements" class="appendix normative">
<h2 id="c-acknowledgements">
<span class="secno">
<del class="diff-old">B.
</del>
<ins class="diff-chg">C.
</ins>
</span>
Acknowledgements
<a class="self-link" aria-label="§" href= "#acknowledgements">
</a>
</h2>
<p>
<del class="diff-old">This
document
contains
a
significant
contribution
from
Web
of
Things
members:
...
</del>
<ins class="diff-chg">The
editors
would
like
to
thank
Dave
Raggett,
Matthias
Kovatsch,
Michael
McCool,
Michael
Koster,
Victor
Charpenay,
Kawaguchi
Toru,
Michael
Lagally,
Kazuyuki
Ashimura,
María
Poveda,
Daniel
Peintner,
Ben
Francis
for
their
contributions,
comments,
and
guidance.
</ins>
</p>
</section>
<section id="references" class="appendix">
<h2 id="d-references">
<span class="secno">
<del class="diff-old">C.
</del>
<ins class="diff-chg">D.
</ins>
</span>
References
<a class="self-link" aria-label="§" href= "#references">
</a>
</h2>
<section id="normative-references">
<h3 id="d-1-normative-references">
<span class="secno">
<del class="diff-old">C.1
</del>
<ins class="diff-chg">D.1
</ins>
</span>
Normative
references
<a class="self-link" aria-label="§" href= "#normative-references">
</a>
</h3>
<dl class="bibliography">
<dt id="bib-mediatypes">
<ins class="diff-chg">[MEDIATYPES]
</ins></dt><dd><a href= "https://www.iana.org/assignments/media-types/media-types.xhtml"><cite><ins class="diff-chg">
Media
Types
</ins></cite></a>.<ins class="diff-chg">
IANA.
URL:
</ins><a href= "https://www.iana.org/assignments/media-types/media-types.xhtml"><ins class="diff-chg">
https://www.iana.org/assignments/media-types/media-types.xhtml
</ins></a></dd><dt id="bib-rfc2119">
[RFC2119]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc2119">
<cite>
Key
words
for
use
in
RFCs
to
Indicate
Requirement
Levels
</cite>
</a>.
S.
Bradner.
IETF.
March
1997.
Best
Current
Practice.
URL:
<a href= "https://tools.ietf.org/html/rfc2119">
https://tools.ietf.org/html/rfc2119
</a>
</dd>
<dt id="bib-rfc3986">
[RFC3986]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3986">
<cite>
Uniform
Resource
Identifier
(URI):
Generic
Syntax
</cite>
</a>.
T.
Berners-Lee;
R.
Fielding;
L.
Masinter.
IETF.
January
2005.
Internet
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc3986">
https://tools.ietf.org/html/rfc3986
</a>
</dd>
<del class="diff-old">[RFC7159]
</del>
<dt id="bib-rfc8259">
<ins class="diff-chg">[RFC8259]
</ins>
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc8259">
<cite>
The
JavaScript
Object
Notation
(JSON)
Data
Interchange
Format
</cite>
</a>.
T.
Bray,
Ed..
IETF.
<del class="diff-old">March
2014.
Proposed
</del>
<ins class="diff-chg">December
2017.
Internet
</ins>
Standard.
URL:
<del class="diff-old">https://tools.ietf.org/html/rfc7159
</del>
<a href= "https://tools.ietf.org/html/rfc8259">
<ins class="diff-chg">https://tools.ietf.org/html/rfc8259
</ins>
</a>
</dd>
<dt id="bib-wot-architecture">
[WOT-ARCHITECTURE]
</dt>
<dd>
<a href="https://w3c.github.io/wot-architecture/">
<cite>
Web
of
Things
Architecture
</cite>
</a>.
Kazuo
Kajimoto;
Matthias
Kovatsch;
Uday
Davuluru.
W3C.
20
August
2017.
URL:
<a href= "https://w3c.github.io/wot-architecture/">
https://w3c.github.io/wot-architecture/
</a>
</dd>
<dt id="bib-wot-protocol-binding">
[WOT-PROTOCOL-BINDING]
</dt>
<dd>
<a href= "https://w3c.github.io/wot-binding-templates/">
<cite>
Web
of
Things
Protocol
Binding
Templates
</cite>
</a>.
Michael
Koster.
W3C.
12
January
2018.
URL:
<a href= "https://w3c.github.io/wot-binding-templates/">
https://w3c.github.io/wot-binding-templates/
</a>
</dd>
</dl>
</section>
<section id="informative-references">
<h3 id="d-2-informative-references">
<span class="secno">
<del class="diff-old">C.2
</del>
<ins class="diff-chg">D.2
</ins>
</span>
Informative
references
<del class="diff-old">[exi-for-json]
EXI
for
JSON
(EXI4JSON)
</del>
<a class="self-link" aria-label="§" href= "#informative-references">
<del class="diff-old">.
Daniel
Peintner;
Don
Brutzman.
W3C.
23
August
2016.
W3C
Working
Draft.
URL:
https://www.w3.org/TR/exi-for-json/
</del>
</a>
<del class="diff-old">[JSON-SCHEMA-CORE]
JSON
Schema:
A
Media
Type
for
Describing
JSON
Documents
.
Austin
Wright;
Henry
Andrews.
IETF.
Internet-Draft.
URL:
https://tools.ietf.org/html/draft-handrews-json-schema-00
</del>
</h3>
<dl class="bibliography">
<dt id="bib-json-schema-validation">
[JSON-SCHEMA-VALIDATION]
</dt>
<dd>
<a href= "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00">
<cite>
JSON
Schema
Validation:
A
Vocabulary
for
Structural
Validation
of
JSON
</cite>
</a>.
Austin
Wright;
Henry
Andrews;
Geraint
Luff.
IETF.
Internet-Draft.
URL:
<a href= "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00">
https://tools.ietf.org/html/draft-handrews-json-schema-validation-00
</a>
</dd>
<dt id="bib-openapi">
<ins class="diff-new">[OPENAPI]
</ins></dt><dd><a href="https://swagger.io/specification/"><cite><ins class="diff-new">
OpenAPI
Specification:
Version
3.0.1
</ins></cite></a>.<ins class="diff-new">
Darrel
Miller;
Jason
Harmon;
Jeremy
Whitlock;
Kris
Hahn;
Marsh
Gardiner;
Mike
Ralphson;
Rob
Dolin;
Ron
Ratovsky;
Tony
Tam.
OpenAPI
Initiative,
Linux
Foundation.
7
December
2017.
URL:
</ins><a href= "https://swagger.io/specification/"><ins class="diff-new">
https://swagger.io/specification/
</ins></a></dd>
</dl>
</section>
</section>
<p role="navigation" id="back-to-top">
<a href="#toc">
<abbr title= "Back to Top">
↑
</abbr>
</a>
</p>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js">
</script>
</body>
</html>
