<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 34.1.8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
    
<title>Web of Things (WoT) Thing Description 1.1</title>
    
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
    

<style>

a[href].internalDFN {
    color: inherit;
    border-bottom: 1px solid #99c;
    text-decoration: none;
}

.example {
		border-color: #EA1252;
		background: #FEF11E;
		counter-increment: example;
		overflow: auto;
		clear: both;
}

.with-default .with-default-control {
    margin-top: 1em;
    margin-bottom: 1em;
}

.with-default pre.selected {
    margin-top: 0;
    margin-bottom: 1em;
    height: auto;
}

.with-default pre {
    margin-top: 0;
    margin-bottom: 0;
    height: 0;
}

/* Print parts that might be hidden */
@media print {
	.with-default pre {
		margin-top: 0;
		margin-bottom: 1em;
		height: auto;
	}
}

</style>


<script>
	function defaultCheckboxListener() {
		document.querySelectorAll('.with-default').forEach(n => {
			let wo = n.querySelector('pre:nth-of-type(1)');
			let w = n.querySelector('pre:nth-of-type(2)');
			let cbox = n.querySelector('.with-default-control input[type="checkbox"]');

			w.classList.add('selected');
			cbox.checked = true;

			cbox.addEventListener('change', e => {
				if (e.target.checked) {
					// with default
					w.classList.add('selected');
					wo.classList.remove('selected');
				} else {
					// without
					w.classList.remove('selected');
					wo.classList.add('selected');
				}
			});
		});
	}

	if (document.respec) {
		// ReSpec mode
		document.addEventListener('DOMContentLoaded', () => {
			// let ReSpec do syntax highlighting first
			document.respec.ready.then(() => {
				defaultCheckboxListener();
			});
		});
	} else {
		// W3C specs on the W3C server don't use ReSpec
		document.addEventListener('readystatechange', () => {
			if (document.readyState === 'complete') {
				defaultCheckboxListener();
			}
		});
	}
</script>

<script>
	function openTab(example, tabClass) {
	  var i;
	  var x = document.getElementsByClassName(example);
	  for (i = 0; i < x.length; i++) {
		x[i].classList.remove("selected");
		if ( x[i].classList.contains(tabClass) ) {
			x[i].classList.add("selected");
		}
	  }
	}
</script>

<style>

  /* example tab selection */
  .ds-selector-tabs {
    padding-bottom: 2em;
  }
  .ds-selector-tabs .selectors {
    padding: 0;
    border-bottom: 1px solid #ccc;
    height: 28px;
  }
  .ds-selector-tabs .selectors button {
    display: inline-block;
    min-width: 54px;
    text-align: center;
    font-size: 11px;
    font-weight: bold;
    height: 27px;
    padding: 0 8px;
    line-height: 27px;
    transition: all,0.218s;
    border-top-right-radius: 2px;
    border-top-left-radius: 2px;
    color: #666;
    border: 1px solid transparent;
  }
  .ds-selector-tabs .selectors button:first-child {
    margin-left: 2px;
  }
  .ds-selector-tabs .selectors button.selected {
    color: #202020 !important;
    border: 1px solid #ccc;
    border-bottom: 1px solid #fff !important;
  }
  .ds-selector-tabs .selectors button:hover {
    background-color: transparent;
    color: #202020;
    cursor: pointer;
  }
  .ds-selector-tabs pre, .ds-selector-tabs table {
    display: none;
  }
  /* Print parts that might be hidden */
  @media print {
    .ds-selector-tabs pre, .ds-selector-tabs table {
      display: inline;
    }
  }
  .ds-selector-tabs pre.selected, .ds-selector-tabs table.selected {
    display: block;
  }
  a.playground {
    display: inline-block;
    width: 150px;
    border: 1px solid transparent;
    border-top-right-radius: 2px;
    border-top-left-radius: 2px;
    background-color: rgb(192, 192, 192);
    text-decoration: none;
    font-size: 13px;
    margin-bottom: 10px;
  }
  a[href].playground {
    padding: 4px 0 3px 8px;
    border-bottom: none;
    text-decoration: none;
    color: #666;
  }

</style>



<style>

.rfc2119-assertion {
  background-color: rgb(230,230,230)
}
.at-risk {
  background-color: yellow;
}


</style>



<meta name="description" content="This document describes a formal information model and a common representation 
  for a Web of Things (WoT) Thing Description 1.1. 
  A Thing Description describes the metadata and interfaces of Things,
  where a Thing is an abstraction of a physical or virtual entity that
  provides interactions to and participates in the Web of Things. 
  Thing Descriptions provide a set of interactions based on a small vocabulary 
  that makes it possible both to integrate diverse devices and 
  to allow diverse applications to interoperate. 
  Thing Descriptions, by default, are encoded in a JSON format that also allows
  JSON-LD processing. The latter provides a powerful foundation to represent
  knowledge about Things in a machine-understandable way.
  A Thing Description instance can be hosted by the Thing itself or hosted
  externally when a Thing has resource restrictions (e.g., limited memory space)
  or when a Web of Things-compatible legacy device is retrofitted 
  with a Thing Description.
  Furthermore, this document introduces the Thing Model, which allows authors to describe
  only the model or class of an Internet of Things (IoT) entity. Thing Models can be seen as a template for Thing 
  Description instances, but with reduced constraints such as no or few requirements for specific 
  communication metadata.">
<link rel="canonical" href="https://www.w3.org/TR/wot-thing-description11/">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "REC",
  "crEnd": "2019-06-13",
  "previousMaturity": "FPWD",
  "previousPublishDate": "2020-11-24",
  "implementationReportURI": "https://w3c.github.io/wot-thing-description/testing/report11.html",
  "errata": "https://w3c.github.io/wot-thing-description/errata11.html",
  "shortName": "wot-thing-description11",
  "copyrightStart": 2017,
  "noLegacyStyle": true,
  "inlineCSS": true,
  "noIDLIn": true,
  "group": "wg/wot",
  "charterDisclosureURI": "https://www.w3.org/2004/01/pp-impl/95969/status",
  "wgPublicList": "public-wot-wg",
  "edDraftURI": "https://w3c.github.io/wot-thing-description/",
  "github": "https://github.com/w3c/wot-thing-description",
  "issueBase": "https://www.github.com/w3c/wot-thing-description/issues",
  "editors": [
    {
      "name": "Sebastian Kaebisch",
      "w3cid": "43064",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    },
    {
      "name": "Michael McCool",
      "w3cid": "93137",
      "company": "Intel",
      "companyURL": "https://www.intel.com/content/www/us/en/homepage.html"
    },
    {
      "name": "Ege Korkan",
      "w3cid": "110131",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    }
  ],
  "formerEditors": [
    {
      "name": "Takuki Kamiya",
      "w3cid": "29376",
      "company": "Fujitsu Research of America",
      "companyURL": "https://www.fujitsu.com/global/"
    },
    {
      "name": "Victor Charpenay",
      "w3cid": "84448",
      "note": "when at Siemens AG"
    },
    {
      "name": "Matthias Kovatsch",
      "note": "when at Huawei"
    }
  ],
  "xref": [
    "i18n-glossary"
  ],
  "localBiblio": {
    "LINKSET-MEDIA-TYPES": {
      "title": "Linkset: Media Types and a Link Relation Type for Link Sets",
      "href": "https://datatracker.ietf.org/doc/draft-ietf-httpapi-linkset/",
      "publisher": "IETF",
      "authors": [
        "Erik Wilde",
        "Herbert Van de Sompel"
      ],
      "id": "linkset-media-types"
    },
    "OWASP-Top-10": {
      "title": "OWASP Top Ten",
      "href": "https://owasp.org/www-project-top-ten/",
      "publisher": "OWASP",
      "id": "owasp-top-10"
    },
    "JSON-SCHEMA": {
      "title": "JSON Schema Validation: A Vocabulary for Structural Validation of JSON",
      "href": "https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-01",
      "authors": [
        "Austin Wright",
        "Henry Andrews",
        "Geraint Luff"
      ],
      "status": "Internet-Draft",
      "date": "19 March 2018",
      "publisher": "IETF",
      "id": "json-schema"
    },
    "OPENAPI": {
      "title": "OpenAPI Specification: Version 3.0.1",
      "href": "https://spec.openapis.org/oas/v3.0.1",
      "authors": [
        "Darrel Miller",
        "Jeremy Whitlock",
        "Marsh Gardiner",
        "Mike Ralphson",
        "Ron Ratovsky",
        "Uri Sarid"
      ],
      "publisher": "OpenAPI Initiative, Linux Foundation",
      "date": "6 December 2017",
      "id": "openapi"
    },
    "SEMVER": {
      "title": "Semantic Versioning 2.0.0",
      "href": "https://semver.org/",
      "authors": [
        "Tom Preston-Werner"
      ],
      "date": "26 December 2017",
      "id": "semver"
    },
    "WOT-ARCHITECTURE": {
      "title": "Web of Things (WoT) Architecture 1.1",
      "href": "https://www.w3.org/TR/wot-architecture11/",
      "authors": [
        "Michael Lagally",
        "Ryuichi Matsukura",
        "Kunihiko Toumura"
      ],
      "publisher": "W3C",
      "date": "November 2020"
    },
    "WOT-PROFILE": {
      "title": "Web of Things (WoT) Profile",
      "href": "https://www.w3.org/TR/wot-profile/",
      "authors": [
        "Michael Lagally",
        "Michael McCool",
        "Ryuichi Matsukura",
        "Sebastian Kaebisch",
        "Tomoaki Mizushima"
      ],
      "publisher": "W3C",
      "date": "November 2020",
      "id": "wot-profile"
    },
    "WOT-SECURITY-GUIDELINES": {
      "title": "Web of Things (WoT) Security and Privacy Guidelines",
      "href": "https://w3c.github.io/wot-security/",
      "authors": [
        "Michael McCool",
        "Elena Reshetova"
      ],
      "publisher": "W3C",
      "date": "July 2021",
      "id": "wot-security-guidelines"
    },
    "MQTT": {
      "title": "MQTT Version 3.1.1",
      "href": "http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html",
      "authors": [
        "Andrew Banks",
        "Rahul Gupta"
      ],
      "publisher": "OASIS",
      "date": "December 2015",
      "status": "OASIS Standard Incorporating Approved Errata 01",
      "id": "mqtt"
    },
    "RIJGERSBERG": {
      "href": "http://www.semantic-web-journal.net/content/ontology-units-measure-and-related-concepts",
      "authors": [
        "Hajo Rijgersberg",
        "Mark van Assem",
        "Jan Top"
      ],
      "title": "Ontology of Units of Measure and Related Concepts",
      "publisher": "Semantic Web journal, IOS Press",
      "date": "2013"
    },
    "LDML": {
      "title": "Unicode Technical Standard #35: Unicode Locale Data Markup Language (LDML)",
      "href": "https://unicode.org/reports/tr35/",
      "authors": [
        "Mark Davis",
        "CLDR Contributors"
      ],
      "date": "March 2022",
      "id": "ldml"
    },
    "JSON-SCHEMA-ONTOLOGY": {
      "title": "JSON Schema in RDF",
      "href": "https://www.w3.org/2019/wot/json-schema",
      "authors": [
        "Victor Charpenay",
        "Maxime Lefrançois",
        "María Poveda Villalón"
      ],
      "publisher": "W3C",
      "date": "July 2022",
      "id": "json-schema-ontology"
    }
  },
  "otherLinks": [
    {
      "key": "Previous Recommendation",
      "data": [
        {
          "value": "https://www.w3.org/TR/2020/REC-wot-thing-description-20200409/",
          "href": "https://www.w3.org/TR/2020/REC-wot-thing-description-20200409/"
        }
      ]
    },
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-thing-description/graphs/contributors"
        }
      ]
    },
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on GitHub",
          "href": "https://github.com/w3c/wot-thing-description/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-thing-description/issues"
        }
      ]
    }
  ],
  "publishISODate": "2023-10-04T00:00:00.000Z",
  "generatedSubtitle": "W3C Recommendation 04 October 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-REC"></head>
<body class="h-entry toc-inline" data-cite="i18n-glossary"><div class="head">
    <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
  </a></p>
    <h1 id="title" class="title">Web of Things (WoT) Thing Description 1.1</h1> 
    <p id="w3c-state"><a href="https://www.w3.org/standards/types#REC">W3C Recommendation</a> <time class="dt-published" datetime="2023-10-04">04 October 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        <dt>This version:</dt><dd>
                <a class="u-url" href="https://www.w3.org/TR/2023/REC-wot-thing-description11-20231004/">https://www.w3.org/TR/2023/REC-wot-thing-description11-20231004/</a>
              </dd>
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/TR/wot-thing-description11/">https://www.w3.org/TR/wot-thing-description11/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/wot-thing-description/">https://w3c.github.io/wot-thing-description/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://www.w3.org/standards/history/wot-thing-description11/">https://www.w3.org/standards/history/wot-thing-description11/</a>
                  </dd><dd>
                    <a href="https://github.com/w3c/wot-thing-description/commits/">Commit history</a>
                  </dd>
        
        <dt>Implementation report:</dt><dd>
                <a href="https://w3c.github.io/wot-thing-description/testing/report11.html">https://w3c.github.io/wot-thing-description/testing/report11.html</a>
              </dd>
        
        
        
        <dt>Editors:</dt><dd class="editor p-author h-card vcard" data-editor-id="43064">
    <span class="p-name fn">Sebastian Kaebisch</span> (<a class="p-org org h-org" href="https://www.siemens.com/">Siemens AG</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="93137">
    <span class="p-name fn">Michael McCool</span> (<a class="p-org org h-org" href="https://www.intel.com/content/www/us/en/homepage.html">Intel</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="110131">
    <span class="p-name fn">Ege Korkan</span> (<a class="p-org org h-org" href="https://www.siemens.com/">Siemens AG</a>)
  </dd>
        <dt>
                Former editors:
              </dt><dd class="editor p-author h-card vcard" data-editor-id="29376">
    <span class="p-name fn">Takuki Kamiya</span> (<a class="p-org org h-org" href="https://www.fujitsu.com/global/">Fujitsu Research of America</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="84448">
    <span class="p-name fn">Victor Charpenay</span> (when at Siemens AG)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Matthias Kovatsch</span> (when at Huawei)
  </dd>
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/w3c/wot-thing-description/">GitHub w3c/wot-thing-description</a>
        (<a href="https://github.com/w3c/wot-thing-description/pulls/">pull requests</a>,
        <a href="https://github.com/w3c/wot-thing-description/issues/new/choose">new issue</a>,
        <a href="https://github.com/w3c/wot-thing-description/issues/">open issues</a>)
      </dd><dd><a href="mailto:public-wot-wg@w3.org?subject=%5Bwot-thing-description11%5D%20YOUR%20TOPIC%20HERE">public-wot-wg@w3.org</a> with subject line <kbd>[wot-thing-description11] <em>… message topic …</em></kbd> (<a rel="discussion" href="https://lists.w3.org/Archives/Public/public-wot-wg">archives</a>)</dd>
        <dt>Errata:</dt><dd><a href="https://w3c.github.io/wot-thing-description/errata11.html">Errata exists</a>.</dd>
        <dt>Previous Recommendation</dt><dd>
    <a href="https://www.w3.org/TR/2020/REC-wot-thing-description-20200409/">https://www.w3.org/TR/2020/REC-wot-thing-description-20200409/</a>
  </dd><dt>Contributors</dt><dd>
    <a href="https://github.com/w3c/wot-thing-description/graphs/contributors">In the GitHub repository</a>
  </dd><dt>Repository</dt><dd>
    <a href="https://github.com/w3c/wot-thing-description/">We are on GitHub</a>
  </dd><dd>
    <a href="https://github.com/w3c/wot-thing-description/issues">File a bug</a>
  </dd>
      </dl>
    </details>
    <p>
          See also
          <a href="https://www.w3.org/Translations/?technology=wot-thing-description11">
            <strong>translations</strong></a>.
        </p>
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2017-2023
    
    <a href="https://www.w3.org/">World Wide Web Consortium</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
    <a rel="license" href="https://www.w3.org/Consortium/Legal/2023/software-license" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
  </p>
    <hr title="Separator for header">
  </div>

  

  <section id="abstract" class="introductory"><h2>Abstract</h2>
  <p>
  This document describes a formal information model and a common representation 
  for a Web of Things (WoT) Thing Description 1.1. 
  A Thing Description describes the metadata and interfaces of <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-1">Things</a>,
  where a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-2">Thing</a> is an abstraction of a physical or virtual entity that
  provides interactions to and participates in the Web of Things. 
  Thing Descriptions provide a set of interactions based on a small vocabulary 
  that makes it possible both to integrate diverse devices and 
  to allow diverse applications to interoperate. 
  Thing Descriptions, by default, are encoded in a JSON format that also allows
  JSON-LD processing. The latter provides a powerful foundation to represent
  knowledge about <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-3">Things</a> in a machine-understandable way.
  A Thing Description instance can be hosted by the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-4">Thing</a> itself or hosted
  externally when a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-5">Thing</a> has resource restrictions (e.g., limited memory space)
  or when a Web of Things-compatible legacy device is retrofitted 
  with a Thing Description.
  Furthermore, this document introduces the Thing Model, which allows authors to describe
  only the model or class of an Internet of Things (IoT) entity. Thing Models can be seen as a template for Thing 
  Description instances, but with reduced constraints such as no or few requirements for specific 
  communication metadata. 
  </p>

  <p>
    This specification describes a superset of the features defined in Thing Description 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description10" title="Web of Things (WoT) Thing Description">WOT-THING-DESCRIPTION10</a></cite>]. 
    Unless otherwise specified, documents created with version 1.0 of this specification remain
    compatible with Thing Description 1.1.
  </p>
  </section>

  <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
      publications and the latest revision of this technical report can be found
      in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>

    <p>Future updates to this specification may incorporate <a href="https://www.w3.org/2021/Process-20211102/#allow-new-features">new features</a>.
    </p>

    <p>The Web of Things Working Group intends to submit this document
        for consideration as a <abbr title="World Wide Web Consortium">W3C</abbr> Proposed Recommendation
        after at least the minimum CR review period has passed. However,
        before PR transition is requested, any features or assertions
        currently marked as at-risk that did not appear in the TD 1.0
        specification and do not have at least two implementations at that
        time will either be removed or converted into informative
        statements, as appropriate.</p>

  <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/wot">Web of Things Working Group</a> as
    a Recommendation using the
        <a href="https://www.w3.org/2023/Process-20230612/#recs-and-notes">Recommendation track</a>. 
  </p><p>
      <abbr title="World Wide Web Consortium">W3C</abbr> recommends the wide deployment of this specification as a standard for
      the Web.
    </p><p>
      A <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation is a specification that, after extensive
      consensus-building, is endorsed by
      <abbr title="World Wide Web Consortium">W3C</abbr> and its Members, and
      has commitments from Working Group members to
      <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Requirements">royalty-free licensing</a>
      for implementations.
      
    </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
      
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/groups/wg/wot/ipr">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2023/Process-20230612/">12 June 2023 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#introduction-td"><bdi class="secno">1.1 </bdi>Thing Description</a></li><li class="tocline"><a class="tocxref" href="#introduction-tm"><bdi class="secno">1.2 </bdi>Thing Model</a></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">3. </bdi>Terminology</a></li><li class="tocline"><a class="tocxref" href="#namespaces"><bdi class="secno">4. </bdi>Namespaces</a></li><li class="tocline"><a class="tocxref" href="#sec-vocabulary-definition"><bdi class="secno">5. </bdi>TD Information Model</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#overview"><bdi class="secno">5.1 </bdi>Overview</a></li><li class="tocline"><a class="tocxref" href="#preliminary-definitions"><bdi class="secno">5.2 </bdi>Preliminaries</a></li><li class="tocline"><a class="tocxref" href="#class-definitions"><bdi class="secno">5.3 </bdi>Class Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sec-core-vocabulary-definition"><bdi class="secno">5.3.1 </bdi>Core Vocabulary Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#thing"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></a></li><li class="tocline"><a class="tocxref" href="#interactionaffordance"><bdi class="secno">5.3.1.2 </bdi><code>InteractionAffordance</code></a></li><li class="tocline"><a class="tocxref" href="#propertyaffordance"><bdi class="secno">5.3.1.3 </bdi><code>PropertyAffordance</code></a></li><li class="tocline"><a class="tocxref" href="#actionaffordance"><bdi class="secno">5.3.1.4 </bdi><code>ActionAffordance</code></a></li><li class="tocline"><a class="tocxref" href="#eventaffordance"><bdi class="secno">5.3.1.5 </bdi><code>EventAffordance</code></a></li><li class="tocline"><a class="tocxref" href="#versioninfo"><bdi class="secno">5.3.1.6 </bdi><code>VersionInfo</code></a></li><li class="tocline"><a class="tocxref" href="#multilanguage"><bdi class="secno">5.3.1.7 </bdi><code>MultiLanguage</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-data-schema-vocabulary-definition"><bdi class="secno">5.3.2 </bdi>Data Schema Vocabulary Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#dataschema"><bdi class="secno">5.3.2.1 </bdi><code>DataSchema</code></a></li><li class="tocline"><a class="tocxref" href="#arrayschema"><bdi class="secno">5.3.2.2 </bdi><code>ArraySchema</code></a></li><li class="tocline"><a class="tocxref" href="#booleanschema"><bdi class="secno">5.3.2.3 </bdi><code>BooleanSchema</code></a></li><li class="tocline"><a class="tocxref" href="#numberschema"><bdi class="secno">5.3.2.4 </bdi><code>NumberSchema</code></a></li><li class="tocline"><a class="tocxref" href="#integerschema"><bdi class="secno">5.3.2.5 </bdi><code>IntegerSchema</code></a></li><li class="tocline"><a class="tocxref" href="#objectschema"><bdi class="secno">5.3.2.6 </bdi><code>ObjectSchema</code></a></li><li class="tocline"><a class="tocxref" href="#stringschema"><bdi class="secno">5.3.2.7 </bdi><code>StringSchema</code></a></li><li class="tocline"><a class="tocxref" href="#nullschema"><bdi class="secno">5.3.2.8 </bdi><code>NullSchema</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-security-vocabulary-definition"><bdi class="secno">5.3.3 </bdi>Security Vocabulary Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#securityscheme"><bdi class="secno">5.3.3.1 </bdi><code>SecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#nosecurityscheme"><bdi class="secno">5.3.3.2 </bdi><code>NoSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#autosecurityscheme"><bdi class="secno">5.3.3.3 </bdi><code>AutoSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#combosecurityscheme"><bdi class="secno">5.3.3.4 </bdi><code>ComboSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#basicsecurityscheme"><bdi class="secno">5.3.3.5 </bdi><code>BasicSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#digestsecurityscheme"><bdi class="secno">5.3.3.6 </bdi><code>DigestSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#apikeysecurityscheme"><bdi class="secno">5.3.3.7 </bdi><code>APIKeySecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#bearersecurityscheme"><bdi class="secno">5.3.3.8 </bdi><code>BearerSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#psksecurityscheme"><bdi class="secno">5.3.3.9 </bdi><code>PSKSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#oauth2securityscheme"><bdi class="secno">5.3.3.10 </bdi><code>OAuth2SecurityScheme</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-hypermedia-vocabulary-definition"><bdi class="secno">5.3.4 </bdi>Hypermedia Controls Vocabulary Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#link"><bdi class="secno">5.3.4.1 </bdi><code>Link</code></a></li><li class="tocline"><a class="tocxref" href="#form"><bdi class="secno">5.3.4.2 </bdi><code>Form</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sec-op-data-schema-mapping"><bdi class="secno">5.3.4.2.1 </bdi>Mapping op Values to Data Schemas</a></li><li class="tocline"><a class="tocxref" href="#sec-response-usage"><bdi class="secno">5.3.4.2.2 </bdi>Response-related Terms Usage</a></li></ol></li><li class="tocline"><a class="tocxref" href="#expectedresponse"><bdi class="secno">5.3.4.3 </bdi><code>ExpectedResponse</code></a></li><li class="tocline"><a class="tocxref" href="#additionalexpectedresponse"><bdi class="secno">5.3.4.4 </bdi><code>AdditionalExpectedResponse</code></a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-default-values"><bdi class="secno">5.4 </bdi>Default Value Definitions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-td-serialization"><bdi class="secno">6. </bdi>TD Representation Format</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#td-basic-types-mapping"><bdi class="secno">6.1 </bdi>Mapping to JSON Types</a></li><li class="tocline"><a class="tocxref" href="#omitting-default-values"><bdi class="secno">6.2 </bdi>Omitting Default Values</a></li><li class="tocline"><a class="tocxref" href="#td-class-serialization"><bdi class="secno">6.3 </bdi>Information Model Serialization</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sec-thing-as-a-whole-json"><bdi class="secno">6.3.1 </bdi>Thing Root Object</a></li><li class="tocline"><a class="tocxref" href="#titles-descriptions-serialization-json"><bdi class="secno">6.3.2 </bdi>Human-Readable Metadata</a></li><li class="tocline"><a class="tocxref" href="#version-serialization-json"><bdi class="secno">6.3.3 </bdi><code>version</code></a></li><li class="tocline"><a class="tocxref" href="#security-serialization-json"><bdi class="secno">6.3.4 </bdi><code>securityDefinitions</code> and <code>security</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#security-multiple"><bdi class="secno">6.3.4.1 </bdi>Multiple Security Definitions</a></li><li class="tocline"><a class="tocxref" href="#security-security-forms"><bdi class="secno">6.3.4.2 </bdi><code>security</code> in Forms</a></li><li class="tocline"><a class="tocxref" href="#security-comboSecurityScheme"><bdi class="secno">6.3.4.3 </bdi><code>ComboSecurityScheme</code></a></li><li class="tocline"><a class="tocxref" href="#security-oauth2"><bdi class="secno">6.3.4.4 </bdi>OAuth 2.0 usage</a></li><li class="tocline"><a class="tocxref" href="#security-apikey"><bdi class="secno">6.3.4.5 </bdi>API key usage</a></li></ol></li><li class="tocline"><a class="tocxref" href="#property-serialization-json"><bdi class="secno">6.3.5 </bdi><code>properties</code></a></li><li class="tocline"><a class="tocxref" href="#action-serialization-json"><bdi class="secno">6.3.6 </bdi><code>actions</code></a></li><li class="tocline"><a class="tocxref" href="#event-serialization-json"><bdi class="secno">6.3.7 </bdi><code>events</code></a></li><li class="tocline"><a class="tocxref" href="#link-serialization-json"><bdi class="secno">6.3.8 </bdi><code>links</code></a></li><li class="tocline"><a class="tocxref" href="#form-serialization-json"><bdi class="secno">6.3.9 </bdi><code>forms</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#form-uriVariables"><bdi class="secno">6.3.9.1 </bdi><code>uriVariables</code></a></li><li class="tocline"><a class="tocxref" href="#form-contentType"><bdi class="secno">6.3.9.2 </bdi><code>contentType</code></a></li><li class="tocline"><a class="tocxref" href="#form-response"><bdi class="secno">6.3.9.3 </bdi><code>response</code></a></li><li class="tocline"><a class="tocxref" href="#form-additionalResponses"><bdi class="secno">6.3.9.4 </bdi><code>additionalResponses</code></a></li><li class="tocline"><a class="tocxref" href="#form-contentMediaType-contentEncoding"><bdi class="secno">6.3.9.5 </bdi><code>contentMediaType</code> and <code>contentEncoding </code></a></li><li class="tocline"><a class="tocxref" href="#form-top-level"><bdi class="secno">6.3.9.6 </bdi>Top level <code>forms</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#data-schema-serialization-json"><bdi class="secno">6.3.10 </bdi>Data Schemas</a></li></ol></li><li class="tocline"><a class="tocxref" href="#identification-serialization-json"><bdi class="secno">6.4 </bdi>Identification</a></li><li class="tocline"><a class="tocxref" href="#validation-serialization-json"><bdi class="secno">6.5 </bdi>Validation</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#minimal-validation-serialization-json"><bdi class="secno">6.5.1 </bdi>Minimal Validation</a></li><li class="tocline"><a class="tocxref" href="#basic-validation-serialization-json"><bdi class="secno">6.5.2 </bdi>Basic Validation</a></li><li class="tocline"><a class="tocxref" href="#full-validation-serialization-json"><bdi class="secno">6.5.3 </bdi>Full Validation</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-context-extensions"><bdi class="secno">7. </bdi>TD Context Extensions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#semantic-annotations"><bdi class="secno">7.1 </bdi>Semantic Annotations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#semantic-annotations-example-version-units"><bdi class="secno">7.1.1 </bdi>Example I: Additional Basic Metadata</a></li><li class="tocline"><a class="tocxref" href="#semantic-annotations-example-state"><bdi class="secno">7.1.2 </bdi>Example II: State Annotations</a></li><li class="tocline"><a class="tocxref" href="#semantic-annotations-example-geoloc"><bdi class="secno">7.1.3 </bdi>Example III: Geolocation Annotations</a></li></ol></li><li class="tocline"><a class="tocxref" href="#adding-protocol-bindings"><bdi class="secno">7.2 </bdi>Adding Protocol Bindings</a></li><li class="tocline"><a class="tocxref" href="#adding-security-schemes"><bdi class="secno">7.3 </bdi>Adding Security Schemes</a></li></ol></li><li class="tocline"><a class="tocxref" href="#behavior"><bdi class="secno">8. </bdi>Behavioral Assertions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#behavior-security"><bdi class="secno">8.1 </bdi>Security Configurations</a></li><li class="tocline"><a class="tocxref" href="#behavior-data"><bdi class="secno">8.2 </bdi>Data Schemas</a></li><li class="tocline"><a class="tocxref" href="#protocol-bindings"><bdi class="secno">8.3 </bdi>Protocol Bindings</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#http-binding-assertions"><bdi class="secno">8.3.1 </bdi>Protocol Binding based on HTTP</a></li><li class="tocline"><a class="tocxref" href="#other-protocol-bindings"><bdi class="secno">8.3.2 </bdi>Other Protocol Bindings</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#thing-model"><bdi class="secno">9. </bdi>Thing Model</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#thing-model-concept"><bdi class="secno">9.1 </bdi>Basic Concept</a></li><li class="tocline"><a class="tocxref" href="#thing-model-declaration"><bdi class="secno">9.2 </bdi>Thing Model Declaration</a></li><li class="tocline"><a class="tocxref" href="#thing-model-tools"><bdi class="secno">9.3 </bdi>Modeling Tools</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#thing-model-versioning"><bdi class="secno">9.3.1 </bdi>Versioning</a></li><li class="tocline"><a class="tocxref" href="#thing-model-extension-import"><bdi class="secno">9.3.2 </bdi>Extension and Import</a></li><li class="tocline"><a class="tocxref" href="#thing-model-composition"><bdi class="secno">9.3.3 </bdi>Composition</a></li><li class="tocline"><a class="tocxref" href="#thing-model-td-optional"><bdi class="secno">9.3.4 </bdi>tm:optional</a></li><li class="tocline"><a class="tocxref" href="#thing-model-td-placeholder"><bdi class="secno">9.3.5 </bdi>Placeholder</a></li></ol></li><li class="tocline"><a class="tocxref" href="#thing-model-td-generation"><bdi class="secno">9.4 </bdi>Derivation of Thing Description Instances</a></li><li class="tocline"><a class="tocxref" href="#thing-model-td-generation-examples"><bdi class="secno">9.5 </bdi>Examples</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-security-consideration"><bdi class="secno">10. </bdi>Security Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sec-security-consideration-TD-tampering"><bdi class="secno">10.1 </bdi>TD Interception and Tampering</a></li><li class="tocline"><a class="tocxref" href="#sec-security-consideration-context-tampering"><bdi class="secno">10.2 </bdi>Context Interception and Tampering</a></li><li class="tocline"><a class="tocxref" href="#security-consideration-access-duration"><bdi class="secno">10.3 </bdi>Limited Duration Accesses</a></li><li class="tocline"><a class="tocxref" href="#sec-security-consideration-vulnerability-auditing"><bdi class="secno">10.4 </bdi>Vulnerability Auditing</a></li><li class="tocline"><a class="tocxref" href="#sec-security-consideration-script-injection"><bdi class="secno">10.5 </bdi>Script Injection</a></li><li class="tocline"><a class="tocxref" href="#sec-security-consideration-execution"><bdi class="secno">10.6 </bdi>JSON Parsing</a></li><li class="tocline"><a class="tocxref" href="#sec-security-consideration-jsonld-expansion"><bdi class="secno">10.7 </bdi>JSON-LD Expansion</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration"><bdi class="secno">11. </bdi>Privacy Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration-context"><bdi class="secno">11.1 </bdi>Context Fetching</a></li><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration-id"><bdi class="secno">11.2 </bdi>Immutable Identifiers</a></li><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration-fingerprint"><bdi class="secno">11.3 </bdi>Fingerprinting</a></li><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration-id-metadata"><bdi class="secno">11.4 </bdi>ID Metadata</a></li><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration-global-id-risk"><bdi class="secno">11.5 </bdi>Globally Unique Identifiers</a></li><li class="tocline"><a class="tocxref" href="#sec-privacy-consideration-inferencing"><bdi class="secno">11.6 </bdi>Inferencing of Personally Identifiable Information</a></li></ol></li><li class="tocline"><a class="tocxref" href="#iana-section"><bdi class="secno">12. </bdi>IANA Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#media-type-section"><bdi class="secno">12.1 </bdi><code>application/td+json</code> Media Type Registration</a></li><li class="tocline"><a class="tocxref" href="#media-type-section-tm"><bdi class="secno">12.2 </bdi><code>application/tm+json</code> Media Type Registration</a></li><li class="tocline"><a class="tocxref" href="#content-format-section"><bdi class="secno">12.3 </bdi>CoAP Content-Format Registration</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#wot-thing-description"><bdi class="secno">12.3.1 </bdi>WoT Thing Description</a></li><li class="tocline"><a class="tocxref" href="#wot-thing-model"><bdi class="secno">12.3.2 </bdi>WoT Thing Model</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#example-serialization"><bdi class="secno">A. </bdi>Example Thing Description Instances</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#myLampThing-example-serialization"><bdi class="secno">A.1 </bdi>MyLampThing Example with CoAP Protocol Binding</a></li><li class="tocline"><a class="tocxref" href="#myLightSensor-example-serialization"><bdi class="secno">A.2 </bdi>MyIlluminanceSensor Example with MQTT Protocol Binding</a></li><li class="tocline"><a class="tocxref" href="#webhook-example-serialization"><bdi class="secno">A.3 </bdi>Webhook Event Example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#json-schema-for-validation"><bdi class="secno">B. </bdi>JSON Schema for TD Instance Validation</a></li><li class="tocline"><a class="tocxref" href="#contentType-usage"><bdi class="secno">C. </bdi>contentType usage in Thing Descriptions</a></li><li class="tocline"><a class="tocxref" href="#json-ld-ctx-usage"><bdi class="secno">D. </bdi>JSON-LD Context Usage</a></li><li class="tocline"><a class="tocxref" href="#changes"><bdi class="secno">E. </bdi>Recent Specification Changes</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#changes-from-cr-2023"><bdi class="secno">E.1 </bdi>Changes from the Candidate Recommendation 19 January 2023</a></li><li class="tocline"><a class="tocxref" href="#changes-from-august-2022"><bdi class="secno">E.2 </bdi>Changes from Fourth Public Working Draft 3 August 2022</a></li><li class="tocline"><a class="tocxref" href="#changes-from-march-2022"><bdi class="secno">E.3 </bdi>Changes from Third Public Working Draft 11 March 2022</a></li><li class="tocline"><a class="tocxref" href="#changes-from-june-2021"><bdi class="secno">E.4 </bdi>Changes from Second Public Working Draft 7 June 2021</a></li><li class="tocline"><a class="tocxref" href="#changes-from-fpwd"><bdi class="secno">E.5 </bdi>Changes from First Public Working Draft 24 November 2020</a></li></ol></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">F. </bdi>Acknowledgements</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">G. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">G.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">G.2 </bdi>Informative references</a></li></ol></li></ol></nav>

  <section id="introduction" class="informative"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div><p><em>This section is non-normative.</em></p>
  
  <section id="introduction-td"><div class="header-wrapper"><h3 id="x1-1-thing-description"><bdi class="secno">1.1 </bdi>Thing Description</h3><a class="self-link" href="#introduction-td" aria-label="Permalink for Section 1.1"></a></div>
    
  <p>
  The WoT Thing Description (TD) is a central building block in the <abbr title="World Wide Web Consortium">W3C</abbr> Web of
  Things (WoT) and can be considered as the entry point of a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-6">Thing</a>
  (much like the <i>index.html</i> of a Web site). A TD instance has five main
  components: textual metadata about the <a href="#thing">Thing</a> itself,
  a set of <a href="#interactionaffordance">Interaction Affordances</a>
  that indicate how the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-7">Thing</a> can be used,
  <a href="#sec-data-schema-vocabulary-definition">schemas</a> for the data
  exchanged with the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-8">Thing</a> for machine-understandability, <a href="#sec-security-vocabulary-definition">Security Definitions</a>
  to provide metadata about the security mechanisms that must be used for interactions, and, finally, <a href="#sec-hypermedia-vocabulary-definition">Web links</a> to 
  express any formal or informal relation to other <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-9">Things</a> or documents on the Web.
  </p>
  <p>
  The <a href="#dfn-interaction-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-model-1">Interaction Model</a> of <abbr title="World Wide Web Consortium">W3C</abbr> WoT defines three types of <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-1">Interaction Affordances</a>:
  Properties (<a href="#propertyaffordance"><code>PropertyAffordance</code></a> class)
  can be used for sensing and controlling parameters, such as getting the current value or 
  setting an operation state.
  Actions (<a href="#actionaffordance"><code>ActionAffordance</code></a> class) model
  invocation of physical (and hence time-consuming) processes, but can also be used to 
  abstract RPC-like calls of existing platforms. 
  Events (<a href="#eventaffordance"><code>EventAffordance</code></a> class) are used
  for the push model of communication where notifications,
  discrete events, or streams of values are sent asynchronously to the receiver.
  See [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture11" title="Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>] for details.
  </p>
  <p>
  In general, the TD provides metadata for different <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-1">Protocol Bindings</a>
  identified by URI schemes [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] (e.g., <code>http</code>, <code>coap</code>, etc. [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-uri-schemes" title="Uniform Resource Identifier (URI) Schemes">IANA-URI-SCHEMES</a></cite>]),
  content types based on media types [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>]
  (e.g., <code>application/json</code>, <code>application/xml</code>, <code>application/cbor</code>, <code>application/exi</code>, etc. [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-media-types" title="Media Types">IANA-MEDIA-TYPES</a></cite>]),
  and security mechanisms (for authentication, authorization, confidentiality, etc.).
  Serialization of TD instances is based on JSON [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>], where JSON names refer to terms of
  the TD vocabulary, as defined in this specification document. In addition the JSON serialization of TDs
  follows the syntax of JSON-LD 1.1 [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>] to enable extensions and rich semantic processing.
  </p>
  <p>
  <a href="#simple-thing-description-sample">Example 1</a> shows a TD instance and
  illustrates the <a href="#dfn-interaction-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-model-2">Interaction Model</a> with Properties, Actions, and Events
  by describing a lamp <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-10">Thing</a> with the title <i>MyLampThing</i>.
  </p>
<aside class="example" id="simple-thing-description-sample"><div class="marker">
    <a class="self-link" href="#simple-thing-description-sample">Example<bdi> 1</bdi></a><span class="example-title">: Thing Description sample</span>
  </div>
    <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:0804d572-cce8-422a-bb7c-4412fcd56f06"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>, <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>}
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>}]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>}]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>},
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"longpoll"</span>
            }]
        }
    }
}</code></pre>
</aside>


  <p>
  From this TD example, 
  we know there exists one <a href="#propertyaffordance">Property affordance</a>
  with the title <i>status</i>. 
  In addition, 
  information is provided to indicate that this Property is accessible via 
  (the secure form of) the HTTP protocol with a GET method 
  at the URI <code>https://mylamp.example.com/status</code> 
  (announced within the <code>forms</code> structure by the 
  <code>href</code> member), and will return a string-based status value.
  The use of the GET method is not stated explicitly,
  but is one of the default assumptions defined by this document.
  </p>
  <p>
  In a similar manner, an <a href="#actionaffordance">Action affordance</a> is specified to toggle the
  switch status using the POST method on the
  <code>https://mylamp.example.com/toggle</code> resource,
  where POST is again a default assumption for invoking Actions.
  </p>
  <p>
  The <a href="#eventaffordance">Event affordance</a> enables a mechanism for asynchronous messages
  to be sent by a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-11">Thing</a>.
  Here, a subscription to be notified upon a possible overheating event 
  of the lamp can be obtained by using HTTP with its long polling
  subprotocol on <code>https://mylamp.example.com/oh</code>.
  </p>
 
  <p>
  This example also specifies the <code>basic</code> security scheme, 
  requiring a username and password for access.
  Note that a security scheme is first given a name in 
  <code>securityDefinitions</code> and then activated by specifying
  that name in a <code>security</code> section.
  In combination with the use of the HTTP protocol this example
  demonstrates the use of HTTP Basic Authentication.
  Specification of at least one security scheme at the top level is mandatory,
  and gives the default access requirements for every resource.
  However, security schemes can also be specified per-form,
  with configurations given at the form level overriding configurations given at the <code>Thing</code> level,
  allowing for the specification of fine-grained access control.
  It is also possible to use a special <code>nosec</code> security scheme to
  indicate that no access control mechanisms are used.
  Additional examples will be provided later.
  </p>

  <p>
        The Thing Description offers the possibility to add contextual definitions
        in some namespace. This mechanism can be used to integrate additional semantics
        to the content of the Thing Description instance, provided that formal knowledge,
        e.g., logic rules for a specific domain of application, can be found under the
        given namespace. Contextual information can also help specify some configurations and 
        behavior of the underlying communication protocols declared in the <code>forms</code> field.
        <a href="#thing-description-full-serialization">Example 2</a> extends the TD sample from
        Example 1 by introducing a second definition in the <code>@context</code> to declare the
        prefix <code>saref</code> as referring to <a href="https://ontology.tno.nl/saref.ttl">SAREF</a>, the
        Smart&nbsp;Appliance Reference Ontology [<cite><a class="bibref" data-link-type="biblio" href="#bib-smartm2m" title="ETSI TS 103 264 V2.1.1 (2017-03): SmartM2M; Smart Appliances; Reference Ontology and oneM2M Mapping">SMARTM2M</a></cite>]. This IoT ontology includes terms interpreted
        as semantic labels that can be set as values of the
        <code>@type</code> field, giving the semantics of <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-12">Things</a> and their
        <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-2">Interaction Affordances</a>. In the example below, the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-13">Thing</a> is labelled with
        <code>saref:LightSwitch</code>, the <code>status</code> <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-1">Property</a> is labelled with
        <code>saref:OnOffState</code> and the <code>toggle</code> <a href="#dfn-action" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-action-1">Action</a> with
        <code>saref:ToggleCommand</code>.
  </p>


 
 <aside class="example" id="thing-description-full-serialization"><div class="marker">
    <a class="self-link" href="#thing-description-full-serialization">Example<bdi> 2</bdi></a><span class="example-title">: Thing Description with TD Context Extension for semantic annotations</span>
  </div>
              <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        { <span class="hljs-attr">"saref"</span>: <span class="hljs-string">"https://w3id.org/saref#"</span> }
    ],
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:300f4c4b-ca6b-484a-88cf-fd5224a9a61d"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"saref:LightSwitch"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>, <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>}
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"saref:OnOffState"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"saref:ToggleCommand"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>},
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>
            }]
        }
    }
}</code></pre>
</aside>

<p>
    The declaration mechanism inside some
    <code>@context</code> is specified by JSON-LD. A TD instance complies to version 1.1 of
    that specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>]. Hence, a TD instance can be also processed as an RDF
    document (for details about semantic processing, please refer to Appendix
    <a href="#json-ld-ctx-usage" class="sec-ref"><bdi class="secno">D. </bdi>JSON-LD Context Usage</a> and the documentation under the namespace IRIs, e.g.,
    <a href="https://www.w3.org/2019/wot/td">https://www.w3.org/2019/wot/td</a>).
</p>
</section>
<section id="introduction-tm"><div class="header-wrapper"><h3 id="x1-2-thing-model"><bdi class="secno">1.2 </bdi>Thing Model</h3><a class="self-link" href="#introduction-tm" aria-label="Permalink for Section 1.2"></a></div>
    
    
    <p>One of the main intentions of a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-1">Thing Description</a> is to provide a <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-1">Consumer</a> 
        with all the details necessary to successfully interact with a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-14">Thing</a>.  
        In some IoT application scenarios, a fully detailed <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-2">Thing Description</a>, e.g., with 
        communication metadata is not necessary (e.g., IoT ecosystems may implicitly handle communication separately),
        or may not be available because a new entity has not yet been deployed (e.g., IP address is not yet known). 
        Sometimes, also a kind of class definition is required that forces capability definitions that should be 
        available for all created instances (e.g., large-scale production of new devices).
    </p> 
        
    <p>In order to address the above-mentioned scenarios or others, the <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-1">Thing Model</a> can be used that mainly provides the data model 
        definitions within <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-15">Things</a>' <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-2">Properties</a>, <a href="#dfn-action" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-action-2">Actions</a>, and/or <a href="#dfn-event" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-event-1">Events</a> and can be potentially used 
        as template for creating <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-3">Thing Description</a> instances. In the following a sample 
        <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-2">Thing Model</a> is presented that can be seen as a model for the <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-4">Thing Description</a>
        instance in <a href="#simple-thing-description-sample" class="box-ref">Example<bdi> 1</bdi></a>. 
    </p>

    <div class="example" id="td-model-example-lamp">
        <div class="marker">
    <a class="self-link" href="#td-model-example-lamp">Example<bdi> 3</bdi></a><span class="example-title">: Thing Model sample</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Lamp Thing Model"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"current status of the lamp (on|off)"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Turn the lamp on or off"</span>
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
            <span class="hljs-attr">"data"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>}
        }
    }
}</code></pre>
      </div>
        <p>
            <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-3">Thing Model</a> definitions are identified by the <code>"@type": "tm:ThingModel"</code>. 
            As the example shows, it does not provide details about a single <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-16">Thing</a> instance due to the 
            lack of communication and security metadata.        
            This specification presents a mechanism for deriving valid <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-5">Thing Description</a> instances from 
            such <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-4">Thing Model</a> definitions. In addition, other design concepts are specified, including how 
            to override, extend, and reuse existing <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-5">Thing Model</a> definitions.
        </p>

</section>
</section>

<section id="conformance"><div class="header-wrapper"><h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 2."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
<p>
A Thing Description instance complies with this specification if it follows 
the normative statements in
<a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a>
and
<a href="#sec-td-serialization" class="sec-ref"><bdi class="secno">6. </bdi>TD Representation Format</a> 
regarding Thing Description serialization.
</p>
<p>
A JSON Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>] to validate Thing Description instances
is provided in Appendix <a href="#json-schema-for-validation" class="sec-ref"><bdi class="secno">B. </bdi>JSON Schema for TD Instance Validation</a>.
</p>

</section>

<section id="terminology" class="informative"><div class="header-wrapper"><h2 id="x3-terminology"><bdi class="secno">3. </bdi>Terminology</h2><a class="self-link" href="#terminology" aria-label="Permalink for Section 3."></a></div><p><em>This section is non-normative.</em></p> 


  <p>The fundamental WoT terminology such as
  <dfn data-plurals="things" id="dfn-thing" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Thing</dfn>,
  <dfn data-plurals="consumers" id="dfn-consumer" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Consumer</dfn>,
  <dfn data-plurals="producers" id="dfn-producer" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Producer</dfn>,
  <dfn data-plurals="thing descriptions" id="dfn-thing-description" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Thing Description</dfn> (<dfn class="lint-ignore" id="dfn-td" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD</dfn>),
  <dfn id="dfn-partial-td" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Partial TD</dfn>,
  <dfn data-plurals="thing models" id="dfn-thing-model" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Thing Model</dfn> (<dfn class="lint-ignore" id="dfn-tm" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TM</dfn>),
  <dfn id="dfn-interaction-model" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Interaction Model</dfn>,
  <dfn data-plurals="interaction affordances" id="dfn-interaction-affordance" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Interaction Affordance</dfn>,
  <dfn data-plurals="properties" id="dfn-property" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Property</dfn>,
  <dfn data-plurals="actions" id="dfn-action" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Action</dfn>,
  <dfn data-plurals="events" id="dfn-event" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Event</dfn>,
  <dfn data-plurals="protocol bindings" id="dfn-protocol-binding" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Protocol Binding</dfn>,
  <dfn data-plurals="servients" id="dfn-servient" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Servient</dfn>,
  <dfn data-plurals="vocabularies" id="dfn-vocabulary" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Vocabulary</dfn>,
  <dfn data-plurals="terms" id="dfn-term" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Term</dfn>,
  <dfn id="dfn-vocab-term" data-plurals="vocabulary terms" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Vocabulary Term</dfn>,
  <dfn id="dfn-wot-interface" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">WoT Interface</dfn>, and
  <dfn id="dfn-wot-runtime" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">WoT Runtime</dfn>
  are defined in <a href="https://www.w3.org/TR/wot-architecture/#terminology">Section 3</a>
  of the WoT Architecture specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture11" title="Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>].
  </p>

  <p>
      In addition, this specification introduces the following definitions:
  </p>

  <dl>
    <dt>
        <dfn id="dfn-semantic-tag" data-plurals="semantic tags" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Semantic Tag</dfn>, <dfn id="dfn-semantic-annotation" data-plurals="semantic annotations" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Semantic Annotation</dfn>
    </dt>
    <dd>
        A JSON-LD mechanism that links definitions in a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-6">Thing Descriptions</a> document to concepts in an (RDF) ontology. 
        This allows Thing Description authors to provide further context and express domain knowledge in a standardized way.  
        In a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-7">Thing Descriptions</a> document, this can be achieved using <code>@type</code> members, and through the use 
        of string prefixes using a colon (<code>:</code>).

    </dd>
    <dt>
        <dfn id="dfn-context-ext" data-plurals="td context extensions" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD Context Extension</dfn>
    </dt>
    <dd>
        A mechanism to extend <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-8">Thing Descriptions</a> with additional <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-1">Vocabulary
        Terms</a>. It is the basis for <a href="#dfn-semantic-annotation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-semantic-annotation-1">semantic annotations</a> and extensions to core
        mechanisms such as Protocol Bindings, Security Schemes, and Data Schemas.
    </dd>
    <dt>
        <dfn id="dfn-inf-model" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD Information Model</dfn>
    </dt>
    <dd>
        Set of <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-1">Class</a> definitions constructed from pre-defined <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-1">Vocabularies</a>
        on which constraints apply, thus defining the semantics of these <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-2">Vocabularies</a>.
        Class definitions are typically expressed in terms of a <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-1">Signature</a> (a set of
        <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-2">Vocabulary Terms</a>) and functions over that <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-2">Signature</a>.&nbsp;The <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-1">TD
        Information Model</a> also includes <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-1">Default Values</a>, defined as a global
        function over <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-2">Classes</a>.
    </dd>
    <dt>
    <dfn id="dfn-td-processor" data-plurals="td processors" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD Processor</dfn>
    </dt>
    <dd>
        A system that can serialize some internal representation of a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-9">Thing&nbsp;Description</a>
        in a given format and/or deserialize it from that format. A <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-1">TD Processor</a> can follow
        validation steps to detect semantically inconsistent <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-10">Thing Descriptions</a>, that is, 
        <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-11">Thing Descriptions</a> that cannot satisfy constraints on the <a href="#dfn-instance-relation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-instance-relation-1">Instance Relation</a>
         of the <code>Thing</code> class. 
         For that purpose, a <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-2">TD&nbsp;Processor</a> can compute fill in the forms of <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-12">Thing
        Descriptions</a> in which all possible <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-2">Default Values</a> are assigned. 
        A <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-3">TD Processor</a>  is typically a sub-system of a <a href="#dfn-wot-runtime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-wot-runtime-1">WoT Runtime</a>.
        Implementations of a TD Processor can be a TD <a href="#dfn-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-producer-1">producer</a> (able to serialize to TD Documents)
        or a TD consumer (able to deserialize from TD Documents) or both.
    </dd>
    <dt>
        <dfn id="dfn-td-serialization" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD&nbsp;Serialization</dfn>
        or
        <dfn id="dfn-td-document" data-plurals="td documents" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TD&nbsp;Document</dfn>
    </dt>
    <dd>
        Textual or binary representation of <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-13">Thing Descriptions</a> that can be stored and
        exchanged between <a href="#dfn-servient" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-servient-1">Servients</a>. A <a href="#dfn-td-serialization" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-serialization-1">TD Serialization</a> follows a given representation
        format,  identified by a media type when exchanged over the network.
        The default representation format for <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-14">Thing Descriptions</a> is JSON-based as defined by
        this specification.
    </dd>
    <dt>
        <dfn id="dfn-td-level" class="lint-ignore" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Levels of a TD</dfn> (including
        <dfn id="dfn-td-thing-level" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Thing Level</dfn>, <dfn id="dfn-td-affordance-level" class="lint-ignore" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Affordance Level</dfn>,
        <dfn id="dfn-td-data-schema-level" class="lint-ignore" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Data Schema Level</dfn>, <dfn id="dfn-td-forms-level" class="lint-ignore" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Forms Level</dfn>)
    </dt>
    <dd>
        The scope of a TD or TM instance at the given hierarchy level. For example, the root of a TD, where terms such
        as <code>@context</code> are defined is the Thing level, <code>forms</code> are defined within the Affordance level,
        <code>type</code>, <code>maximum</code> are defined within the Data Schema level and <code>href</code> is defined
        within the Forms level.
        Even if not defined, other levels can be used such as Links level.
    </dd>
  </dl>

  <p>
      These definitions are further developed in <a href="#preliminary-definitions" class="sec-ref"><bdi class="secno">5.2 </bdi>Preliminaries</a>.
  </p>
</section>

<section class="normative" id="namespaces"><div class="header-wrapper"><h2 id="x4-namespaces"><bdi class="secno">4. </bdi>Namespaces</h2><a class="self-link" href="#namespaces" aria-label="Permalink for Section 4."></a></div>
  

  <p>
      The version of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-2">TD Information Model</a>
      defined in <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a> of this specification
      is identified by the following IRI:
  </p>
  <p>
    <code>https://www.w3.org/2022/wot/td/v1.1</code>
  </p>
  <p>
      This IRI [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3987" title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>], which is also a URI [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>], can be dereferenced to obtain a
      <a href="https://www.w3.org/2022/wot/td/v1.1">JSON-LD context file</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>],
      allowing the compact strings in <a href="#dfn-td-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-document-1">TD Documents</a> to be expanded to full IRI-based
      <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-3">Vocabulary Terms</a>. However, this processing is only required when transforming
      JSON-based <a href="#dfn-td-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-document-2">TD Documents</a> to RDF, an optional feature of <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-4">TD&nbsp;Processor</a>
      implementations.
  </p>



    <p>
        In the present specification, <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-4">Vocabulary Terms</a> are always presented in their compact form.
        Their expanded form can be accessed under the namespace IRI of the <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-3">Vocabulary</a> they
        belong to. These namespaces follow the structure of <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a>.
        Each <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-4">Vocabulary</a> used in the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-3">TD&nbsp;Information Model</a> has its own namespace IRI,
        as follows:
    </p>
  
    <table class="def numbered" id="table-namespaces-used-in-tds">
    <caption><a class="self-link" href="#table-namespaces-used-in-tds">Table <bdi class="tableno">1</bdi></a> <span class="table-title">Namespaces used in TDs</span></caption>
    <thead>
        <tr>
            <th>Vocabulary</th>
            <th>Namespace IRI</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Core</td>
            <td><code>https://www.w3.org/2019/wot/td#</code></td>
        </tr>
        <tr>
            <td>Data Schema</td>
            <td><code> 	https://www.w3.org/2019/wot/json-schema#</code></td>
        </tr>
        <tr>
            <td>Security</td>
            <td><code>https://www.w3.org/2019/wot/security#</code></td>
        </tr>
        <tr>
            <td>Hypermedia Controls</td>
            <td><code>https://www.w3.org/2019/wot/hypermedia#</code></td>
        </tr>
    </tbody>
    </table>
    <p>
        All vocabularies that are additionally used for <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-6">Thing Model</a> definitions have the following namespace IRI:
    </p>


    <table class="def numbered" id="table-namespaces-used-in-tms">
        <caption><a class="self-link" href="#table-namespaces-used-in-tms">Table <bdi class="tableno">2</bdi></a> <span class="table-title">Namespaces used in TMs</span></caption>
        <thead>
            <tr>
                <th>Vocabulary</th>
                <th>Namespace IRI</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Thing Model</td>
                <td><code>https://www.w3.org/2022/wot/tm#</code></td>
            </tr>
        </tbody>
        </table>
  
    <p>
        The <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-5">Vocabularies</a> are independent from each other.
        They may be reused and extended in other <abbr title="World Wide Web Consortium">W3C</abbr> specifications.
        Every breaking change in the design of a <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-6">Vocabulary</a>
        will require the assignment of a new year-based namespace URI.
        Note that to maintain the general coherence of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-4">TD Information Model</a>,
        the associated JSON-LD context file is versioned such that every version has its own URI
        (<code>v1</code>, <code>v1.1</code>, <code>v2</code>, ...)
        to also identify non-breaking changes, in particular the addition of new <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-1">Terms</a>.
    </p>

    <p>
        Because a <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-7">Vocabulary</a> under some namespace IRI can only undergo non-breaking
        changes, its content can be safely cached or embedded in applications. One 
        advantage of exposing relatively static content under a namespace IRI is to
        optimize payload sizes of messages exchanged between constrained devices. It
        also avoids any privacy leakage resulting from devices accessing publicly
        available vocabularies from private networks (see also
        <a href="#sec-privacy-consideration" class="sec-ref"><bdi class="secno">11. </bdi>Privacy Considerations</a>).
    </p>

  </section>
  

  <section id="sec-vocabulary-definition" class="normative"><div class="header-wrapper"><h2 id="x5-td-information-model"><bdi class="secno">5. </bdi>TD Information Model</h2><a class="self-link" href="#sec-vocabulary-definition" aria-label="Permalink for Section 5."></a></div>
    

    <p>
      This section introduces the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-5">TD Information Model</a>.
      The <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-6">TD Information Model</a> serves as the conceptual basis
      for the processing of Thing Descriptions and their serialization,
      which is described separately in <a href="#sec-td-serialization" class="sec-ref"><bdi class="secno">6. </bdi>TD Representation Format</a>.
    </p><p>

      </p><section id="overview"><div class="header-wrapper"><h3 id="x5-1-overview"><bdi class="secno">5.1 </bdi>Overview</h3><a class="self-link" href="#overview" aria-label="Permalink for Section 5.1"></a></div>
      
    
      <p>
        The <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-7">TD Information Model</a> is built upon the following, independent <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-8">Vocabularies</a>:
      </p>
      <ul>
          <li>
              the <em>core</em> TD <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-9">Vocabulary</a>, which reflects the
              <a href="#dfn-interaction-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-model-3">Interaction Model</a> with the <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-3">Properties</a>, <a href="#dfn-action" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-action-3">Actions</a>, and <a href="#dfn-event" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-event-2">Events</a>
              <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-3">Interaction Affordances</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture11" title="Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>]
          </li>
          <li>
              the <em>Data Schema</em> <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-10">Vocabulary</a>, including (a subset of)
              the terms defined by JSON Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>]
          </li>
          <li>
              the <em>WoT Security</em> <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-11">Vocabulary</a>, identifying security mechanisms
              and requirements for their configuration
          </li>
          <li>
              the <em>Hypermedia Controls</em> <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-12">Vocabulary</a>, encoding the main principles of RESTful
              communication using Web links and forms
          </li>
      </ul>
      

      <p>
          Each of these <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-13">Vocabularies</a> is essentially a set of <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-2">Terms</a> that can
          be used to build data structures, interpreted as objects in the
          traditional object-oriented sense. Objects are instances of classes
          and have properties. In the context of <abbr title="World Wide Web Consortium">W3C</abbr> WoT, they denote <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-17">Things</a> and
          their <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-4">Interaction Affordances</a>. A formal definition of objects is given in
          <a href="#preliminary-definitions" class="sec-ref"><bdi class="secno">5.2 </bdi>Preliminaries</a>. The main elements of
          the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-8">TD Information Model</a> are then presented in
          <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a>. Certain object properties may be
          omitted in a TD when <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-3">Default Values</a> exist. A list of defaults
          is given in <a href="#sec-default-values" class="sec-ref"><bdi class="secno">5.4 </bdi>Default Value Definitions</a>.
      </p>

      <p>
          The UML diagram shown next gives an overview of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-9">TD Information Model</a>.
          It represents all classes as tables and the associations that exist between
          classes, starting from the class <a href="#thing"><code>Thing</code></a>,
          as directed arrows. For the sake of readability, the diagram was split in
          four parts, one for each of the four base <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-14">Vocabularies</a>.
      </p>
      
      

    <figure id="td-core-model">
      <img src="visualization/td.png" alt="UML diagram of the TD&nbsp;information model for the TD core vocabulary">
      <figcaption><a class="self-link" href="#td-core-model">Figure <bdi class="figno">1</bdi></a> <span class="fig-title">TD core vocabulary</span></figcaption>
    </figure>
    
    <hr>

    <figure id="td-data-schema-model">
      <img src="visualization/jsonschema.png" alt="UML diagram of the TD&nbsp;information model for the Data schema vocabulary">
      <figcaption><a class="self-link" href="#td-data-schema-model">Figure <bdi class="figno">2</bdi></a> <span class="fig-title">Data schema vocabulary</span></figcaption>
    </figure>
    
    <hr>
    
    <figure id="td-security-model">
      <img src="visualization/wotsec.png" alt="UML diagram of the TD&nbsp;information model for the WoT security vocabulary">
      <figcaption><a class="self-link" href="#td-security-model">Figure <bdi class="figno">3</bdi></a> <span class="fig-title">WoT security vocabulary</span></figcaption>
    </figure>
    
    <hr>
    
    <figure id="hypermedia-model">
      <img src="visualization/hctl.png" alt="UML diagram of the TD&nbsp;information model for the hypermedia controls vocabulary">
      <figcaption><a class="self-link" href="#hypermedia-model">Figure <bdi class="figno">4</bdi></a> <span class="fig-title">Hypermedia controls vocabulary</span></figcaption>
    </figure>

    </section>

    <section id="preliminary-definitions"><div class="header-wrapper"><h3 id="x5-2-preliminaries"><bdi class="secno">5.2 </bdi>Preliminaries</h3><a class="self-link" href="#preliminary-definitions" aria-label="Permalink for Section 5.2"></a></div>

        

        <p>
            To provide a model that can be easily processed by both,
            simple rules on a tree-based document (i.e., raw JSON processing)
            and rich Semantic Web tooling (i.e., JSON-LD processing),
            this document defines the following formal preliminaries
            to construct the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-10">TD Information Model</a> accordingly.
        </p>

        <p>
            All definitions in this section refer to <em>sets</em>, which
            intuitively are collections of elements that can themselves be sets.
            All arbitrarily complex data structures can be defined in terms
            of sets. In particular, an <dfn data-plurals="objects" id="dfn-object" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Object</dfn> is a data structure
            recursively defined as follows:
        </p>

        <ul>
            <li>
                a <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-3">Term</a>, which may or may not belong to a <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-15">Vocabulary</a>,
                is an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-1">Object</a>.
            </li>
            <li>
                a set of name-value pairs where the name is a <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-4">Term</a> and the
                value is another <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-2">Object</a>, is also an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-3">Object</a>.
            </li>
        </ul>

        <p>
            Though this definition does not prevent <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-4">Objects</a> to include multiple
            name-value pairs with the same name, they are generally not considered
            in this specification. An <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-5">Object</a> whose elements only have numbers
            as names is called an <dfn data-plurals="arrays" id="dfn-array" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Array</dfn>. Similarly, an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-6">Object</a> whose
            elements only have <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-5">Term</a>s (that do not belong to any <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-16">Vocabulary</a>)
            as names is called a <dfn data-plurals="maps" id="dfn-map" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Map</dfn>. All names appearing in some name-value pair
            in a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-1">Map</a> are assumed to be <em>unique</em> within the scope of the
            <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-2">Map</a>.
        </p>

        <p>
            Moreover, <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-7">Object</a>s can be instances of some <dfn data-plurals="classes" id="dfn-class" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Class</dfn>.
            A <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-3">Class</a>, which is denoted by a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-5">Vocabulary Term</a>, is
            first defined by a set of <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-6">Vocabulary Terms</a> called a <dfn data-plurals="signatures" id="dfn-signature" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Signature</dfn>. A
            <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-4">Class</a> whose <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-3">Signature</a> is empty is called a <dfn data-plurals="simple types" id="dfn-simple-type" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Simple Type</dfn>.
        </p>

        <p>
            The <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-4">Signature</a> of a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-5">Class</a> allows to construct two functions that further
            define <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-6">Classes</a>: an <dfn id="dfn-assignment-function" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Assignment Function</dfn> and a <dfn id="dfn-type-function" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Type Function</dfn>.
            The <a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-function-1">Assignment Function</a> of a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-7">Class</a> takes a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-7">Vocabulary Term</a> of the
            <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-8">Class</a>'s <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-5">Signature</a> as input and returns either <code>true</code> or
            <code>false</code> as output. Intuitively, the <a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-function-2">Assignment Function</a> indicates
            whether an element of the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-6">Signature</a> is mandatory or optional when instantiating
            the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-9">Class</a>. The <a href="#dfn-type-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-type-function-1">Type Function</a> of a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-10">Class</a> also takes a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-8">Vocabulary
            Term</a> of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-11">Class</a>'s <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-7">Signature</a> as input and returns another <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-12">Class</a>
            as output. These functions are <em>partial</em>: their domain is limited to the
            <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-8">Signature</a> of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-13">Class</a> being defined.
        </p>

        <p>
            On the basis of these two functions, an <dfn id="dfn-instance-relation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Instance Relation</dfn> can be defined
            for a pair composed of an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-8">Object</a> and a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-14">Class</a>. This relation is defined as
            constraints to be satisfied. That is, an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-9">Object</a> is an instance of a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-15">Class</a>
            if the two following constraints are <em>both</em> satisfied:
        </p>
        <ul>
            <li>
                if for every <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-6">Term</a> for which the <a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-function-3">Assignment Function</a> of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-16">Class</a>
                returns <code>true</code>, the <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-10">Object</a> includes a name-value pair with the
                <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-9">Vocabulary Term</a> as name.
            </li>
            <li>
                if for every <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-10">Vocabulary Term</a> in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-9">Signature</a> of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-17">Class</a>
                used as name in some name-value pair of the <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-11">Object</a>, the value of that pair
                is an instance of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-18">Class</a> returned by the <a href="#dfn-type-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-type-function-2">Type Function</a> of the
                <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-19">Class</a> for the given <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-11">Vocabulary Term</a>.
            </li>
        </ul>
        

        <p>
            According to the definition above, an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-12">Object</a> would be an instance of every <a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-simple-type-1">Simple
            Type</a>, regardless of its structure. Instead, another definition for the <a href="#dfn-instance-relation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-instance-relation-2">Instance
            Relation</a> is introduced for <a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-simple-type-2">Simple Types</a>: an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-13">Object</a> is an instance
            of a <a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-simple-type-3">Simple Type</a> if it is a <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-7">Term</a> with a given lexical form (e.g., <code>true</code>,
            <code>false</code> for the <code>boolean</code> type, <code>1</code>, <code>2</code>,
            <code>3</code>, ... for the <code>unsignedInt</code> type, etc.).
        </p>

        <p>
            Moreover, additional <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-20">Classes</a>, called <dfn class="lint-ignore" id="dfn-parameterized-classes" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Parameterized Classes</dfn>, can be derived
            from the generic <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-3">Map</a> and <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-1">Array</a> structures. An <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-14">Object</a> is a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-4">Map</a> of some
            <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-21">Class</a>, that is, an instance of the <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-5">Map</a> type <em>parameterized</em> with some
            <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-22">Class</a>, if it is a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-6">Map</a> such that the value in all the name-value pairs it contains is
            an instance of this <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-23">Class</a>. The same applies to <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-2">Arrays</a>.
        </p>

        <p>
            Finally, a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-24">Class</a> is a <dfn data-plurals="subclasses" id="dfn-subclass" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Subclass</dfn> of some other <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-25">Class</a> if every instance of
            the former is also an instance of the latter.
        </p>

        <p>
            Given all definitions above, the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-11">TD Information Model</a> is to be understood
            as a set of <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-26">Class</a> definitions,
            which include a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-27">Class</a> name (a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-12">Vocabulary Term</a>),
            a <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-10">Signature</a> (a set of <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-13">Vocabulary Terms</a>),
            an <a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-function-4">Assignment Function</a>,
            and a <a href="#dfn-type-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-type-function-3">Type Function</a>.
            These <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-28">Class</a> definitions are provided as tables in <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a>.
            For each table, the values "mandatory" (respectively, "optional") in the assignment column
            indicates that the <a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-function-5">Assignment Function</a> returns <code>true</code>
            (respectively, <code>false</code>) for the corresponding <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-14">Vocabulary Term</a>.
        </p>

        <p>
            By convention, <a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-simple-type-4">Simple Types</a> are denoted by names starting with lowercase.
            The <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-12">TD&nbsp;Information Model</a> references the following <a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-simple-type-5">Simple&nbsp;Types</a> 
            defined in XML Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-xmlschema11-2-20120405" title="W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes">XMLSCHEMA11-2-20120405</a></cite>]:
            <code>string</code>,
            <code>anyURI</code>,
            <code>dateTime</code>,
            <code>integer</code>,
            <code>unsignedInt</code>,
            <code>double</code>, and
            <code>boolean</code>.
            Their definition (i.e., the specification of their lexical form) is outside of the
            scope of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-13">TD Information Model</a>.</p>
        <p>
            In addition, the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-14">TD Information Model</a> defines a global function on
            pairs of <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-15">Vocabulary Terms</a>. The function takes a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-29">Class</a> name and
            another <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-16">Vocabulary Term</a> as input and
            returns an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-15">Object</a>. If the returned <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-16">Object</a> is different from
            <code>null</code>, it represents the <dfn data-plurals="default values" id="dfn-default-value" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Default Value</dfn> for some
            assignment on the input <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-17">Vocabulary Term</a> in an instance of the input
            <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-30">Class</a>. This function allows to relax the constraint
            defined above on the <a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-function-6">Assignment Function</a>:
            an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-17">Object</a> is an instance of a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-31">Class</a> if it includes all mandatory
            assignments <em>or</em> if <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-4">Default Value</a> exist for the missing
            assignments. All <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-5">Default Values</a> are given in the table of
            <a href="#sec-default-values" class="sec-ref"><bdi class="secno">5.4 </bdi>Default Value Definitions</a>. In each table of
            <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a>, the assignment column contains the value
            "with default" if a <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-6">Default Value</a> is available for the corresponding
            combination of <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-32">Class</a> and <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-18">Vocabulary Term</a> in the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-15">TD
            Information Model</a>.
        </p>

        <p>
            The formalization introduced here does not consider the possible relation
            between <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-18">Objects</a> as abstract data structures and physical world objects
            such as <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-18">Things</a>. However, care was given to the possibility of re-interpreting
            all <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-19">Vocabulary Terms</a> involved in the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-16">TD Information Model</a> as RDF
            resources, so as to integrate them in a larger model of the physical world
            (an ontology).
            For details about semantic processing, please refer to 
            <a href="#json-ld-ctx-usage" class="sec-ref"><bdi class="secno">D. </bdi>JSON-LD Context Usage</a> and the documentation under the namespace IRIs, e.g.,
            <a href="https://www.w3.org/2019/wot/td">https://www.w3.org/2019/wot/td</a>.
        </p>

        
    </section>
    
      <section id="class-definitions"><div class="header-wrapper"><h3 id="x5-3-class-definitions"><bdi class="secno">5.3 </bdi>Class Definitions</h3><a class="self-link" href="#class-definitions" aria-label="Permalink for Section 5.3"></a></div>

        

        <p>
            <span class="rfc2119-assertion" id="td-processor">
                A <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-5">TD Processor</a> <em class="rfc2119">MUST</em> satisfy the
                <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-33">Class</a> instantiation constraints on all <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-34">Classes</a> defined in
                <a href="#sec-core-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.1 </bdi>Core Vocabulary Definitions</a>,
                <a href="#sec-data-schema-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.2 </bdi>Data Schema Vocabulary Definitions</a>,
                <a href="#sec-security-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.3 </bdi>Security Vocabulary Definitions</a>,
                and <a href="#sec-hypermedia-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.4 </bdi>Hypermedia Controls Vocabulary Definitions</a>.
            </span>
        </p>

        <p>
            In particular, note that all vocabulary terms and values are case sensitive.
            This is also true for the serialization of the information model (Section <a href="#sec-td-serialization" class="sec-ref"><bdi class="secno">6. </bdi>TD Representation Format</a>).
        </p>

      <section id="sec-core-vocabulary-definition"><div class="header-wrapper"><h4 id="x5-3-1-core-vocabulary-definitions"><bdi class="secno">5.3.1 </bdi>Core Vocabulary Definitions</h4><a class="self-link" href="#sec-core-vocabulary-definition" aria-label="Permalink for Section 5.3.1"></a></div>
      

      
      <section id="thing"><div class="header-wrapper"><h5 id="x5-3-1-1-thing"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></h5><a class="self-link" href="#thing" aria-label="Permalink for Section 5.3.1.1"></a></div><p>An abstraction of a physical or a virtual entity whose
          metadata and interfaces are described by a WoT Thing
          Description, whereas a virtual entity is the composition
          of one or more Things.</p><table class="def numbered" id="table-vocabulary-terms-in-thing-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-thing-level">Table <bdi class="tableno">3</bdi></a> <span class="table-title">Vocabulary Terms in Thing Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-20">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-at-context--Thing"><td><code>@context</code></td><td>JSON-LD keyword to define short-hand names called terms that are used throughout a TD document.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-3">Array</a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-at-type--Thing"><td><code>@type</code></td><td>JSON-LD keyword to label the object with <a href="#dfn-semantic-tag" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-semantic-tag-1">semantic tags</a> (or types).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-4">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-id--Thing"><td><code>id</code></td><td>Identifier of the Thing in form of a URI [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] (e.g., stable URI, temporary and mutable URI, URI with local IP address, URN, etc.).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-title--Thing"><td><code>title</code></td><td>Provides a human-readable title (e.g., display
                a text for UI representation) based on a default
                language.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-titles--Thing"><td><code>titles</code></td><td>Provides multi-language human-readable titles
                (e.g., display a text for UI representation in
                different languages). Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-7">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-description--Thing"><td><code>description</code></td><td>Provides additional (human-readable)
                      information based on a default language.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-descriptions--Thing"><td><code>descriptions</code></td><td>Can be used to support (human-readable)
                       information in different languages. Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-8">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-version--Thing"><td><code>version</code></td><td>Provides version information.</td><td>optional</td><td><a href="#versioninfo"><code>VersionInfo</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-created--Thing"><td><code>created</code></td><td>Provides information when the TD instance was
                created.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#dateTime"><code>dateTime</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-modified--Thing"><td><code>modified</code></td><td>Provides information when the TD instance was
                last modified.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#dateTime"><code>dateTime</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-support--Thing"><td><code>support</code></td><td>Provides information about the TD maintainer as
                URI scheme (e.g., <code>mailto</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6068" title="The 'mailto' URI Scheme">RFC6068</a></cite>],
                <code>tel</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3966" title="The tel URI for Telephone Numbers">RFC3966</a></cite>],
                <code>https</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9112" title="HTTP/1.1">RFC9112</a></cite>]).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-base--Thing"><td><code>base</code></td><td>Define the base URI that is used for all
                relative URI references throughout a TD document.
                In TD instances, all relative URIs are resolved
                relative to the base URI using the algorithm
                defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>].<br>
                <br>
                <code>base</code> does not affect the URIs used in
                <code>@context</code> and the IRIs used within
                Linked Data [<cite><a class="bibref" data-link-type="biblio" href="#bib-linked-data" title="Linked Data Design Issues">LINKED-DATA</a></cite>]
                graphs that are relevant when semantic processing
                is applied to TD instances.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-properties--Thing"><td><code>properties</code></td><td>All Property-based <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-5">Interaction Affordances</a>
                  of the Thing.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-9">Map</a> of <a href="#propertyaffordance"><code>PropertyAffordance</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-actions--Thing"><td><code>actions</code></td><td>All Action-based <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-6">Interaction Affordances</a>
                  of the Thing.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-10">Map</a> of <a href="#actionaffordance"><code>ActionAffordance</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-events--Thing"><td><code>events</code></td><td>All Event-based <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-7">Interaction Affordances</a>
                  of the Thing.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-11">Map</a> of <a href="#eventaffordance"><code>EventAffordance</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-links--Thing"><td><code>links</code></td><td>Provides Web links to arbitrary resources that
                relate to the specified Thing Description.</td><td>optional</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-5">Array</a> of <a href="#link"><code>Link</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-forms--Thing"><td><code>forms</code></td><td>Set of form hypermedia controls that describe how 
                  an operation can be performed. Forms are
                  serializations of Protocol Bindings. <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-1">Thing level</a> forms are used to describe endpoints for a group of interaction affordances.</td><td>optional</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-6">Array</a> of <a href="#form"><code>Form</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-security--Thing"><td><code>security</code></td><td>Set of security definition names, chosen from
                those defined in <code>securityDefinitions</code>.
                These must all be satisfied for access to resources.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-7">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-securityDefinitions--Thing"><td><code>securityDefinitions</code></td><td>Set of named security configurations
                (definitions only). Not actually applied unless
                names are used in a <code>security</code>
                name-value pair.</td><td>mandatory</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-12">Map</a> of <a href="#securityscheme"><code>SecurityScheme</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-profile--Thing"><td><code>profile</code></td><td>Indicates the WoT Profile mechanisms followed by this Thing Description and the corresponding Thing implementation.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-8">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-schemaDefinitions--Thing"><td><code>schemaDefinitions</code></td><td>Set of named data schemas.
                To be used in a <code>schema</code>
                name-value pair inside an 
                <code>AdditionalExpectedResponse</code> object.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-13">Map</a> of <a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-uriVariables--Thing"><td><code>uriVariables</code></td><td>Define URI template variables according to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>]  as collection
                based on DataSchema declarations. The <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-2">Thing level</a> <code>uriVariables</code> can be used in <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-3">Thing level</a> 
                <code>forms</code> or in Interaction Affordances.
                The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema since each variable needs
                to be serialized to a string inside the <code>href</code> upon the execution of the operation.
                If the same variable is both declared in <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-4">Thing level</a> <code>uriVariables</code> and in Interaction Affordance level,
                 the Interaction Affordance level variable takes precedence.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-14">Map</a> of <a href="#dataschema"><code>DataSchema</code></a></td></tr></tbody></table><p>
              For <code>@context</code> the following rules are defined for <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-15">Thing Description</a> instances:
              </p>
        <ul>
            <li>
    <span class="rfc2119-assertion" id="td-context-ns-thing-mandatory">

          The <code>@context</code>
          name-value pair <em class="rfc2119">MUST</em> contain the anyURI
          <code>https://www.w3.org/2022/wot/td/v1.1</code>
          in order to identify the document as a TD 1.1 which would allow <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-2">Consumers</a> to use the newly introduced terms.
          </span>
          </li>
          <li>
          <span class="rfc2119-assertion" id="td-context-ns-td10-namespace"> 
          When there are possibly TD 1.0 consumers the anyURI
          <code>https://www.w3.org/2019/wot/td/v1</code>
          <em class="rfc2119">MUST</em> be the first entry and the <code>https://www.w3.org/2022/wot/td/v1.1</code> <em class="rfc2119">MUST</em> be the second entry.</span>
          </li>
          <li>
          <span class="rfc2119-assertion" id="td-context-ns-td10-namespacev10"> 
            TD 1.1 consumers <em class="rfc2119">MUST</em> accept TDs satisfying the <abbr title="World Wide Web Consortium">W3C</abbr> WoT Thing Description 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-thing-description10" title="Web of Things (WoT) Thing Description">wot-thing-description10</a></cite>] specification. 
            </span>
          </li>
          <li>
          <span class="rfc2119-assertion" id="td-context-ns-thing-optional">When <code>@context</code>
          is an <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-9">Array</a>, the anyURI
          <code>https://www.w3.org/2022/wot/td/v1.1</code> <em class="rfc2119" title="MAY"><em class="rfc2119">MAY</em></em> be followed by elements of
          type <code>anyURI</code> or type <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-15">Map</a> in any
          order, while it is <em class="rfc2119">RECOMMENDED</em> to include only one
          <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-16">Map</a> with all the name-value pairs in the
          <code>@context</code> <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-10">Array</a>.</span>
          </li>
        <li>
          <span class="rfc2119-assertion" id="td-context-ns-thing-map-of-namespaces"><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-17">Maps</a> contained in an <code>@context</code>
          <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-11">Array</a> <em class="rfc2119">MAY</em>
          contain name-value pairs, where the value is a namespace
          identifier of type <code>anyURI</code> and the name a
          <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-8">Term</a> or prefix denoting that namespace.</span>
          </li>
          <li>
          <span class="rfc2119-assertion" id="td-context-default-language">One <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-18">Map</a>
          contained in an <code>@context</code> <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-12">Array</a> <em class="rfc2119">SHOULD</em> contain a name-value pair that
          defines the default language for the Thing Description,
          where the name is the <a href="#dfn-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-term-9">Term</a>
          <code>@language</code> and the value is a well-formed
          language tag as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-bcp47" title="Tags for Identifying Languages">BCP47</a></cite>] (e.g.,
          <code>en</code>, <code>de-AT</code>, <code>gsw-CH</code>,
          <code>zh-Hans</code>, <code>zh-Hant-HK</code>,
          <code>sl-nedis</code>).</span>
          </li>
          </ul>

          
          <p>To determine the base direction of all
          human-readable text in <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-16">Thing Description</a> 
          and <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-7">Thing Model</a> instances this specification 
           recommends to follow the [<cite><a class="bibref" data-link-type="biblio" href="#bib-string-meta" title="Strings on the Web: Language and Direction Metadata">STRING-META</a></cite>] guideline about 
           <a href="https://www.w3.org/TR/string-meta/#string_specific_direction">string-specific directional information</a>
           when no built-in mechanism for associating base direction metadata
           is available.
           </p>

          <p><a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-6">TD Processors</a> should be aware of
          certain special cases when processing bidirectional text.
          <span class="rfc2119-assertion" id="td-processor-bidi-isolation">
          <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-7">TD Processors</a> <em class="rfc2119">SHOULD</em> take care to use bidi isolation when
          presenting strings to users, particularly when embedding
          in surrounding text (e.g., for Web user interface)</span>. 
          Mixed direction text can occur in any language, even when the
          language is properly identified.</p>
          <p><span class="rfc2119-assertion" id="td-producer-mixed-direction">
          TD <a href="#dfn-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-producer-2">producers</a> <em class="rfc2119">SHOULD</em> attempt to provide mixed direction
          strings in a way that can be displayed successfully by a
          naive user agent. </span>
          For example, if an RTL string begins
          with an LTR run (such as a number or a brand or trade
          name in Latin script), including an RLM character at the
          start of the string or wrapping opposite direction runs
          in bidi controls can assist in proper display.</p>
          <p><em>Strings on the Web: Language and Direction
          Metadata</em> [<cite><a class="bibref" data-link-type="biblio" href="#bib-string-meta" title="Strings on the Web: Language and Direction Metadata">string-meta</a></cite>]
          provides some guidance and illustrates a number of
          pitfalls when using bidirectional text.</p>
          <p id="meta-interactions-of-thing">In addition to the
          explicitly provided <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-8">Interaction
          Affordances</a> in the <code>properties</code>,
          <code>actions</code>, and <code>events</code> <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-19">Maps</a>, a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-19">Thing</a> can also
          provide meta-interactions, which are indicated by
          <code>Form</code> instances in its optional
          <code>forms</code> <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-13">Array</a>.
          <span class="rfc2119-assertion" id="td-op-for-thing">When
          the <code>forms</code> <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-14">Array</a> of a
          <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-20">Thing</a> instance contains <code>Form</code>
          instances, it <em class="rfc2119">MUST</em> contain <code>op</code> member with the string values assigned 
          to the name <code>op</code>, either directly or within an <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-15">Array</a>, <em class="rfc2119">MUST</em> be one of the following <em>operation
          types</em>: <code>readallproperties</code>,
          <code>writeallproperties</code>,
          <code>readmultipleproperties</code>,
          <code>writemultipleproperties</code>, <code>observeallproperties</code>,
          <code>unobserveallproperties</code>, <code>queryallactions</code>, 
          <code>subscribeallevents</code>, or
          <code>unsubscribeallevents</code>.</span> (See
          <a href="#td-forms-readall-example">an example</a> for an
          usage of <code>form</code> in a Thing instance.)</p>
          <p>The data schema for each of the property meta-interactions is
          constructed by combining the data schemas of each
          <code>PropertyAffordance</code> instance in a single
          <code>ObjectSchema</code> instance, where the
          <code>properties</code> <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-20">Map</a> of the
          <code>ObjectSchema</code> instance contains each data
          schema of the <code>PropertyAffordances</code> identified
          by the name of the corresponding
          <code>PropertyAffordances</code> instance.</p>
          <p>If not specified otherwise (e.g., through a <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-1">TD Context Extension</a>), the request data of the
          <code>readmultipleproperties</code> operation is an
          <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-16">Array</a> that contains the intended
          <code>PropertyAffordances</code> instance names, which is
          serialized to the content type specified by the
          <code>Form</code> instance.</p></section>
<section id="interactionaffordance"><div class="header-wrapper"><h5 id="x5-3-1-2-interactionaffordance"><bdi class="secno">5.3.1.2 </bdi><code>InteractionAffordance</code></h5><a class="self-link" href="#interactionaffordance" aria-label="Permalink for Section 5.3.1.2"></a></div><p>Metadata of a Thing that shows the possible choices to
          <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-3">Consumers</a>, thereby suggesting
          how <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-4">Consumers</a> may interact with the
          Thing. There are many types of potential affordances, but
          <abbr title="World Wide Web Consortium">W3C</abbr> WoT
          defines three types of Interaction Affordances:
          Properties, Actions, and Events.</p><table class="def numbered" id="table-vocabulary-terms-in-interactionaffordance-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-interactionaffordance-level">Table <bdi class="tableno">4</bdi></a> <span class="table-title">Vocabulary Terms in InteractionAffordance Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-21">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-at-type--InteractionAffordance"><td><code>@type</code></td><td>JSON-LD keyword to label the object with <a href="#dfn-semantic-tag" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-semantic-tag-2">semantic tags</a> (or types).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-17">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-title--InteractionAffordance"><td><code>title</code></td><td>Provides a human-readable title (e.g., display
                a text for UI representation) based on a default
                language.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-titles--InteractionAffordance"><td><code>titles</code></td><td>Provides multi-language human-readable titles
                (e.g., display a text for UI representation in
                different languages). Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-21">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-description--InteractionAffordance"><td><code>description</code></td><td>Provides additional (human-readable)
                      information based on a default language.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-descriptions--InteractionAffordance"><td><code>descriptions</code></td><td>Can be used to support (human-readable)
                       information in different languages. Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-22">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-forms--InteractionAffordance"><td><code>forms</code></td><td>Set of form hypermedia controls that describe
                how an operation can be performed. Forms are
                serializations of Protocol Bindings. The array cannot be empty.</td><td>mandatory</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-18">Array</a> of <a href="#form"><code>Form</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-uriVariables--InteractionAffordance"><td><code>uriVariables</code></td><td>Define URI template variables according to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>]  as collection
                based on DataSchema declarations. The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema since each variable needs
                to be serialized to a string inside the <code>href</code> upon the execution of the operation. 
                If the same variable is both declared in <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-5">Thing level</a> <code>uriVariables</code>and in Interaction Affordance level, 
                the Interaction Affordance level variable takes precedence.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-23">Map</a> of <a href="#dataschema"><code>DataSchema</code></a></td></tr></tbody></table><p>The class <code>InteractionAffordance</code> has the following subclasses:</p><ul><li><a href="#propertyaffordance"><code>PropertyAffordance</code></a></li>
<li><a href="#actionaffordance"><code>ActionAffordance</code></a></li>
<li><a href="#eventaffordance"><code>EventAffordance</code></a></li></ul></section>
<section id="propertyaffordance"><div class="header-wrapper"><h5 id="x5-3-1-3-propertyaffordance"><bdi class="secno">5.3.1.3 </bdi><code>PropertyAffordance</code></h5><a class="self-link" href="#propertyaffordance" aria-label="Permalink for Section 5.3.1.3"></a></div><p>An Interaction Affordance that exposes state of the
          Thing. This state can then be retrieved (read) and/or updated (write).
           Things can also choose to
          make Properties observable by pushing the new state after
          a change.</p><table class="def numbered" id="table-vocabulary-terms-in-propertyaffordance-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-propertyaffordance-level">Table <bdi class="tableno">5</bdi></a> <span class="table-title">Vocabulary Terms in PropertyAffordance Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-22">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-observable--PropertyAffordance"><td><code>observable</code></td><td>A hint that indicates whether Servients hosting
                the Thing and Intermediaries should provide a
                Protocol Binding that supports the <code>observeproperty</code> and <code>unobserveproperty</code> operations 
                for this Property.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr></tbody></table><div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="6"><span>Note</span></div><p class="">Property instances are also instances of
            the class <a href="#dataschema" class="sec-ref">DataSchema</a>. Therefore, it can contain the
            <code>type</code>, <code>unit</code>,
            <code>readOnly</code> and <code>writeOnly</code>
            members, among others.</p></div><p><code>PropertyAffordance</code> is a <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-1">Subclass</a> of the
          <code>InteractionAffordance</code> <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-35">Class</a> and
          the <code>DataSchema</code> <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-36">Class</a>.
          <span class="rfc2119-assertion" id="td-op-for-property">When a Form instance is within a
          <code>PropertyAffordance</code> instance, the value
          assigned to <code>op</code> <em class="rfc2119">MUST</em> be one of <code>readproperty</code>,
          <code>writeproperty</code>, <code>observeproperty</code>,
          <code>unobserveproperty</code> or an <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-19">Array</a>
          containing a combination of these terms.</span></p><div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="6"><span>Note</span></div><p class="">
		  It is considered to be good practice that each <code>observeproperty</code> has a corresponding
		  <code>unobserveproperty</code> unless the protocol supports implicit unsubscription mechanisms
		  (e.g., heartbeat to detect connection loss).</p></div><div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="6"><span>Note</span></div><p class="">
		  The observation mechanism depends on the underlying protocol or sub-protocol. Having said that, it is not 
          guaranteed that the current <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-4">Property</a> value will be provided once the subscription is initiated. Hence, it may be 
          necessary to read the current <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-5">Property</a> value before/after the subscription to get a first value. 
          </p></div></section>
<section id="actionaffordance"><div class="header-wrapper"><h5 id="x5-3-1-4-actionaffordance"><bdi class="secno">5.3.1.4 </bdi><code>ActionAffordance</code></h5><a class="self-link" href="#actionaffordance" aria-label="Permalink for Section 5.3.1.4"></a></div><p>An Interaction Affordance that allows to invoke a
          function of the Thing, which manipulates state (e.g.,
          toggling a lamp on or off) or triggers a process on the
          Thing (e.g., dim a lamp over time).</p><table class="def numbered" id="table-vocabulary-terms-in-actionaffordance-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-actionaffordance-level">Table <bdi class="tableno">6</bdi></a> <span class="table-title">Vocabulary Terms in ActionAffordance Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-23">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-input--ActionAffordance"><td><code>input</code></td><td>Used to define the input data schema of the
                Action.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-output--ActionAffordance"><td><code>output</code></td><td>Used to define the output data schema of the
                Action.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-safe--ActionAffordance"><td><code>safe</code></td><td>Signals if the Action is safe (=true) or not.
                Used to signal if there is no internal state (cf.
                resource state) is changed when invoking an Action.
                In that case responses can be cached as
                example.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-idempotent--ActionAffordance"><td><code>idempotent</code></td><td>Indicates whether the Action is idempotent
                (=true) or not. Informs whether the Action can be
                called repeatedly with the same result, if present,
                based on the same input.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-synchronous--ActionAffordance"><td><code>synchronous</code></td><td>Indicates whether the action is synchronous (=true) or not. 
                A synchronous action means that the response of action contains all the information 
                about the result of the action and no further querying about the status of the action 
                is needed. Lack of this keyword means that no claim on the synchronicity of the 
                action can be made.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr></tbody></table><p><code>ActionAffordance</code> is a <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-2">Subclass</a> of the
          <code>InteractionAffordance</code> <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-37">Class</a>.
          <span class="rfc2119-assertion" id="td-op-for-action">When a Form instance is within an
          <code>ActionAffordance</code> instance, the value
          assigned to op <em class="rfc2119">MUST</em>
          either be <code>invokeaction</code>, <code>queryaction</code>, 
          <code>cancelaction</code> or an 
          <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-20">Array</a>
          containing a combination of these terms.
          </span></p></section>
<section id="eventaffordance"><div class="header-wrapper"><h5 id="x5-3-1-5-eventaffordance"><bdi class="secno">5.3.1.5 </bdi><code>EventAffordance</code></h5><a class="self-link" href="#eventaffordance" aria-label="Permalink for Section 5.3.1.5"></a></div><p>An Interaction Affordance that describes an event
          source, which asynchronously pushes event data to
          <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-5">Consumers</a> (e.g., overheating
          alerts).</p><table class="def numbered" id="table-vocabulary-terms-in-eventaffordance-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-eventaffordance-level">Table <bdi class="tableno">7</bdi></a> <span class="table-title">Vocabulary Terms in EventAffordance Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-24">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-subscription--EventAffordance"><td><code>subscription</code></td><td>Defines data that needs to be passed upon
                subscription, e.g., filters or message format for
                setting up Webhooks.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-data--EventAffordance"><td><code>data</code></td><td>Defines the data schema of the Event instance
                messages pushed by the Thing.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-dataResponse--EventAffordance"><td><code>dataResponse</code></td><td>Defines the data schema of the Event response messages sent by the consumer in a response to a data message.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-cancellation--EventAffordance"><td><code>cancellation</code></td><td>Defines any data that needs to be passed to
                cancel a subscription, e.g., a specific message to
                remove a Webhook.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr></tbody></table><p><code>EventAffordance</code> is a <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-3">Subclass</a> of the
          <code>InteractionAffordance</code> <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-38">Class</a>.
          <span class="rfc2119-assertion" id="td-op-for-event">When
          a Form instance is within an <code>EventAffordance</code>
          instance, the value assigned to <code>op</code>
          <em class="rfc2119">MUST</em> be either
          <code>subscribeevent</code>,
          <code>unsubscribeevent</code>, or both terms within an
          <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-21">Array</a>.</span></p><div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="6"><span>Note</span></div><p class="">
		  It is considered to be good practice that each <code>subscribeevent</code> has a corresponding <code>unsubscribeevent</code> unless the protocol
		  supports implicit unsubscription mechanisms (e.g., heartbeat to detect connection loss).</p></div></section>
<section id="versioninfo"><div class="header-wrapper"><h5 id="x5-3-1-6-versioninfo"><bdi class="secno">5.3.1.6 </bdi><code>VersionInfo</code></h5><a class="self-link" href="#versioninfo" aria-label="Permalink for Section 5.3.1.6"></a></div><p>Metadata of a Thing that provides version information
          about the TD document. If required, additional version
          information such as firmware and hardware version (term
          definitions outside of the TD namespace) can be extended
          via the <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-2">TD Context Extension</a>
          mechanism.</p><table class="def numbered" id="table-vocabulary-terms-in-versioninfo-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-versioninfo-level">Table <bdi class="tableno">8</bdi></a> <span class="table-title">Vocabulary Terms in VersionInfo Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-25">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-instance--VersionInfo"><td><code>instance</code></td><td>Provides a version indicator of this TD.
                </td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-model--VersionInfo"><td><code>model</code></td><td>Provides a version indicator of the underlying TM.
                </td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table><p>It is recommended that the values within <code>instances</code> and <code>model</code> of
          the <code>VersionInfo</code> <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-39">Class</a> follow the
          semantic versioning pattern, where a sequence of three
          numbers separated by a dot indicates the major version,
          minor version, and patch version, respectively. See
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-semver" title="Semantic Versioning 2.0.0">SEMVER</a></cite>] for
          details.</p></section>
<section id="multilanguage"><div class="header-wrapper"><h5 id="x5-3-1-7-multilanguage"><bdi class="secno">5.3.1.7 </bdi><code>MultiLanguage</code></h5><a class="self-link" href="#multilanguage" aria-label="Permalink for Section 5.3.1.7"></a></div><p></p><p>A <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-24">Map</a> providing a set of human-readable texts in different languages identified by language tags described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-bcp47" title="Tags for Identifying Languages">BCP47</a></cite>]. See <a href="#titles-descriptions-serialization-json" class="sec-ref"><bdi class="secno">6.3.2 </bdi>Human-Readable Metadata</a> for example usages of this container in a Thing Description instance.</p>
            <p><span class="rfc2119-assertion" id="td-multilanguage-language-tag">Each name of the <code>MultiLanguage</code> <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-25">Map</a> <em class="rfc2119">MUST</em> be a language tag as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-bcp47" title="Tags for Identifying Languages">BCP47</a></cite>].</span>
            <span class="rfc2119-assertion" id="td-multilanguage-value"> Each value of the <code>MultiLanguage</code> <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-26">Map</a> <em class="rfc2119">MUST</em> be of type <code>string</code>. </span> 
            </p></section>

      </section>
    
      <section id="sec-data-schema-vocabulary-definition"><div class="header-wrapper"><h4 id="x5-3-2-data-schema-vocabulary-definitions"><bdi class="secno">5.3.2 </bdi>Data Schema Vocabulary Definitions</h4><a class="self-link" href="#sec-data-schema-vocabulary-definition" aria-label="Permalink for Section 5.3.2"></a></div>
      
	  <p>A data schema is an abstract notation for data contained in data formats.</p>
      <p>
        The data schema vocabulary definition reflects a very common subset of the terms defined by JSON Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>].
        A JSON Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>] processor for <a href="https://json-schema.org/specification-links#draft-7">JSON Schema draft 7</a>
        can consume a data schema. It is noted
        that data schema definitions within Thing Description instances are not limited to this defined subset and may use additional terms
        found in JSON Schema using a <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-3">TD Context Extension</a> for the additional terms as described in
        <a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a>, otherwise these terms are semantically ignored by <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-8">TD Processors</a>
        (for details about semantic processing, please refer to 
        <a href="#json-ld-ctx-usage" class="sec-ref"><bdi class="secno">D. </bdi>JSON-LD Context Usage</a> and the documentation under the namespace IRIs, e.g.,
        <a href="https://www.w3.org/2019/wot/td">https://www.w3.org/2019/wot/td</a>).
      </p>
      <p>In a TD, concrete data formats are specified in Forms (see <a href="#form" class="sec-ref"><bdi class="secno">5.3.4.2 </bdi><code>Form</code></a>) using content types.
         When the value of a content type in an instance of the Form is <code>application/json</code>, 
         the data schema can be processed directly by JSON Schema processors.
         Otherwise, Web of Things (WoT) Binding Templates [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-binding-templates" title="Web of Things (WoT) Binding Templates">WOT-BINDING-TEMPLATES</a></cite>] defines data schema's 
         available mappings to other content types such as XML [<cite><a class="bibref" data-link-type="biblio" href="#bib-xml" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">xml</a></cite>]. 
         If the content type in an instance of the Form is not <code>application/json</code> and 
         if no mapping is defined for the content type, specifying a data schema does not make sense 
         for the content type.
      </p>
	  <p><span>The following table contains content types which <em class="rfc2119">MAY</em> use data schema to describe the 
        structure of their payloads.</span>
    </p>
         <table class="def numbered" id="table-content-types-that-can-use-a-data-schema">
            <caption><a class="self-link" href="#table-content-types-that-can-use-a-data-schema">Table <bdi class="tableno">9</bdi></a> <span class="table-title">Content types that can use a Data Schema</span></caption>
            <thead>
               <tr>
                  <th>Format</th>
                  <th>Content Type</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td>JSON/CBOR</td>
                  <td>
                     <code>application/json</code> <br>
                     <code>application/ld+json</code> <br>
                     <code>application/senml+json</code> <br>
                     <code>application/cbor</code> <br>
                     <code>application/senml+cbor</code> <br>
                  </td>
               </tr>
               <tr>
                  <td>XML/EXI</td>
                  <td>
                     <code>application/xml</code> <br>
                     <code>application/senml+xml</code> <br>
                     <code>application/exi</code> <br>
                     <code>application/senml-exi</code> <br>
                  </td>
               </tr>
            </tbody>
         </table>

      
      <section id="dataschema"><div class="header-wrapper"><h5 id="x5-3-2-1-dataschema"><bdi class="secno">5.3.2.1 </bdi><code>DataSchema</code></h5><a class="self-link" href="#dataschema" aria-label="Permalink for Section 5.3.2.1"></a></div><p>Metadata that describes the data format used. It can
          be used for validation.</p><table class="def numbered" id="table-vocabulary-terms-in-dataschema-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-dataschema-level">Table <bdi class="tableno">10</bdi></a> <span class="table-title">Vocabulary Terms in DataSchema Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-26">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-at-type--DataSchema"><td><code>@type</code></td><td>JSON-LD keyword to label the object with <a href="#dfn-semantic-tag" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-semantic-tag-3">semantic tags</a> (or types)</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-22">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-title--DataSchema"><td><code>title</code></td><td>Provides a human-readable title (e.g., display
                a text for UI representation) based on a default
                language.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-titles--DataSchema"><td><code>titles</code></td><td>Provides multi-language human-readable titles
                (e.g., display a text for UI representation in
                different languages). Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-27">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-description--DataSchema"><td><code>description</code></td><td>Provides additional (human-readable)
                      information based on a default language.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-descriptions--DataSchema"><td><code>descriptions</code></td><td>Can be used to support (human-readable)
                       information in different languages. Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-28">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-const--DataSchema"><td><code>const</code></td><td>Provides a constant value.</td><td>optional</td><td>any type</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-default--DataSchema"><td><code>default</code></td><td>Supply a default value. The value <em class="rfc2119">SHOULD</em> validate against the data schema in which it resides.</td><td>optional</td><td>any type</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-unit--DataSchema"><td><code>unit</code></td><td>Provides unit information that is used, e.g.,
                in international science, engineering, and
                business. To preserve uniqueness, it is recommended that 
                the value of the unit points to a semantic definition (also see Section <a href="#semantic-annotations-example-version-units" class="internalDFN" data-link-type="dfn">Semantic Annotations</a>).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-oneOf--DataSchema"><td><code>oneOf</code></td><td>Used to ensure that the data is valid against
                one of the specified schemas in the array.  This can be used to describe multiple input or output schemas.</td><td>optional</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-23">Array</a> of <a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-enum--DataSchema"><td><code>enum</code></td><td>Restricted set of values provided as an
                array.</td><td>optional</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-24">Array</a> of any type</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-readOnly--DataSchema"><td><code>readOnly</code></td><td>Boolean value that is a hint to indicate
                whether a property interaction / value is read only
                (=true) or not (=false).</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-writeOnly--DataSchema"><td><code>writeOnly</code></td><td>Boolean value that is a hint to indicate
                whether a property interaction / value is write
                only (=true) or not (=false).</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-format--DataSchema"><td><code>format</code></td><td>Allows validation based on a format pattern
                such as "date-time", "email", "uri", etc. (Also see
                below.)</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-type--DataSchema"><td><code>type</code></td><td>Assignment of JSON-based data types compatible
                with JSON Schema (one of boolean, integer, number,
                string, object, array, or null).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>object</code>, <code>array</code>, <code>string</code>, <code>number</code>, <code>integer</code>, <code>boolean</code>, or <code>null</code>)</td></tr></tbody></table><p>The class <code>DataSchema</code> has the following subclasses:</p><ul><li><a href="#arrayschema"><code>ArraySchema</code></a></li>
<li><a href="#booleanschema"><code>BooleanSchema</code></a></li>
<li><a href="#numberschema"><code>NumberSchema</code></a></li>
<li><a href="#integerschema"><code>IntegerSchema</code></a></li>
<li><a href="#objectschema"><code>ObjectSchema</code></a></li>
<li><a href="#stringschema"><code>StringSchema</code></a></li>
<li><a href="#nullschema"><code>NullSchema</code></a></li></ul><p>The <code>format</code> string values are known from a
          fixed set of values and their corresponding format rules
          defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>]
          (Section 7.3 Defined Formats in particular). <span class="rfc2119-assertion" id="td-format-validation-known-values">Servients <em class="rfc2119">MAY</em> use the
          <code>format</code> value to perform additional
          validation accordingly.</span> <span class="rfc2119-assertion" id="td-format-validation-other-values">When a value that is
          not found in the known set of values is assigned to
          <code>format</code>, such a validation <em class="rfc2119">SHOULD</em> succeed.</span></p>
          Vocabulary terms typed as <code>any</code> <code>type</code> (e.g., <code>const</code>, <code>default</code>) follow data types compatible with JSON Schema (boolean, integer, number, string, object, array, or null).
          <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="6"><span>Note</span></div><p class="">The <code>format</code> term is not widely implemented by JSON Schema tools. 
          In addition, the term <code>format</code> is being discussed by the JSON Schema standardisation community and may be replaced by another mechanism or removed in a future JSON Schema version.</p></div></section>
<section id="arrayschema"><div class="header-wrapper"><h5 id="x5-3-2-2-arrayschema"><bdi class="secno">5.3.2.2 </bdi><code>ArraySchema</code></h5><a class="self-link" href="#arrayschema" aria-label="Permalink for Section 5.3.2.2"></a></div><p>Metadata describing data of type <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-25">Array</a>. This
          <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-4">Subclass</a> is indicated by the
          value <code>array</code> assigned to <code>type</code> in
          <code>DataSchema</code> instances.</p><table class="def numbered" id="table-vocabulary-terms-in-arrayschema-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-arrayschema-level">Table <bdi class="tableno">11</bdi></a> <span class="table-title">Vocabulary Terms in ArraySchema Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-27">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-items--ArraySchema"><td><code>items</code></td><td>Used to define the characteristics of an
                array.</td><td>optional</td><td><a href="#dataschema"><code>DataSchema</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-26">Array</a> of <a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-minItems--ArraySchema"><td><code>minItems</code></td><td>Defines the minimum number of items that have
                to be in the array.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt"><code>unsignedInt</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-maxItems--ArraySchema"><td><code>maxItems</code></td><td>Defines the maximum number of items that have
                to be in the array.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt"><code>unsignedInt</code></a></td></tr></tbody></table></section>
<section id="booleanschema"><div class="header-wrapper"><h5 id="x5-3-2-3-booleanschema"><bdi class="secno">5.3.2.3 </bdi><code>BooleanSchema</code></h5><a class="self-link" href="#booleanschema" aria-label="Permalink for Section 5.3.2.3"></a></div><p>Metadata describing data of type <code>boolean</code>.
          This <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-5">Subclass</a> is indicated by the
          value <code>boolean</code> assigned to <code>type</code>
          in <code>DataSchema</code> instances.</p></section>
<section id="numberschema"><div class="header-wrapper"><h5 id="x5-3-2-4-numberschema"><bdi class="secno">5.3.2.4 </bdi><code>NumberSchema</code></h5><a class="self-link" href="#numberschema" aria-label="Permalink for Section 5.3.2.4"></a></div><p>Metadata describing data of type <code>number</code>.
          This <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-6">Subclass</a> is indicated by the
          value <code>number</code> assigned to <code>type</code>
          in <code>DataSchema</code> instances.</p><table class="def numbered" id="table-vocabulary-terms-in-numberschema-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-numberschema-level">Table <bdi class="tableno">12</bdi></a> <span class="table-title">Vocabulary Terms in NumberSchema Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-28">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-minimum--NumberSchema"><td><code>minimum</code></td><td>Specifies a minimum numeric value, representing an inclusive lower limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-exclusiveMinimum--NumberSchema"><td><code>exclusiveMinimum</code></td><td>Specifies a minimum numeric value, representing an exclusive lower limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-maximum--NumberSchema"><td><code>maximum</code></td><td>Specifies a maximum numeric value, representing an inclusive upper limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-exclusiveMaximum--NumberSchema"><td><code>exclusiveMaximum</code></td><td>Specifies a maximum numeric value, representing an exclusive upper limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-multipleOf--NumberSchema"><td><code>multipleOf</code></td><td>Specifies the multipleOf value number. The value must strictly greater than 0. Only applicable for associated number or integer types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr></tbody></table></section>
<section id="integerschema"><div class="header-wrapper"><h5 id="x5-3-2-5-integerschema"><bdi class="secno">5.3.2.5 </bdi><code>IntegerSchema</code></h5><a class="self-link" href="#integerschema" aria-label="Permalink for Section 5.3.2.5"></a></div><p>Metadata describing data of type <code>integer</code>.
          This <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-7">Subclass</a> is indicated by the
          value <code>integer</code> assigned to <code>type</code>
          in <code>DataSchema</code> instances.</p><table class="def numbered" id="table-vocabulary-terms-in-integerschema-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-integerschema-level">Table <bdi class="tableno">13</bdi></a> <span class="table-title">Vocabulary Terms in IntegerSchema Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-29">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-minimum--IntegerSchema"><td><code>minimum</code></td><td>Specifies a minimum numeric value, representing an inclusive lower limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-exclusiveMinimum--IntegerSchema"><td><code>exclusiveMinimum</code></td><td>Specifies a minimum numeric value, representing an exclusive lower limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-maximum--IntegerSchema"><td><code>maximum</code></td><td>Specifies a maximum numeric value, representing an inclusive upper limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-exclusiveMaximum--IntegerSchema"><td><code>exclusiveMaximum</code></td><td>Specifies a maximum numeric value, representing an exclusive upper limit. Only
                applicable for associated number or integer
                types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-multipleOf--IntegerSchema"><td><code>multipleOf</code></td><td>Specifies the multipleOf value number. The value must strictly greater than 0. Only applicable for associated number or integer types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr></tbody></table></section>
<section id="objectschema"><div class="header-wrapper"><h5 id="x5-3-2-6-objectschema"><bdi class="secno">5.3.2.6 </bdi><code>ObjectSchema</code></h5><a class="self-link" href="#objectschema" aria-label="Permalink for Section 5.3.2.6"></a></div><p>Metadata describing data of type <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-19">Object</a>.
          This <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-8">Subclass</a> is indicated by the
          value <code>object</code> assigned to <code>type</code>
          in <code>DataSchema</code> instances.</p><table class="def numbered" id="table-vocabulary-terms-in-objectschema-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-objectschema-level">Table <bdi class="tableno">14</bdi></a> <span class="table-title">Vocabulary Terms in ObjectSchema Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-30">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-properties--ObjectSchema"><td><code>properties</code></td><td>Data schema nested definitions.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-29">Map</a> of <a href="#dataschema"><code>DataSchema</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-required--ObjectSchema"><td><code>required</code></td><td>Defines which members of the object type are mandatory, i.e. which members are mandatory in the payload that is to be sent (e.g. input of <code>invokeaction</code>, <code>writeproperty</code>) and what members will be definitely delivered in the payload that is being received (e.g. output of <code>invokeaction</code>, <code>readproperty</code>)</td><td>optional</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-27">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>
<section id="stringschema"><div class="header-wrapper"><h5 id="x5-3-2-7-stringschema"><bdi class="secno">5.3.2.7 </bdi><code>StringSchema</code></h5><a class="self-link" href="#stringschema" aria-label="Permalink for Section 5.3.2.7"></a></div><p>Metadata describing data of type <code>string</code>.
          This <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-9">Subclass</a> is indicated by the
          value <code>string</code> assigned to <code>type</code>
          in <code>DataSchema</code> instances.</p><table class="def numbered" id="table-vocabulary-terms-in-stringschema-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-stringschema-level">Table <bdi class="tableno">15</bdi></a> <span class="table-title">Vocabulary Terms in StringSchema Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-31">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-minLength--StringSchema"><td><code>minLength</code></td><td>Specifies the minimum length of a string. Only applicable for associated string types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt"><code>unsignedInt</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-maxLength--StringSchema"><td><code>maxLength</code></td><td>Specifies the maximum length of a string. Only applicable for associated string types.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt"><code>unsignedInt</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-pattern--StringSchema"><td><code>pattern</code></td><td>Provides a regular expression to express constraints of the string value. The regular expression must follow the [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262" title="ECMAScript Language Specification">ECMA-262</a></cite>] dialect.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-contentEncoding--StringSchema"><td><code>contentEncoding</code></td><td>Specifies the encoding used to store the contents, as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2045" title="Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies">RFC2045</a></cite>] (Section 6.1) and [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4648" title="The Base16, Base32, and Base64 Data Encodings">RFC4648</a></cite>].</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>7bit</code>, <code>8bit</code>, <code>binary</code>, <code>quoted-printable</code>, <code>base16</code>, <code>base32</code>, or <code>base64</code>)</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-contentMediaType--StringSchema"><td><code>contentMediaType</code></td><td>Specifies the MIME type of the contents of a string value, as described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>].</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>image/png</code>, or <code>audio/mpeg</code>)</td></tr></tbody></table><div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="6"><span>Note</span></div><p class="">The length of a string (i.e., <code>minLength</code> and
        <code>maxLength</code>) is defined as the number
        of Unicode code points, as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>].
		Note that some <a href="https://www.w3.org/TR/i18n-glossary/#dfn-grapheme" target="_blank">user-perceived characters</a> are composed of more than one Unicode code point. Arbitrary index values might not fall on these grapheme boundaries, so truncation according to <code>maxLength</code> might alter the appearance or meaning of the string.
		</p></div></section>
<section id="nullschema"><div class="header-wrapper"><h5 id="x5-3-2-8-nullschema"><bdi class="secno">5.3.2.8 </bdi><code>NullSchema</code></h5><a class="self-link" href="#nullschema" aria-label="Permalink for Section 5.3.2.8"></a></div><p>Metadata describing data of type <code>null</code>. This subclass is indicated by the value <code>null</code> assigned to <code>type</code> in <code>DataSchema</code> instances. 
    This Subclass describes only one acceptable value, namely <code>null</code>. 
    It is important to note that <code>null</code> does not mean the absence of a value. It is analogous to <code>null</code> in JavaScript, <code>None</code> in Python, <code>null</code> in Java and <code>nil</code> in Ruby programming languages. 
    It can be used as part of a <code>oneOf</code> declaration, where it is used to indicate, that the data can also be <code>null</code>.</p></section>
        
      </section>
    
      <section id="sec-security-vocabulary-definition"><div class="header-wrapper"><h4 id="x5-3-3-security-vocabulary-definitions"><bdi class="secno">5.3.3 </bdi>Security Vocabulary Definitions</h4><a class="self-link" href="#sec-security-vocabulary-definition" aria-label="Permalink for Section 5.3.3"></a></div>
      

      <p>
      This specification provides a selection of well-established security mechanisms
      that are directly built into protocols eligible as <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-2">Protocol Bindings</a> for <abbr title="World Wide Web Consortium">W3C</abbr> WoT
      or are widely in use with those protocols.
      The current set of HTTP security schemes is partly based on 
      <a href="https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.0.1.md#security-scheme-object">OpenAPI 3.0.1</a> (see also [<cite><a class="bibref" data-link-type="biblio" href="#bib-openapi" title="OpenAPI Specification: Version 3.0.1">OPENAPI</a></cite>]). 
      However while the HTTP security schemes, <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-17">Vocabulary</a>, and syntax
      given in this specification share many similarities with OpenAPI, they are not compatible.
      </p>

      <p>
      Generally, security schemes require some form of secure transport to be effective,
      such as TLS or DTLS.  
      Requirements for the use of secure transport are given in 
      Section <a href="#sec-security-consideration" class="sec-ref"><bdi class="secno">10. </bdi>Security Considerations</a>
      in this document and in the Security Considerations
      section of [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture11" title="Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>].
      </p>

      
      <section id="securityscheme"><div class="header-wrapper"><h5 id="x5-3-3-1-securityscheme"><bdi class="secno">5.3.3.1 </bdi><code>SecurityScheme</code></h5><a class="self-link" href="#securityscheme" aria-label="Permalink for Section 5.3.3.1"></a></div><p></p><p>Metadata describing the configuration of a security
          mechanism. <span class="rfc2119-assertion" id="td-security-scheme-name">The value assigned to the name
          <code>scheme</code> <em class="rfc2119">MUST</em> be defined within a 
          <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-32">Vocabulary</a>
          included in the <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-17">Thing Description</a>,
          either in the standard <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-33">Vocabulary</a> defined
          in <a href="#sec-vocabulary-definition" class="sec-ref">§&nbsp;<bdi class="secno">5.</bdi> TD
          Information Model</a> or in a <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-4">TD Context
          Extension</a>.</span>
          </p><p>
          <span class="rfc2119-assertion" id="td-security-no-secrets">For all security schemes,
          any keys, passwords, or other sensitive information directly providing access 
          <em class="rfc2119">MUST NOT</em> be stored in the TD and should instead
          be shared and stored out-of-band via other mechanisms.</span> 
          The purpose of a TD is to describe how to access a Thing if and only if a Consumer 
          already has authorization, and is not meant be used to grant that authorization.
          </p><p>Each security scheme object used in a TD defines a set of requirements to be met before access can be granted.
          We say a security scheme is <em>satisfied</em> when all its requirements are met.
          In some cases requirements from multiple security schemes will have to be met before access can be granted.
          </p><p>
          Security schemes generally may require additional authentication
          parameters, such as a password or key.
          The location of this information is indicated by the
          value associated with the name <code>in</code>, often in combination with the value associated with <code>name</code>.
          The value associated with <code>in</code> can take one of the following values:
          </p>
          <dl>
          <dt><code>header</code>:</dt>
          <dd>The parameter will be given
            in a header provided by the protocol, with the name of the header
            provided by the value of <code>name</code>.</dd>
          <dt><code>query</code>:</dt>
          <dd>The parameter will be appended to the URI as a query parameter, with the name of the 
            query parameter provided by <code>name</code>.</dd>
          <dt><code>body</code>:</dt>
          <dd>The parameter will be provided in the body of the request payload, with the data schema element  
            used provided by <code>name</code>.
            <span class="rfc2119-assertion" id="sec-body-name-json-pointer">When used in the context of a 
            <code>body</code> security information location, the value of <code>name</code> 
            <em class="rfc2119">MUST</em> be in the form of a JSON pointer [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>] relative to 
            the root of the input <code>DataSchema</code> for each interaction it is used with.</span> 
            Since this value is not a fragment identifier, and is not relative to the root of the TD but
            to whichever data schemas the security scheme is bound to, this value should not start with <code>#</code>;
            it is a "pure" JSON pointer.
            Since this value is not a fragment identifier, it also does not
            need to URL-encode special characters.
            The targeted element may or may not already exist at the specified location in the referenced object or array schema (consequently the mechanism is not applicable to simple types).
            If it does not, it will be inserted. This avoids having to duplicate definitions in the data schemas of
            every interaction.
            <span class="rfc2119-assertion" id="sec-body-name-json-pointer-creatable">When an element
            of a data schema indicated by a JSON pointer indicated in a <code>body</code> locator
            does not already exist in the indicated schema, it <em class="rfc2119">MUST</em>
            be possible to insert the indicated element
            at the location indicated by the pointer.</span>
            <span class="rfc2119-assertion" id="sec-body-name-json-pointer-array">The JSON pointer
            used in the <code>body</code> locator <em class="rfc2119">MAY</em>
            use the "<code>-</code>" character to indicate a non-existent array element when 
            it is necessary to insert an element after the last element of an existing array.
            </span>
            <span class="rfc2119-assertion" id="sec-body-name-json-pointer-type">The element referenced
            (or created) by a 
            <code>body</code> security information location
            <em class="rfc2119">MUST</em> be required and of type "<code>string</code>".</span> 
            If <code>name</code> is not given, it is assumed the entire body
            is to be used as the security parameter.
          </dd>
          <dt><code>cookie</code>:</dt>
          <dd>The parameter is stored in a cookie identified by the value of   
            <code>name</code>.
          </dd>
          <dt><code>uri</code>:</dt>
          <dd>The parameter is embedded in the URI itself, which is encoded in the
          relevant interaction using a URI template variable defined by the value of <code>name</code>.
          This is more general than the <code>query</code> mechanism but more complex. 
          <span class="rfc2119-assertion" id="td-security-in-query-over-uri">The value <code>uri</code> 
          <em class="rfc2119">SHOULD</em> be specified 
          for the name <code>in</code> in a security scheme only if
          <code>query</code> is not applicable.</span>  
          <span class="rfc2119-assertion" id="td-security-in-uri-variable">The URIs provided
          in interactions where a security scheme using <code>uri</code> as the value for <code>in</code>
          <em class="rfc2119">MUST</em> be a URI template including the defined variable.
          </span>  
          </dd>
          <dt><code>auto</code>:</dt>
          <dd>The location is determined as part of the protocol, or negotiated. 
          <span class="rfc2119-assertion" id="sec-security-vocab-auto-in-no-name">If a value of <code>auto</code> 
          is set for the <code>in</code> field of a <code>SecurityScheme</code>, 
          then the <code>name</code> field <em class="rfc2119">SHOULD NOT</em> be set.</span> 
          In this case, the application of the <code>SecurityScheme</code> is subject to 
          the respective specification for the given protocol (e.g. [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8288" title="Web Linking">RFC8288</a></cite>] when using the 
          <code>BasicSecurityScheme</code> with HTTP).
          </dd>
          </dl>
          <p>
          If multiple parameters are needed for a security scheme, repeat the security scheme definition for
          each parameter and combine them using a <code>combo</code> security scheme and <code>allOf</code>.
          In some cases parameters may not actually be secret but a user may wish to leave them
          out of the TD to help protect privacy.  As an example of this, some security mechanisms
          require both a client identifier and a secret key.  In theory, the client identifier is 
          public however it may be hard to update and pose a tracking risk.  In such a case it can
          be provided as an additional security parameter so it does not appear in the TD.
          </p><p>
          <span class="rfc2119-assertion" id="td-security-uri-variables-distinct">The names of URI variables 
          declared in a <code>SecurityScheme</code> 
          <em class="rfc2119">MUST</em> be distinct from all other URI variables 
          declared in the TD.</span></p><p></p><table class="def numbered" id="table-vocabulary-terms-in-securityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-securityscheme-level">Table <bdi class="tableno">16</bdi></a> <span class="table-title">Vocabulary Terms in SecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-34">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-at-type--SecurityScheme"><td><code>@type</code></td><td>JSON-LD keyword to label the object with <a href="#dfn-semantic-tag" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-semantic-tag-4">semantic tags</a> (or types).</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-28">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-description--SecurityScheme"><td><code>description</code></td><td>Provides additional (human-readable)
                      information based on a default language.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-descriptions--SecurityScheme"><td><code>descriptions</code></td><td>Can be used to support (human-readable)
                       information in different languages. Also see <cite><a href="#multilanguage">MultiLanguage</a></cite>.</td><td>optional</td><td><a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-30">Map</a> of <a href="#multilanguage"><code>MultiLanguage</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-proxy--SecurityScheme"><td><code>proxy</code></td><td>URI of the proxy server this security
                configuration provides access to. If not given, the
                corresponding security configuration is for the
                endpoint.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scheme--SecurityScheme"><td><code>scheme</code></td><td>Identification of the security mechanism being
                configured.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>nosec</code>, <code>combo</code>, <code>basic</code>, <code>digest</code>, <code>bearer</code>, <code>psk</code>, <code>oauth2</code>, <code>apikey</code>, or <code>auto</code>)</td></tr></tbody></table><p>The class <code>SecurityScheme</code> has the following subclasses:</p><ul><li><a href="#nosecurityscheme"><code>NoSecurityScheme</code></a></li>
<li><a href="#autosecurityscheme"><code>AutoSecurityScheme</code></a></li>
<li><a href="#combosecurityscheme"><code>ComboSecurityScheme</code></a></li>
<li><a href="#basicsecurityscheme"><code>BasicSecurityScheme</code></a></li>
<li><a href="#digestsecurityscheme"><code>DigestSecurityScheme</code></a></li>
<li><a href="#apikeysecurityscheme"><code>APIKeySecurityScheme</code></a></li>
<li><a href="#bearersecurityscheme"><code>BearerSecurityScheme</code></a></li>
<li><a href="#psksecurityscheme"><code>PSKSecurityScheme</code></a></li>
<li><a href="#oauth2securityscheme"><code>OAuth2SecurityScheme</code></a></li></ul></section>
<section id="nosecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-2-nosecurityscheme"><bdi class="secno">5.3.3.2 </bdi><code>NoSecurityScheme</code></h5><a class="self-link" href="#nosecurityscheme" aria-label="Permalink for Section 5.3.3.2"></a></div><p>A security configuration corresponding to identified
          by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-35">Vocabulary Term</a>
          <code>nosec</code> (i.e., <code>"scheme":
          "nosec"</code>), indicating there is no authentication or
          other mechanism required to access the resource.</p></section>
<section id="autosecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-3-autosecurityscheme"><bdi class="secno">5.3.3.3 </bdi><code>AutoSecurityScheme</code></h5><a class="self-link" href="#autosecurityscheme" aria-label="Permalink for Section 5.3.3.3"></a></div><p>An automatic authentication security configuration identified by the term <code>auto</code> (i.e., <code>"scheme": "auto"</code>). This scheme indicates that the security parameters are going to be negotiated by the underlying protocols at runtime, subject to the respective specifications for the protocol (e.g. [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8288" title="Web Linking">RFC8288</a></cite>] for Basic Authentication when using HTTP).</p></section>
<section id="combosecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-4-combosecurityscheme"><bdi class="secno">5.3.3.4 </bdi><code>ComboSecurityScheme</code></h5><a class="self-link" href="#combosecurityscheme" aria-label="Permalink for Section 5.3.3.4"></a></div><p>A combination of other security schemes identified by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-36">Vocabulary Term</a> <code>combo</code> (i.e., <code>"scheme": "combo"</code>).  Elements of this scheme define various ways in which other named schemes defined in <code>securityDefinitions</code>, including other <a href="#combosecurityscheme"><code>ComboSecurityScheme</code></a> definitions, are to be combined to create a new scheme definition.  <span class="rfc2119-assertion" id="td-security-combo-exclusive-oneof-or-allof">Exactly one of either <code>oneOf</code> or <code>allOf</code> <i>vocabulary terms</i> <em class="rfc2119">MUST</em> be included.</span>  Only security scheme definitions which can be used together can be combined with <code>allOf</code>.  For example, it is not possible in general to combine different OAuth 2.0 flows together using <code>allOf</code> unless one applies to a proxy and one to the endpoint.  Note that when multiple named security scheme definitions are listed in a <code>security</code> field the same semantics apply as in an <code>allOf</code> combination (and the same limitations on allowable combinations).  The <code>oneOf</code> combination is equivalent to using different security schemes on forms that are otherwise identical.  In this sense a <code>oneOf</code> scheme is not an essential feature but it does avoid redundancy in such cases.</p><table class="def numbered" id="table-vocabulary-terms-in-combosecurityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-combosecurityscheme-level">Table <bdi class="tableno">17</bdi></a> <span class="table-title">Vocabulary Terms in ComboSecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-37">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-oneOf--ComboSecurityScheme"><td><code>oneOf</code></td><td>Array of two or more strings identifying other named security scheme definitions, any one of which, when satisfied, will allow access.  Only one may be chosen for use.</td><td>mandatory</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-29">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-allOf--ComboSecurityScheme"><td><code>allOf</code></td><td>Array of two or more strings identifying other named security scheme definitions, all of which must be satisfied for access.</td><td>mandatory</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-30">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>
<section id="basicsecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-5-basicsecurityscheme"><bdi class="secno">5.3.3.5 </bdi><code>BasicSecurityScheme</code></h5><a class="self-link" href="#basicsecurityscheme" aria-label="Permalink for Section 5.3.3.5"></a></div><p>Basic Authentication [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7617" title="The 'Basic' HTTP Authentication Scheme">RFC7617</a></cite>]
          security configuration identified by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-38">Vocabulary Term</a> <code>basic</code> (i.e.,
          <code>"scheme": "basic"</code>), using an unencrypted
          username and password.</p><table class="def numbered" id="table-vocabulary-terms-in-basicsecurityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-basicsecurityscheme-level">Table <bdi class="tableno">18</bdi></a> <span class="table-title">Vocabulary Terms in BasicSecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-39">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-name--BasicSecurityScheme"><td><code>name</code></td><td>Name for query, header, cookie, or uri
               parameters.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in--BasicSecurityScheme"><td><code>in</code></td><td>Specifies the location of security
            authentication information.  </td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>header</code>, <code>query</code>, <code>body</code>, <code>cookie</code>, or <code>auto</code>)</td></tr></tbody></table></section>
<section id="digestsecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-6-digestsecurityscheme"><bdi class="secno">5.3.3.6 </bdi><code>DigestSecurityScheme</code></h5><a class="self-link" href="#digestsecurityscheme" aria-label="Permalink for Section 5.3.3.6"></a></div><p>Digest Access Authentication [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7616" title="HTTP Digest Access Authentication">RFC7616</a></cite>]
          security configuration identified by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-40">Vocabulary Term</a> <code>digest</code> (i.e.,
          <code>"scheme": "digest"</code>). This scheme is similar
          to basic authentication but with added features to avoid
          man-in-the-middle attacks.</p><table class="def numbered" id="table-vocabulary-terms-in-digestsecurityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-digestsecurityscheme-level">Table <bdi class="tableno">19</bdi></a> <span class="table-title">Vocabulary Terms in DigestSecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-41">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-name--DigestSecurityScheme"><td><code>name</code></td><td>Name for query, header, cookie, or uri
               parameters.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in--DigestSecurityScheme"><td><code>in</code></td><td>Specifies the location of security
            authentication information.  </td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>header</code>, <code>query</code>, <code>body</code>, <code>cookie</code>, or <code>auto</code>)</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-qop--DigestSecurityScheme"><td><code>qop</code></td><td>Quality of protection.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>auth</code>, or <code>auth-int</code>)</td></tr></tbody></table></section>
<section id="apikeysecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-7-apikeysecurityscheme"><bdi class="secno">5.3.3.7 </bdi><code>APIKeySecurityScheme</code></h5><a class="self-link" href="#apikeysecurityscheme" aria-label="Permalink for Section 5.3.3.7"></a></div><p>API key authentication security configuration
          identified by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-42">Vocabulary Term</a>
          <code>apikey</code> (i.e., <code>"scheme":
          "apikey"</code>). 
          This scheme is to be used when the access token is opaque,
          for example when a key in an unknown or proprietary format is provided by a cloud service provider.
          In this case the key may not be using a standard token format.
          This scheme indicates that the key provided by the service provider 
          needs to be supplied as part 
          of service requests using the mechanism indicated by the <code>"in"</code> field.</p><table class="def numbered" id="table-vocabulary-terms-in-apikeysecurityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-apikeysecurityscheme-level">Table <bdi class="tableno">20</bdi></a> <span class="table-title">Vocabulary Terms in APIKeySecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-43">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-name--APIKeySecurityScheme"><td><code>name</code></td><td>Name for query, header, cookie, or uri
               parameters.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in--APIKeySecurityScheme"><td><code>in</code></td><td>Specifies the location of security
            authentication information.  </td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>header</code>, <code>query</code>, <code>body</code>, <code>cookie</code>, <code>uri</code>, or <code>auto</code>)</td></tr></tbody></table></section>
<section id="bearersecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-8-bearersecurityscheme"><bdi class="secno">5.3.3.8 </bdi><code>BearerSecurityScheme</code></h5><a class="self-link" href="#bearersecurityscheme" aria-label="Permalink for Section 5.3.3.8"></a></div><p>Bearer Token [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6750" title="The OAuth 2.0 Authorization Framework: Bearer Token Usage">RFC6750</a></cite>]
          security configuration identified by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-44">Vocabulary Term</a> <code>bearer</code> (i.e.,
          <code>"scheme": "bearer"</code>) for situations where
          bearer tokens are used independently of OAuth2. If the
          <code>oauth2</code> scheme is specified it is not
          generally necessary to specify this scheme as well as it
          is implied. For <code>format</code>, the value
          <code>jwt</code> indicates conformance with
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>],
          <code>jws</code> indicates conformance with
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7797" title="JSON Web Signature (JWS) Unencoded Payload Option">RFC7797</a></cite>],
          <code>cwt</code> indicates conformance with
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8392" title="CBOR Web Token (CWT)">RFC8392</a></cite>], and
          <code>jwe</code> indicates conformance with
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7516" title="JSON Web Encryption (JWE)">RFC7516</a></cite>], with
          values for <code>alg</code> interpreted consistently with
          those standards. <span class="rfc2119-assertion" id="td-security-bearer-format-extensions">Other formats and
          algorithms for bearer tokens <em class="rfc2119">MAY</em> be specified in vocabulary
          extensions</span>.</p><table class="def numbered" id="table-vocabulary-terms-in-bearersecurityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-bearersecurityscheme-level">Table <bdi class="tableno">21</bdi></a> <span class="table-title">Vocabulary Terms in BearerSecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-45">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-authorization--BearerSecurityScheme"><td><code>authorization</code></td><td>URI of the authorization server.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-name--BearerSecurityScheme"><td><code>name</code></td><td>Name for query, header, cookie, or uri
               parameters.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-alg--BearerSecurityScheme"><td><code>alg</code></td><td>Encoding, encryption, or digest algorithm.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>ES256</code>, or <code>ES512-256</code>)</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-format--BearerSecurityScheme"><td><code>format</code></td><td>Specifies format of security authentication
                 information.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>jwt</code>, <code>cwt</code>, <code>jwe</code>, or <code>jws</code>)</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in--BearerSecurityScheme"><td><code>in</code></td><td>Specifies the location of security
            authentication information.  </td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>header</code>, <code>query</code>, <code>body</code>, <code>cookie</code>, or <code>auto</code>)</td></tr></tbody></table></section>
<section id="psksecurityscheme"><div class="header-wrapper"><h5 id="x5-3-3-9-psksecurityscheme"><bdi class="secno">5.3.3.9 </bdi><code>PSKSecurityScheme</code></h5><a class="self-link" href="#psksecurityscheme" aria-label="Permalink for Section 5.3.3.9"></a></div><p>Pre-shared key authentication security configuration
          identified by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-46">Vocabulary Term</a>
          <code>psk</code> (i.e., <code>"scheme":
          "psk"</code>).
          This is meant to identify that a standard is used for pre-shared keys such as TLS-PSK [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4279" title="Pre-Shared Key Ciphersuites for Transport Layer Security (TLS)">RFC4279</a></cite>], 
          and that the ciphersuite used for keys will be established during protocol negotiation.</p><table class="def numbered" id="table-vocabulary-terms-in-psksecurityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-psksecurityscheme-level">Table <bdi class="tableno">22</bdi></a> <span class="table-title">Vocabulary Terms in PSKSecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-47">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-identity--PSKSecurityScheme"><td><code>identity</code></td><td>Identifier providing information which can be
                   used for selection or confirmation.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>
<section id="oauth2securityscheme"><div class="header-wrapper"><h5 id="x5-3-3-10-oauth2securityscheme"><bdi class="secno">5.3.3.10 </bdi><code>OAuth2SecurityScheme</code></h5><a class="self-link" href="#oauth2securityscheme" aria-label="Permalink for Section 5.3.3.10"></a></div><p>OAuth 2.0 authentication security configuration
            for systems conformant with [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6749" title="The OAuth 2.0 Authorization Framework">RFC6749</a></cite>] and [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8252" title="OAuth 2.0 for Native Apps">RFC8252</a></cite>],  identified
            by the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-48">Vocabulary Term</a> <code>oauth2</code> (i.e.,
            <code>"scheme": "oauth2"</code>).</p><table class="def numbered" id="table-vocabulary-terms-in-oauth2securityscheme-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-oauth2securityscheme-level">Table <bdi class="tableno">23</bdi></a> <span class="table-title">Vocabulary Terms in OAuth2SecurityScheme Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-49">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-authorization--OAuth2SecurityScheme"><td><code>authorization</code></td><td>URI of the authorization server.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-token--OAuth2SecurityScheme"><td><code>token</code></td><td>URI of the token server.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-refresh--OAuth2SecurityScheme"><td><code>refresh</code></td><td>URI of the refresh server.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scopes--OAuth2SecurityScheme"><td><code>scopes</code></td><td>Set of authorization scope identifiers provided
                as an array. These are provided in tokens returned
                by an authorization server and associated with
                forms in order to identify what resources a client
                may access and how. The values associated with a
                form <em class="rfc2119">SHOULD</em> be chosen from those defined in an
                <code>OAuth2SecurityScheme</code> active on that
                form.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-31">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-flow--OAuth2SecurityScheme"><td><code>flow</code></td><td>Authorization flow.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>code</code>, or <code>client</code>)</td></tr></tbody></table><p><span class="rfc2119-assertion" id="td-security-oauth2-code-flow">For
            the <code>code</code> flow both <code>authorization</code> and <code>token</code> <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-50">vocabulary terms</a>
            <em class="rfc2119">MUST</em> be included.</span> <span class="rfc2119-assertion" id="td-security-oauth2-client-flow">For
            the <code>client</code> flow <code>token</code> <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-51">vocabulary term</a> <em class="rfc2119">MUST</em> be included.</span>
            <span class="rfc2119-assertion" id="td-security-oauth2-client-flow-no-auth">For the
            <code>client</code> flow <code>authorization</code> <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-52">vocabulary term</a> <em class="rfc2119">MUST NOT</em> be included.</span>
             The mandatory elements for each flow are summarized in the
            following table:
            </p>
            <table class="def numbered"> <tbody><tr><th>Element</th><th><code>code</code></th><th><code>client</code></th></tr> <tr><td><code>authorization</code></td><td>mandatory</td><td>omit</td></tr> <tr><td><code>token</code></td><td>mandatory</td><td>mandatory</td></tr> <tr><td><code>refresh</code></td><td>optional</td><td>optional</td></tr> </tbody></table>
            </section>
      
      </section>

      <section id="sec-hypermedia-vocabulary-definition"><div class="header-wrapper"><h4 id="x5-3-4-hypermedia-controls-vocabulary-definitions"><bdi class="secno">5.3.4 </bdi>Hypermedia Controls Vocabulary Definitions</h4><a class="self-link" href="#sec-hypermedia-vocabulary-definition" aria-label="Permalink for Section 5.3.4"></a></div>
      

      <p>
        The present model provides a representation for (typed) Web links and Web forms exposed by
        a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-21">Thing</a>. The <code>Link</code> class definition reflects a very common subset of the terms defined in
        Web Linking [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8288" title="Web Linking">RFC8288</a></cite>]. The defined terms can be used, e.g., to describe the relation to another <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-22">Thing</a> such
        as a <i>Lamp Thing</i> is controlled by a <i>Switch Thing</i>. The <code>Form</code> class corresponds to a newly
        introduced form of hypermedia control to manipulate the state of <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-23">Things</a> (and other Web resources).
      </p>

      
      <section id="link"><div class="header-wrapper"><h5 id="x5-3-4-1-link"><bdi class="secno">5.3.4.1 </bdi><code>Link</code></h5><a class="self-link" href="#link" aria-label="Permalink for Section 5.3.4.1"></a></div><p>A link can be viewed as a statement of the form
          "<b><em>link context</em></b> has a <b><em>relation
          type</em></b> resource at <b><em>link target</em></b>",
          where the optional <b><em>target attributes</em></b> may
          further describe the resource.</p><table class="def numbered" id="table-vocabulary-terms-in-link-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-link-level">Table <bdi class="tableno">24</bdi></a> <span class="table-title">Vocabulary Terms in Link Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-53">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-href--Link"><td><code>href</code></td><td>Target IRI of a link or submission target of a
                form.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-type--Link"><td><code>type</code></td><td>Target attribute providing a hint indicating
                what the media type [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>]
                of the result of dereferencing the link should
                be.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-rel--Link"><td><code>rel</code></td><td>A link relation type identifies the semantics
                of a link.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-anchor--Link"><td><code>anchor</code></td><td>Overrides the link context (by default the
                Thing itself identified by its <code>id</code>)
                with the given URI or IRI.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-sizes--Link"><td><code>sizes</code></td><td>Target attribute that specifies one or more sizes for the referenced icon. 
                    Only applicable for relation type "icon". The value pattern follows 
                    {Height}x{Width} (e.g., "16x16", "16x16 32x32").</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-hreflang--Link"><td><code>hreflang</code></td><td>The hreflang attribute specifies the language of a linked document. The value of this must be a valid language tag [<cite><a class="bibref" data-link-type="biblio" href="#bib-bcp47" title="Tags for Identifying Languages">BCP47</a></cite>].</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-32">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table><div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="6"><span>Note</span><span class="issue-label">: hreflang type</span></div><p class="">
        The <code>hreflang</code> attribute is allowed to be a <code>string</code> or <code>array</code> in this version of the spec. Depending on the result of [<cite><a class="bibref" data-link-type="biblio" href="#bib-linkset-media-types" title="Linkset: Media Types and a Link Relation Type for Link Sets">LINKSET-MEDIA-TYPES</a></cite>] the values of <code>hrefLang</code> can be restricted to <code>array</code> only.
	</p></div>
     <p>Link relations can be used to describe relations such as to other Things (e.g., a Switch Thing controls a Lamp Thing), to a specific kind of Thing Models (e.g., a Thing Description
    is an instance of a specific Thing Model), or to further documentations information (e.g., device manual of a Thing). It is recommended to reuse existing and established 
    <a href="https://www.iana.org/assignments/link-relations">Link Relation definitions from IANA.</a>
    </p>
        <p>In the following a best practice relation type table is introduced that is recommended to use within WoT <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-18">Thing Description</a>
    or <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-8">Thing Model</a> instances.      
    </p>
    <table class="def numbered" id="table-best-practice-relation-type-table">
        <caption><a class="self-link" href="#table-best-practice-relation-type-table">Table <bdi class="tableno">25</bdi></a> <span class="table-title">Best practice relation type table</span></caption>
        <thead>
            <tr>
                <th>Value</th>                
                <th>Occurrence</th>
                <th>Explanation</th>
                <th>Source of value origin</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <code>icon</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Imports an icon associated to the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-24">Thing</a> (e.g., for UI purposes).</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>service-doc</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Relation to a resource that provide (human-readable) documentation or descriptions.</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>alternate</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Point to alternative representation of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-25">Thing</a> (i.e. RDF-Turtle, human-readable HTML document, ...).</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>type</code>
                </td>
                <td>
                    0..1
                </td>
                <td>Indicate that the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-26">Thing</a> is an instance of the target resource such as to a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-9">Thing Model</a>.</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>tm:extends</code>
                </td>
                <td>
                    0..1
                </td>
                <td>Extends an existing definition of the target resource such as a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-10">Thing Model</a>. Only applicable for Thing Model definitions.</td>
                <td>
                    <abbr title="World Wide Web Consortium">W3C</abbr> WoT Thing Model
                </td>
            </tr>
            <tr>
                <td>
                    <code>tm:submodel</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Used to compose one or multiple <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-11">Thing Models</a>. Only applicable for Thing Model definitions.</td>
                <td>
                    <abbr title="World Wide Web Consortium">W3C</abbr> WoT Thing Model
                </td>
            </tr>                         
            <tr>
                <td>
                    <code>manifest</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Point to the web app manifest of a web application which provides, e.g., a user interface with which a user can interact with the Thing (also see [<cite><a class="bibref" data-link-type="biblio" href="#bib-appmanifest" title="Web Application Manifest">APPMANIFEST</a></cite>]).</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>proxy-to</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Target resource provide the address of a proxy. Additional security metadata can be provided using the <code>proxy</code> field in a <a href="#securityscheme">SecurityScheme</a>.</td>
                <td>
                    <abbr title="World Wide Web Consortium">W3C</abbr> WoT Security and WoT Binding Template
                </td>
            </tr>
            <tr>
                <td>
                    <code>collection</code>
                </td>
                <td>
                    0..1
                </td>
                <td>Points to a collections of <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-27">Things</a>.</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>item</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Points to a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-28">Thing</a> that is member of the current <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-29">Thing</a> collections.</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>predecessor-version</code>
                </td>
                <td>
                    0..1
                </td>
                <td>Points to a previous <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-19">Thing Description</a> or <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-12">Thing Model</a> version.</td>
                <td>
                    <a href="https://www.iana.org/assignments/link-relations">IANA Link Relation</a>
                </td>
            </tr>
            <tr>
                <td>
                    <code>controlledBy</code>
                </td>
                <td>
                    0..*
                </td>
                <td>Refers to a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-30">Thing</a> that controls the context <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-31">Thing</a>.</td>
                <td>
                    <abbr title="World Wide Web Consortium">W3C</abbr> Thing Description
                </td>
            </tr>
        </tbody>
    </table>
    </section>
<section id="form"><div class="header-wrapper"><h5 id="x5-3-4-2-form"><bdi class="secno">5.3.4.2 </bdi><code>Form</code></h5><a class="self-link" href="#form" aria-label="Permalink for Section 5.3.4.2"></a></div><p>A form can be viewed as a statement of "To perform an
          <b><em>operation type</em></b> operation on <b><em>form
          context</em></b>, make a <b><em>request method</em></b>
          request to <b><em>submission target</em></b>" where the
          optional <b><em>form fields</em></b> may further describe
          the required request. In Thing Descriptions, the
          <b><em>form context</em></b> is the surrounding Object,
          such as Properties, Actions, and Events or the Thing
          itself for meta-interactions.</p><table class="def numbered" id="table-vocabulary-terms-in-form-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-form-level">Table <bdi class="tableno">26</bdi></a> <span class="table-title">Vocabulary Terms in Form Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-54">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-href--Form"><td><code>href</code></td><td>Target IRI of a link or submission target of a
                form.</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-contentType--Form"><td><code>contentType</code></td><td>Assign a content type based on a media type
                (e.g., <code>text/plain</code>) and potential
                parameters (e.g., <code>charset=utf-8</code>) for
                the media type [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>].</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-contentCoding--Form"><td><code>contentCoding</code></td><td>Content coding values indicate an encoding
                transformation that has been or can be applied to a
                representation. Content codings are primarily used
                to allow a representation to be compressed or
                otherwise usefully transformed without losing the
                identity of its underlying media type and without
                loss of information. Examples of content coding
                include "gzip", "deflate", etc. .</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-security--Form"><td><code>security</code></td><td>Set of security definition names, chosen from
                those defined in <code>securityDefinitions</code>.
                These must all be satisfied for access to resources.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-33">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scopes--Form"><td><code>scopes</code></td><td>Set of authorization scope identifiers provided
                as an array. These are provided in tokens returned
                by an authorization server and associated with
                forms in order to identify what resources a client
                may access and how. The values associated with a
                form <em class="rfc2119">SHOULD</em> be chosen from those defined in an
                <code>OAuth2SecurityScheme</code> active on that
                form.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-34">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-response--Form"><td><code>response</code></td><td>This optional term can be used if, e.g., the
                output communication metadata differ from input
                metadata (e.g., output contentType differ from the
                input contentType). The response name contains
                metadata that is only valid for the primary response
                messages.</td><td>optional</td><td><a href="#expectedresponse"><code>ExpectedResponse</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-additionalResponses--Form"><td><code>additionalResponses</code></td><td>This optional term can be used if additional expected responses
                are possible, e.g. for error reporting.  Each additional response needs to be 
                distinguished from others in some way (for example, by specifying
                a protocol-specific error code), and may also have its own data schema.</td><td>optional</td><td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-35">Array</a> of <a href="#additionalexpectedresponse"><code>AdditionalExpectedResponse</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-subprotocol--Form"><td><code>subprotocol</code></td><td>Indicates the exact mechanism by which an
                interaction will be accomplished for a given
                protocol when there are multiple options. For
                example, for HTTP and Events, it indicates which of
                several available mechanisms should be used for
                asynchronous notifications such as long polling
                (<code>longpoll</code>), WebSub [<cite><a class="bibref" data-link-type="biblio" href="#bib-websub" title="WebSub">websub</a></cite>]
                (<code>websub</code>), Server-Sent Events
                (<code>sse</code>) [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">html</a></cite>] (also known as
                EventSource). Please note that there is no
                restriction on the subprotocol selection and other
                mechanisms can also be announced by this
                subprotocol term.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (e.g., <code>longpoll</code>, <code>websub</code>, or <code>sse</code>)</td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-op--Form"><td><code>op</code></td><td>Indicates the semantic intention of performing
                the operation(s) described by the form. For
                example, the Property interaction allows get and
                set operations. The protocol binding may contain a
                form for the get operation and a different form for
                the set operation. The op attribute indicates which
                form is for which and allows the client to select
                the correct form for the operation required. op can
                be assigned one or more interaction verb(s) each
                representing a semantic intention of an
                operation.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> or <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-36">Array</a> of <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a> (one of <code>readproperty</code>, <code>writeproperty</code>, <code>observeproperty</code>, <code>unobserveproperty</code>, <code>invokeaction</code>, <code>queryaction</code>, <code>cancelaction</code>, <code>subscribeevent</code>, <code>unsubscribeevent</code>, <code>readallproperties</code>, <code>writeallproperties</code>, <code>readmultipleproperties</code>, <code>writemultipleproperties</code>, <code>observeallproperties</code>, <code>unobserveallproperties</code>, <code>subscribeallevents</code>, <code>unsubscribeallevents</code>, or <code>queryallactions</code>)</td></tr></tbody></table><p>Possible values for the <code>contentCoding</code>
          property can be found, e.g., in the <a href="https://www.iana.org/assignments/http-parameters/http-parameters.xhtml#content-coding">
          IANA HTTP content coding registry</a>.</p>
          <p>The list of possible operation types of a form is
          fixed. As of this version of the specification, it only
          includes the well-known types necessary to implement the
          WoT interaction model described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture11" title="Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>].
          Future versions of the standard may extend this list but
          <span class="rfc2119-assertion" id="well-known-operation-types-only">operations types
          <em class="rfc2119">MUST</em> be restricted to the values in the
          table below.</span></p>

        <div id="table-operation-types">
          <table class="def numbered" id="table-well-known-operation-types">
            <caption><a class="self-link" href="#table-well-known-operation-types">Table <bdi class="tableno">27</bdi></a> <span class="table-title">Well-known operation types</span></caption>
            <thead>
              <tr>
                <th>Operation Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>readproperty</td>
                <td>Identifies the read operation on
                  Property Affordances to retrieve the
                  corresponding data.</td>
              </tr>
              <tr>
                <td>writeproperty</td>
                <td>Identifies the write operation on
                  Property Affordances to update the
                  corresponding data.</td>
              </tr>
              <tr>
                <td>observeproperty</td>
                <td>Identifies the observe operation on
                  Property Affordances to be notified with
                  the new data when the Property is
                  updated.</td>
              </tr>
              <tr>
                <td>unobserveproperty</td>
                <td>Identifies the unobserve
                  operation on Property Affordances to stop
                  the corresponding notifications.</td>
              </tr>
              <tr>
                <td>invokeaction</td>
                <td>Identifies the invoke operation on
                  Action Affordances to perform the
                  corresponding action.</td>
              </tr>
              <tr>
                <td>queryaction</td>
                <td>Identifies the querying operation on
                  Action Affordances to get the status of the
                  corresponding action.</td>
              </tr>
              <tr>
                <td>cancelaction</td>
                <td>Identifies the cancel operation on
                  Action Affordances to cancel the ongoing
                  corresponding action.</td>
              </tr>
              <tr>
                <td>subscribeevent</td>
                <td>Identifies the subscribe operation
                  on Event Affordances to be notified by
                  the Thing when the event occurs.</td>
              </tr>
              <tr>
                <td>unsubscribeevent</td>
                <td>Identifies the unsubscribe
                  operation on Event Affordances to stop
                  the corresponding notifications.</td>
              </tr>
              <tr>
                <td>readallproperties</td>
                <td>Identifies the readallproperties
                  operation on a Thing to retrieve the
                  data of all Properties in a single interaction.</td>
              </tr>
              <tr>
                <td>writeallproperties</td>
                <td>Identifies the writeallproperties
                  operation on a Thing to update the
                  data of all writable Properties in a single interaction.</td>
              </tr>
              <tr>
                <td>readmultipleproperties</td>
                <td>Identifies the readmultipleproperties
                  operation on a Thing to retrieve the
                  data of selected Properties in a single interaction.</td>
              </tr>
              <tr>
                <td>writemultipleproperties</td>
                <td>Identifies the writemultipleproperties
                  operation on a Thing to update the
                  data of selected writable Properties in a single interaction.</td>
              </tr>
              <tr>
                <td>observeallproperties</td>
                <td>Identifies the observeallproperties operation on
                  Properties to be notified with new data when any Property is
                  updated.</td>
              </tr>
              <tr>
                <td>unobserveallproperties</td>
                <td>Identifies the unobserveallproperties operation on
                  Properties to stop notifications from all Properties in a 
                  single interaction.</td>
              </tr>
              <tr>
                <td>queryallactions</td>
                <td>Identifies the queryallactions operation on a Thing to get the status of
                 all Actions in a single interaction.</td>
              </tr>
              <tr>
                <td>subscribeallevents</td>
                <td>Identifies the subscribeallevents operation on Events to subscribe
                  to notifications from all Events in a single interaction.</td>
              </tr>
              <tr>
                <td>unsubscribeallevents</td>
                <td>Identifies the unsubscribeallevents operation on Events to unsubscribe
                  from notifications from all Events in a single interaction.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p>
          A <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-20">Thing Description</a> of a WoT <a href="#dfn-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-producer-3">producer</a> may have multiple forms entries with, e.g., different 
          protocol and/or content types declarations that a <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-6">Consumer</a> could possibly support. In that case 
          the Consumer may choose any form entry that works (e.g., the protocol and content type is supported) for them. 
          When one form is chosen, it is expected that the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-7">Consumer</a> will continue to use it as long as possible 
          for every new interaction with the WoT <a href="#dfn-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-producer-4">producer</a>.
        </p>

        <section id="sec-op-data-schema-mapping" class="informative"><div class="header-wrapper"><h6 id="x5-3-4-2-1-mapping-op-values-to-data-schemas"><bdi class="secno">5.3.4.2.1 </bdi>Mapping op Values to Data Schemas</h6><a class="self-link" href="#sec-op-data-schema-mapping" aria-label="Permalink for Section 5.3.4.2.1"></a></div><p><em>This section is non-normative.</em></p>
        

        <p>
            Protocols that can be used with TDs follow request-response or eventing mechanisms. 
            The Data Schema of an affordance generally correlates with the <code>op</code> keywords used in <code>forms</code>.
            The table below informatively summarizes the available data schema related terms with the <code>op</code> keywords.
        </p>
        <ul>
            <li>Consumer to Thing applies for messages sent by the Consumer to the Thing, such as the value for writing a property.</li>
            <li>Thing to Consumer applies for messages sent by the Thing to the Consumer, such as the value of a property value as the result of reading a property.</li>
            <li>In case that there is no correlation with the data schema and the operation, it implies that no payload is required for executing the operation or no 
            payload is expected as a result of the operation.</li>
        </ul>

        <table class="def numbered" id="table-mapping-op-values-to-data-schemas">
        <caption><a class="self-link" href="#table-mapping-op-values-to-data-schemas">Table <bdi class="tableno">28</bdi></a> <span class="table-title">Mapping op Values to Data Schemas</span></caption>
        <thead>
            <tr>
            <th>Operation Type</th>
            <th>Consumer to Thing DataSchema Correlation</th>
            <th>Thing to Consumer DataSchema Correlation</th>
            </tr>
        </thead>
        <tbody>
            <tr>
            <td>readproperty</td>
            <td>No correlation.</td>
            <td>All fields in the Property Affordance without <code>"writeOnly":true</code>.</td>
            </tr>
            <tr>
            <td>writeproperty</td>
            <td>All fields in the Property Affordance without <code>"readOnly":true</code>.</td>
            <td>No correlation. <code>additionalResponses</code> can be used in the form level.</td>
            </tr>
            <tr>
            <td>observeproperty</td>
            <td>No correlation.</td>
            <td>All fields in the Property Affordance without <code>"writeOnly":true</code>.</td>
            </tr>
            <tr>
            <td>unobserveproperty</td>
            <td>No correlation.</td>
            <td>No correlation.</td>
            </tr>
            <tr>
            <td>invokeaction</td>
            <td>Value of the <code>input</code> key.</td>
            <td>Value of the <code>output</code> key.</td>
            </tr>
            <tr>
            <td>queryaction</td>
            <td>No correlation.</td>
            <td>No correlation. <code>additionalResponses</code> can be used in the form level.</td>
            </tr>
            <tr>
            <td>cancelaction</td>
            <td>No correlation.</td>
            <td>No correlation. <code>additionalResponses</code> can be used in the form level.</td>
            </tr>
            <tr>
            <td>subscribeevent</td>
            <td>Value of the <code>subscription</code> key with all fields without <code>"readOnly":true</code></td>
            <td>Value of the <code>subscription</code> key with all fields without <code>"writeOnly":true</code></td>
            </tr>
            <tr>
            <td>unsubscribeevent</td>
            <td>Value of the <code>subscription</code> key with all fields without <code>"readOnly":true</code></td>
            <td>Value of the <code>subscription</code> key with all fields without <code>"writeOnly":true</code></td>
            </tr>
        </tbody>
        </table>
        <div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="7"><span>Note</span><span class="issue-label">: writeproperty and observeproperty relationship</span></div><p class="">
            Writing to a property does not necessarily mean that a new value will be sent to the Consumer observing the property. 
            It depends on the protocol and implementation.
        </p></div>
        <div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-7" aria-level="7"><span>Note</span><span class="issue-label">: Further Data Schemas mappings</span></div><p class="">
            Further specification of how to map operations to data schemas, as well as mapping meta operations such as <code>readallproperties</code> 
            can be found in the respective protocol specification of the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-binding-templates" title="Web of Things (WoT) Binding Templates">WOT-BINDING-TEMPLATES</a></cite>].
        </p></div>
        </section>

        <section id="sec-response-usage"><div class="header-wrapper"><h6 id="x5-3-4-2-2-response-related-terms-usage"><bdi class="secno">5.3.4.2.2 </bdi>Response-related Terms Usage</h6><a class="self-link" href="#sec-response-usage" aria-label="Permalink for Section 5.3.4.2.2"></a></div>
        

          <p>The optional <code>response</code> name-value pair can
          be used to provide metadata for the expected response
          message. 
          With the core vocabulary, it only includes
          content type information, but TD Context Extensions could
          be applied. <span class="rfc2119-assertion" id="td-expectedResponse-default-contentType">If no
          <code>response</code> name-value pair is provided, it
          <em class="rfc2119">MUST</em> be assumed
          that the content type of the response is equal to the
          content type assigned to the Form instance.</span> Note
          that <code>contentType</code> within an
          <code>ExpectedResponse</code> 
          <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-40">Class</a> does not
          have a <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-7">Default Value</a>. For instance, if
          the value of the content type of the form is
          <code>application/xml</code> the assumed value of the
          content type of the response will be also
          <code>application/xml</code>.</p>
          <p>
          In some cases additional responses might be possible.
          One example of this is error responses but in some cases
          there might also be additional successful responses.
          In this case, the <code>response</code> name-value pair
          is still used for the primary response but 
          <code>additionalResponses</code> may also be provided,
          whose value is an array of <code>AdditionalExpectedResponse</code>
          objects.
          Each additional response must be distinguished in some way from the primary
          response, either by <code>contentType</code> or by
          protocol-specific settings such as error code header values.
          Each additional response may also have a data schema
          which can differ from the normal output data schema for the
          interaction.  
          </p>
          <p>In some use cases, input and output data might be
          represented in a different form, for instance an Action
          that accepts JSON, but returns an image. In such a case,
          the optional <code>response</code> name-value pair can
          describe the content type of the expected response.
          <span class="rfc2119-assertion" id="td-expectedResponse-contentType">If the content type of
          the expected response differs from the content type of
          the form, the <code>Form</code> instance <em class="rfc2119" title="MUST"><em class="rfc2119">MUST</em></em> include a name-value
          pair with the name <code>response</code>.</span> 
          For instance, an <code>ActionAffordance</code> could only
          accept <code>application/json</code> for its input data,
          while it will respond with an <code>image/jpeg</code>
          content type for its output data. In that case the
          content types differ and the <code>response</code>
          name-value pair has to be used to provide response
          content type (<code>image/jpeg</code>) information to the
          <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-8">Consumer</a>.</p>
          <p>
          Similar considerations apply to additional responses,
          although in this case the <code>contentType</code> is optional
          if it is the same as the input content Type (e.g. JSON).
          <span class="rfc2119-assertion" id="td-additionalExpectedResponse-contentType">If the content type of
          an additional expected response differs from the content type of
          the form, the <code>Form</code> instance <em class="rfc2119" title="MUST"><em class="rfc2119">MUST</em></em> include an entry in the array
          associated with the name <code>additionalResponses</code>
          that includes a value for the name <code>contentType</code>.</span> 
          <span class="rfc2119-assertion" id="td-additionalExpectedResponse-schema">If the data schema of
          an additional expected response differs from the output data schema of
          the interaction, the <code>Form</code> instance <em class="rfc2119" title="MUST"><em class="rfc2119">MUST</em></em> include an entry in the array
          associated with the name <code>additionalResponses</code> that
          includes a value for the name <code>schema</code>.</span> 
          </p>
          <p>
            The different cases on the variation of request and response are explained above.
            The tables at <a href="#contentType-usage" class="sec-ref"><bdi class="secno">C. </bdi>contentType usage in Thing Descriptions</a> summarize these cases in a concise manner.
          </p>
          </section>
          </section>
<section id="expectedresponse"><div class="header-wrapper"><h5 id="x5-3-4-3-expectedresponse"><bdi class="secno">5.3.4.3 </bdi><code>ExpectedResponse</code></h5><a class="self-link" href="#expectedresponse" aria-label="Permalink for Section 5.3.4.3"></a></div><p>Communication metadata describing the expected
          response message for the primary response.</p><table class="def numbered" id="table-vocabulary-terms-in-expectedresponse-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-expectedresponse-level">Table <bdi class="tableno">29</bdi></a> <span class="table-title">Vocabulary Terms in ExpectedResponse Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-55">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-contentType--ExpectedResponse"><td><code>contentType</code></td><td>Assign a content type based on a media type
                (e.g., <code>text/plain</code>) and potential
                parameters (e.g., <code>charset=utf-8</code>) for
                the media type [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>].</td><td>mandatory</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>
<section id="additionalexpectedresponse"><div class="header-wrapper"><h5 id="x5-3-4-4-additionalexpectedresponse"><bdi class="secno">5.3.4.4 </bdi><code>AdditionalExpectedResponse</code></h5><a class="self-link" href="#additionalexpectedresponse" aria-label="Permalink for Section 5.3.4.4"></a></div><p>Communication metadata describing the expected
          response message for additional responses.</p><table class="def numbered" id="table-vocabulary-terms-in-additionalexpectedresponse-level"><caption><a class="self-link" href="#table-vocabulary-terms-in-additionalexpectedresponse-level">Table <bdi class="tableno">30</bdi></a> <span class="table-title">Vocabulary Terms in AdditionalExpectedResponse Level</span></caption><thead><tr><th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-56">Vocabulary term</a></th><th>Description</th><th>Assignment</th><th>Type</th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-success--AdditionalExpectedResponse"><td><code>success</code></td><td>Signals if an additional response should not be considered an error.</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-contentType--AdditionalExpectedResponse"><td><code>contentType</code></td><td>Assign a content type based on a media type
                (e.g., <code>text/plain</code>) and potential
                parameters (e.g., <code>charset=utf-8</code>) for
                the media type [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>].</td><td><a href="#sec-default-values">with default</a></td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr>
<tr class="rfc2119-table-assertion" id="td-vocab-schema--AdditionalExpectedResponse"><td><code>schema</code></td><td>Used to define the output data schema 
                for an additional response if it differs from the default
                output data schema. 
                Rather than a <code>DataSchema</code> object, the
                name of a previous definition given in a 
                <code>schemaDefinitions</code> map must be used.</td><td>optional</td><td><a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>


    </section>

   </section>
   <section id="sec-default-values"><div class="header-wrapper"><h3 id="x5-4-default-value-definitions"><bdi class="secno">5.4 </bdi>Default Value Definitions</h3><a class="self-link" href="#sec-default-values" aria-label="Permalink for Section 5.4"></a></div>
      
      <p><span class="rfc2119-assertion" id="td-vocabulary-defaults">When assignments in a TD are
      missing, a <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-9">TD Processor</a> <em class="rfc2119">MUST</em> follow the <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-8">Default Value</a> assignments expressed in the table of
      <a href="#sec-default-values" class="sec-ref">Default Value
      Definitions</a>.</span></p>
      <p>The following table gives all <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-9">Default Values</a>
      defined in the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-17">TD Information Model</a>.</p>
      <table class="def numbered" id="table-default-values-of-vocabulary-terms-that-are-used-when-the-terms-are-not-present-in-a-td">
        <caption><a class="self-link" href="#table-default-values-of-vocabulary-terms-that-are-used-when-the-terms-are-not-present-in-a-td">Table <bdi class="tableno">31</bdi></a> <span class="table-title">Default values of vocabulary terms that are used when the terms are not present in a TD</span></caption>
        <thead>
          <tr>
            <th>
              <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-41">Class</a>
            </th>
            <th>
              <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-57">Vocabulary Term</a>
            </th>
            <th>
              <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-10">Default Value</a>
            </th>
            <th>Comment</th>
          </tr>
        </thead>
        <tbody>
          <tr class="rfc2119-default-assertion" id="td-default-readOnly">
            <td><code>PropertyAffordance</code></td>
            <td><code>readOnly</code></td>
            <td><code>false</code></td>
            <td>The default value for this vocabulary term applies only to the <code>PropertyAffordance</code> level definition. In other contexts, such as <code>DataSchema</code> definitions, the vocabulary term is optional.</td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-writeOnly">
            <td><code>PropertyAffordance</code></td>
            <td><code>writeOnly</code></td>
            <td><code>false</code></td>
            <td>The default value for this vocabulary term applies only to the <code>PropertyAffordance</code> level definition. In other contexts, such as <code>DataSchema</code> definitions, the vocabulary term is optional.</td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-observable">
            <td><code>PropertyAffordance</code></td>
            <td><code>observable</code></td>
            <td><code>false</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-safe">
            <td><code>ActionAffordance</code></td>
            <td><code>safe</code></td>
            <td><code>false</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-idempotent">
            <td><code>ActionAffordance</code></td>
            <td><code>idempotent</code></td>
            <td><code>false</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-success">
            <td><code>AdditionalExpectedResponse</code></td>
            <td><code>success</code></td>
            <td><code>false</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-AdditionalResponseContentType">
            <td><code>AdditionalExpectedResponse</code></td>
            <td><code>contentType</code></td>
            <td>value of the <code>contentType</code> of the <code>Form</code> element it belongs to.</td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-contentType">
            <td><code>Form</code></td>
            <td><code>contentType</code></td>
            <td><code>application/json</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-op-properties">
            <td><code>Form</code></td>
            <td><code>op</code></td>
            <td>
              <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-37">Array</a> of <code>string</code>
              with the elements <code>readproperty</code> and
              <code>writeproperty</code> when <code>readOnly</code> and <code>writeOnly</code> are set to <code>false</code> or
              <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-38">Array</a> of <code>string</code>
              with the element <code>readproperty</code> when <code>readOnly</code> is set to <code>true</code> or
              <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-39">Array</a> of <code>string</code>
              with the element <code>writeproperty</code> when <code>writeOnly</code> is set to <code>true</code>.
              <br>
            </td>
            <td>If defined within an instance of
            <code>PropertyAffordance</code></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-op-actions">
            <td><code>Form</code></td>
            <td><code>op</code></td>
            <td><code>invokeaction</code></td>
            <td>If defined within an instance of
            <code>ActionAffordance</code></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-op-events">
            <td><code>Form</code></td>
            <td><code>op</code></td>
            <td><a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-40">Array</a> of <code>string</code> with the elements <code>subscribeevent</code> and <code>unsubscribeevent</code></td>
            <td>If defined within an instance of
            <code>EventAffordance</code></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-in-basic">
            <td><code>BasicSecurityScheme</code></td>
            <td><code>in</code></td>
            <td><code>header</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-in-digest">
            <td><code>DigestSecurityScheme</code></td>
            <td><code>in</code></td>
            <td><code>header</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-qop">
            <td><code>DigestSecurityScheme</code></td>
            <td><code>qop</code></td>
            <td><code>auth</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-in-apikey">
            <td><code>APIKeySecurityScheme</code></td>
            <td><code>in</code></td>
            <td><code>query</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-in-bearer">
            <td><code>BearerSecurityScheme</code></td>
            <td><code>in</code></td>
            <td><code>header</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-alg">
            <td><code>BearerSecurityScheme</code></td>
            <td><code>alg</code></td>
            <td><code>ES256</code></td>
            <td></td>
          </tr>
          <tr class="rfc2119-default-assertion" id="td-default-format">
            <td><code>BearerSecurityScheme</code></td>
            <td><code>format</code></td>
            <td><code>jwt</code></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </section>
  </section>

  <section id="sec-td-serialization" class="normative"><div class="header-wrapper"><h2 id="x6-td-representation-format"><bdi class="secno">6. </bdi>TD Representation Format</h2><a class="self-link" href="#sec-td-serialization" aria-label="Permalink for Section 6."></a></div>
  

  <p>
    WoT Thing Descriptions represent Things and are modeled and structured based on
  <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a>.
  This section defines a JSON-based representation format for <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-32">Things</a>,
  a serialization of instances of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-42">Class</a> <code>Thing</code> defined by the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-18">TD Information Model</a>.
  </p>

  <p>
    <span class="rfc2119-assertion" id="td-processor-serialization">
        A <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-10">TD Processor</a> <em class="rfc2119">MUST</em> be able to serialize <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-21">Thing Descriptions</a>
        into the JSON format [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>] and/or deserialize <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-22">Thing Descriptions</a>
        from that format, according to the rules noted in
        <a href="#td-basic-types-mapping" class="sec-ref"><bdi class="secno">6.1 </bdi>Mapping to JSON Types</a> and
        <a href="#td-class-serialization" class="sec-ref"><bdi class="secno">6.3 </bdi>Information Model Serialization</a>.
    </span>
  </p>

  <p>
  The JSON serialization of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-19">TD Information Model</a> is aligned with
  the syntax of JSON-LD 1.1 [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>]
  in order to streamline semantic evaluation.
  Hence, the TD representation format can be processed either as raw JSON
  or with a JSON-LD 1.1 processor
  (for details about semantic processing, please refer to 
  <a href="#json-ld-ctx-usage" class="sec-ref"><bdi class="secno">D. </bdi>JSON-LD Context Usage</a> and the documentation under the namespace IRIs, e.g.,
  <a href="https://www.w3.org/2019/wot/td">https://www.w3.org/2019/wot/td</a>).
  </p>

<p>
In order to support interoperable internationalization,
<span class="rfc2119-assertion" id="td-json-open">TDs <em class="rfc2119">MUST</em> be serialized according to the 
requirements defined in Section 8.1 of RFC8259 [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>] for open ecosystems.</span>
In summary, this requires the following:
</p>
<ul>
<li><span class="rfc2119-assertion" id="td-json-open_utf-8">TDs <em class="rfc2119">MUST</em> be encoded using UTF-8 [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3629" title="UTF-8, a transformation format of ISO 10646">RFC3629</a></cite>].</span></li>
<li><span class="rfc2119-assertion" id="td-json-open_no-byte-order">Implementations <em class="rfc2119">MUST NOT</em> 
  add a byte order mark (U+FEFF) to the beginning of a TD document.</span></li>
<li><span class="rfc2119-assertion" id="td-json-open_accept-byte-order"><a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-11">TD Processors</a> <em class="rfc2119">MAY</em> ignore
  the presence of a byte order mark rather than treating it as an error.</span></li>
</ul>


<section id="td-basic-types-mapping"><div class="header-wrapper"><h3 id="x6-1-mapping-to-json-types"><bdi class="secno">6.1 </bdi>Mapping to JSON Types</h3><a class="self-link" href="#td-basic-types-mapping" aria-label="Permalink for Section 6.1"></a></div>


  <p>
    The <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-20">TD Information Model</a> is constructed,
    so that there is an easy mapping between model <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-20">Objects</a> and JSON types.
    Every <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-43">Class</a> instances maps to a JSON object,
    where each name-value pair of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-44">Class</a> instance
    is a member of the JSON object.
  </p>

  <p>
    Every <a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-simple-type-6">Simple Type</a> mentioned in
    <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a> (i.e., <code>string</code>, <code>anyURI</code>,
    <code>dateTime</code>, <code>integer</code>, <code>unsignedInt</code>,
    <code>double</code>, and <code>boolean</code>) maps to a primitive JSON 
    type (string, number, boolean), as per the rules listed below. These
    rules apply to values in name-value pairs:
  </p>
  <ul>
  <li><span class="rfc2119-assertion" id="td-string-type">
        Values that are of type <code>string</code> or
        <code>anyURI</code> <em class="rfc2119">MUST</em> be serialized as JSON strings.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-datetime-type">
        Values that are of type <code>dateTime</code>
        <em class="rfc2119">MUST</em> be serialized as JSON strings  following the "date-time" format
        specified by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3339" title="Date and Time on the Internet: Timestamps">RFC3339</a></cite>].
    </span>
        Examples would include <code>2019-05-24T13:12:45Z</code> and
        <code>2015-07-11T09:32:26+08:00</code>.
    <span class="rfc2119-assertion" id="td-datetime-recommended-type">
        Values that are of type <code>dateTime</code>
        <em class="rfc2119">SHOULD</em> use the literal <code>Z</code> 
        representing the UTC time zone instead 
        of an offset.
    </span>
  </li>
  <li><span class="rfc2119-assertion" id="td-integer-type">
        Values that are of type <code>integer</code> or <code>unsignedInt</code>
        <em class="rfc2119">MUST</em> be serialized as JSON numbers without a fraction or exponent part.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-number-type">
        Values that are of type <code>double</code>
        <em class="rfc2119">MUST</em> be serialized as JSON number.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-boolean-type">
        Values that are of type <code>boolean</code>
        <em class="rfc2119">MUST</em> be serialized as JSON boolean.
  </span></li>
  </ul>
  
  <p>
    Every complex type of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-21">TD Information Model</a> (i.e., <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-41">Arrays</a>, <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-31">Maps</a>, and <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-45">Class</a> instances)
    maps to a structured JSON type (array and object), as per the rules listed below:
  </p>
  <ul>
  <li><span class="rfc2119-assertion" id="td-array-type">
        A value of type <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-42">Array</a> <em class="rfc2119">MUST</em> be serialized as JSON array,
        with each value of the name-value pairs as element of the JSON array
        ordered by the numeric name of the pair.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-map-type">
        A value of type <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-32">Map</a> <em class="rfc2119">MUST</em> be serialized as a JSON object,
        with each name-value pair as member of the JSON object.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-class-type">
        A <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-46">Class</a> instance <em class="rfc2119">MUST</em> be serialized as a JSON object,
        following the detailed rules given individually in <a href="#td-class-serialization" class="sec-ref"><bdi class="secno">6.3 </bdi>Information Model Serialization</a>.
  </span></li>
  </ul>

</section>
  
<section id="omitting-default-values"><div class="header-wrapper"><h3 id="x6-2-omitting-default-values"><bdi class="secno">6.2 </bdi>Omitting Default Values</h3><a class="self-link" href="#omitting-default-values" aria-label="Permalink for Section 6.2"></a></div>


  <p>
  A Thing Description serialization may omit <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-58">Vocabulary Term</a>
  for which <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-11">Default Values</a> are defined,
  as listed in the table given in <a href="#sec-default-values" class="sec-ref"><bdi class="secno">5.4 </bdi>Default Value Definitions</a>.
  </p>

  <p>
  The following example shows the TD instance from
  <a href="#simple-thing-description-sample">Example 1</a>
  with a checkbox to also include the members with <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-12">Default Values</a> (=checkbox checked).
  These members can be omitted (=checkbox unchecked) to simplify the TD serialization.
  Note that a <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-12">TD Processor</a> interprets these omitted members identically
  as if they were explicitly present with a given <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-13">Default Value</a>.
  </p>

  <aside class="example with-default" id="example-4"><div class="marker">
    <a class="self-link" href="#example-4">Example<bdi> 4</bdi></a>
  </div>
    <div class="marker">
      <span class="example-title">TD with Default Values that can be omitted</span>
    </div>
    <div class="with-default-control">
      <input type="checkbox">
      <span><i>with Default Values</i></span>
    </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:014139c9-b267-4db5-9c61-cc2d2bfc217d"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"longpoll"</span>
            }]
        }
    }
}</code></pre>
<pre class="selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:014139c9-b267-4db5-9c61-cc2d2bfc217d"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"writeOnly"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: [
                    <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-string">"writeproperty"</span>
                ],
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"safe"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"idempotent"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">"writeOnly"</span>: <span class="hljs-literal">false</span>
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"longpoll"</span>
            }]
        }
    }
}</code></pre>
  </aside>

    <p>
    Please note that, depending on the <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-3">Protocol Binding</a> used,
    additional protocol-specific <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-59">Vocabulary Terms</a> may apply.
    They may also have associated <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-14">Default Values</a>,
    and hence can also be omitted as explained in this subsection.
    Further information can be found in <a href="#protocol-bindings" class="sec-ref"><bdi class="secno">8.3 </bdi>Protocol Bindings</a>.
    </p>
  </section>

<section id="td-class-serialization"><div class="header-wrapper"><h3 id="x6-3-information-model-serialization"><bdi class="secno">6.3 </bdi>Information Model Serialization</h3><a class="self-link" href="#td-class-serialization" aria-label="Permalink for Section 6.3"></a></div>


<section id="sec-thing-as-a-whole-json"><div class="header-wrapper"><h4 id="x6-3-1-thing-root-object"><bdi class="secno">6.3.1 </bdi>Thing Root Object</h4><a class="self-link" href="#sec-thing-as-a-whole-json" aria-label="Permalink for Section 6.3.1"></a></div>


  <p>
    A Thing Description is a data structure rooted at an <a href="#dfn-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-object-21">Object</a>
    of type <a href="#thing"><code>Thing</code></a>.
    In turn, a JSON serialization of the Thing Description
    is a JSON object, which is the root of a syntax tree constructed
    from the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-22">TD Information Model</a>.
  </p>

  <p><span class="rfc2119-assertion" id="td-context">
  The root element of a <a href="#dfn-td-serialization" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-serialization-2">TD&nbsp;Serialization</a> <em class="rfc2119">MUST</em>&nbsp;be a JSON object that
  includes a member with the name <code>@context</code> and a value of type
  string or array that equals or respectively contains <code>https://www.w3.org/2022/wot/td/v1.1</code>.
  </span></p>
  
  <p>
  In general, this URI is used to identify the
  TD representation format version defined by this specification.
  For JSON-LD processing [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>], this URI specifies the Thing Description context file.
  An <code>@context</code> of type array indicates <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-5">TD Context Extensions</a> (see <a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a> for details).
  </p>

<div class="example" id="example-5">
        <div class="marker">
    <a class="self-link" href="#example-5">Example<bdi> 5</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{  
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

  <p><span class="rfc2119-assertion" id="td-context-toplevel">
    All name-value pairs of an instance of <code>Thing</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-60">Vocabulary Term</a> in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-11">Signature</a> of <code>Thing</code>,
    <em class="rfc2119">MUST</em> be serialized as JSON members of the root object.
  </span></p>

  <p>
    A TD snippet for a serialized root object including all mandatory and optional members is given below:
  </p>

<div class="example" id="thing-serialization-sample">
        <div class="marker">
    <a class="self-link" href="#thing-serialization-sample">Example<bdi> 6</bdi></a><span class="example-title">: Sample of Thing serializations</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"Thing"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:1b37933b-3212-4dad-9c2c-74c6042c3e2b"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-attr">"titles"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Human readable information."</span>,
    <span class="hljs-attr">"descriptions"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"support"</span>: <span class="hljs-string">"mailto:support@example.com"</span>,
    <span class="hljs-attr">"version"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2018-11-14T19:10:23.824Z"</span>,
    <span class="hljs-attr">"modified"</span>: <span class="hljs-string">"2019-06-01T09:12:43.124Z"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"security"</span>: <span class="hljs-comment">/*...*/</span>,
    <span class="hljs-attr">"base"</span>: <span class="hljs-string">"https://servient.example.com/"</span>,
    <span class="hljs-attr">"properties"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"actions"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"events"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"links"</span>: [...],
    <span class="hljs-attr">"forms"</span>: [...]
}</code></pre>
      </div>

  <p><span class="rfc2119-assertion" id="td-objects">
  All values assigned to
  <code>version</code>,
  <code>securityDefinitions</code>,
  <code>descriptions</code>,
  <code>schemaDefinitions</code>,
  <code>uriVariables</code>,
  <code>properties</code>,
  <code>actions</code>, and
  <code>events</code>
  in an instance of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-47">Class</a> <code>Thing</code>
  <em class="rfc2119">MUST</em> be serialized as JSON objects.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-arrays">
  All values assigned to
  <code>links</code>, and
  <code>forms</code>
  in an instance of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-48">Class</a> <code>Thing</code>
  <em class="rfc2119">MUST</em> be serialized as JSON arrays containing JSON objects
  as defined in <a href="#link-serialization-json" class="sec-ref"><bdi class="secno">6.3.8 </bdi><code>links</code></a>
  and <a href="#form-serialization-json" class="sec-ref"><bdi class="secno">6.3.9 </bdi><code>forms</code></a>,&nbsp;respectively.
  </span></p>

  <p>
  <span class="rfc2119-assertion" id="td-security-activation">
  The value assigned to
  <code>security</code>
  in an instance of <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-49">Class</a> <code>Thing</code>
  <em class="rfc2119">MUST</em>&nbsp;be serialized as JSON&nbsp;string or as JSON array whose elements are JSON strings.
  </span>
  </p>

</section> 

<section id="titles-descriptions-serialization-json"><div class="header-wrapper"><h4 id="x6-3-2-human-readable-metadata"><bdi class="secno">6.3.2 </bdi>Human-Readable Metadata</h4><a class="self-link" href="#titles-descriptions-serialization-json" aria-label="Permalink for Section 6.3.2"></a></div>


  <p>
    JSON members named <code>title</code> and <code>description</code> are 
    used within a TD document to provide human-readable metadata.
    They can be used as comments for developers inspecting a TD document
    or as display texts for user interface.
  </p>

  <p>
    As defined in <a href="#thing" class="sec-ref"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></a>, the base text direction used to display human-readable metadata
    can either be estimated using heuristics such as the first-strong rule or inferred from language information.
    In TD documents the default language is defined by a value assigned to <code>@language</code> in the <code>@context</code>,
    and this, along with a script subtag if necessary, can be used to determine a base text direction.
    <span class="rfc2119-assertion" id="td-context-default-language-direction-independence">
      However, when interpreting human-readable text,
      each human-readable string value <em class="rfc2119">MUST</em> be processed independently.
    </span>
    In other words, a <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-13">TD Processor</a> cannot carry forward changes in direction from one string to another,
    or infer direction for one string from another one elsewhere in the TD.
  </p>
  
  <p>
  A TD snippet using <code>title</code> and <code>description</code> is 
  shown below. The default language is set to <code>en</code> through the
  definition of the <code>@language</code> member within a JSON object in the <code>@context</code> array.
  </p>

<div class="example" id="example-7">
        <div class="marker">
    <a class="self-link" href="#example-7">Example<bdi> 7</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        { <span class="hljs-attr">"@language"</span>: <span class="hljs-string">"en"</span> }
    ],
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Human readable information."</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"On/Off"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Status"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>


  <p>
    Strings on the Web [<cite><a class="bibref" data-link-type="biblio" href="#bib-string-meta" title="Strings on the Web: Language and Direction Metadata">STRING-META</a></cite>] recommends the use of metadata to determine the <a class="lint-ignore" data-type="dfn" href="https://www.w3.org/TR/i18n-glossary/#dfn-base-direction">base 
    direction</a> of string values. 
		<span class="rfc2119-assertion" id="td-text-at-direction"> 
			Given that the Thing Description format is based on JSON-LD 1.1 
			[<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>], <code>@direction</code> with the string values <code>"ltr"</code>, 
			<code>"rtl"</code> and null value <code>null</code> <em class="rfc2119">MAY</em> be used inside the <code>@context</code> to 
			indicate the default text direction for the human readable strings in the entire TD document.
		</span>
        <span class="rfc2119-assertion" id="td-text-direction-first-strong"> 
            When metadata such as <code>@direction</code> is not present, TD Consumers <em class="rfc2119">SHOULD</em> use <a class="lint-ignore" data-type="dfn" href="https://www.w3.org/TR/i18n-glossary/#dfn-first-strong-detection">first-strong detection</a> as a fallback. 
        </span>
        <span class="rfc2119-assertion" id="td-text-direction-language-tag">
            For the MultiLanguage <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-33">Map</a>, TD Consumers <em class="rfc2119">MAY</em> infer the <a class="lint-ignore" data-type="dfn" href="https://www.w3.org/TR/i18n-glossary/#dfn-base-direction">base direction</a> from the language tag of the individual strings.
        </span>
		The example below illustrates the use of the <code>@direction</code> term. See [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>] and [<cite><a class="bibref" data-link-type="biblio" href="#bib-string-meta" title="Strings on the Web: Language and Direction Metadata">string-meta</a></cite>] 
		for more detailed information.
    </p>
		<div class="example" id="example-8">
        <div class="marker">
    <a class="self-link" href="#example-8">Example<bdi> 8</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
     <span class="hljs-attr">"@context"</span>: [
         <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
         { 
           <span class="hljs-attr">"@language"</span>: <span class="hljs-string">"ar-EG"</span>,
           <span class="hljs-attr">"@direction"</span>: <span class="hljs-string">"rtl"</span> 
         }
     ],
     <span class="hljs-attr">"title"</span>: <span class="hljs-string">"شيء يخصني يقيس درجة الحرارة"</span>,
     <span class="hljs-attr">"description"</span>: <span class="hljs-string">"شيء يقيس درجة الحرارة و يظهر حالته"</span>,
     <span class="hljs-comment">// ...</span>
     <span class="hljs-attr">"properties"</span>: {
         <span class="hljs-attr">"temp"</span>: {
             <span class="hljs-attr">"title"</span>: <span class="hljs-string">"درجة الحرارة"</span>,
             <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
             <span class="hljs-attr">"forms"</span>: [...]
         },
         <span class="hljs-attr">"status"</span>: {
             <span class="hljs-attr">"title"</span>: <span class="hljs-string">"حالة"</span>,
             <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
             <span class="hljs-comment">// ...</span>
             <span class="hljs-attr">"forms"</span>: [...]
         }
     },
     <span class="hljs-comment">// ...</span>
 }</code></pre>
      </div>
  

  <p>
  The JSON members named <code>titles</code> and <code>descriptions</code> are 
  used within the TD document to provide human-readable metadata
  in multiple languages within a single TD document.
  <span class="rfc2119-assertion" id="td-multi-languages">
    All name-value pairs of a <code>MultiLanguage</code> <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-34">Map</a>
    <em class="rfc2119">MUST</em>&nbsp;be serialized as members of a JSON object,
    where the name is a valid language tag as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-bcp47" title="Tags for Identifying Languages">BCP47</a></cite>] (also see <a href="https://www.w3.org/TR/i18n-glossary/#dfn-valid"><abbr title="World Wide Web Consortium">W3C</abbr> I18N Glossary</a>)
    and the value is a human-readable string in the language indicated by the tag.
  </span>
  See <a href="#multilanguage" class="sec-ref"><bdi class="secno">5.3.1.7 </bdi><code>MultiLanguage</code></a> for details.
  <span class="rfc2119-assertion" id="td-multi-languages-consistent">
    All <code>MultiLanguage</code> object within a TD document
    <em class="rfc2119">SHOULD</em> contain the same set of language members.
  </span>
  </p>

  <p>A TD snippet using <code>titles</code> and <code>descriptions</code> at different levels is given below:</p>
    
<div class="example" id="example-9">
        <div class="marker">
    <a class="self-link" href="#example-9">Example<bdi> 9</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-attr">"titles"</span>: {
        <span class="hljs-attr">"en"</span>: <span class="hljs-string">"MyThing"</span>,
        <span class="hljs-attr">"de"</span>: <span class="hljs-string">"MeinDing"</span>,
        <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"私の物"</span>,
        <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"我的东西"</span>, 
        <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"我的東西"</span>
    },
    <span class="hljs-attr">"descriptions"</span>: {
        <span class="hljs-attr">"en"</span>: <span class="hljs-string">"Human readable information."</span>,
        <span class="hljs-attr">"de"</span>: <span class="hljs-string">"Menschenlesbare Informationen."</span>,
        <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"人間が読むことができる情報"</span>,
        <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"人们可阅读的信息"</span>, 
        <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"人們可閱讀的資訊"</span>
    },
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-attr">"titles"</span>: {
                <span class="hljs-attr">"en"</span>: <span class="hljs-string">"On/Off"</span>,
                <span class="hljs-attr">"de"</span>: <span class="hljs-string">"An/Aus"</span>,
                <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"オンオフ"</span>,
                <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"开关"</span>,
                <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"開關"</span> },
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"titles"</span>: {
                <span class="hljs-attr">"en"</span>: <span class="hljs-string">"Status"</span>,
                <span class="hljs-attr">"de"</span>: <span class="hljs-string">"Zustand"</span>,
                <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"状態"</span>,
                <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"状态"</span>,
                <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"狀態"</span> },
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
    
  <p>
  TD instances may also combine the use of <code>title</code> and <code>description</code>
  with <code>titles</code> and <code>descriptions</code>.
  <span class="rfc2119-assertion" id="td-title-description">
    When <code>title</code> and <code>titles</code> or
    <code>description</code> and <code>descriptions</code>
    are present within the same JSON object,
    the values of <code>title</code> and <code>description</code> <em class="rfc2119">MAY</em> be seen as the default text.
  </span>
  <span class="rfc2119-assertion" id="td-titles-descriptions">
    When <code>title</code> and <code>titles</code> or
    <code>description</code> and <code>descriptions</code>
    are present in a TD document,
    each <code>title</code> and <code>description</code> member
    <em class="rfc2119">SHOULD</em> have a corresponding <code>titles</code> and <code>descriptions</code> member, respectively.
  </span>
  The language of the default text is indicated by the default language,
  which is usually set by the creator of the Thing Description instance.
  </p>
    
<div class="example" id="example-10">
        <div class="marker">
    <a class="self-link" href="#example-10">Example<bdi> 10</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        { <span class="hljs-attr">"@language"</span>: <span class="hljs-string">"de"</span> }
    ],
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MeinDing"</span>,
    <span class="hljs-attr">"titles"</span>: {
        <span class="hljs-attr">"en"</span>: <span class="hljs-string">"MyThing"</span>,
        <span class="hljs-attr">"de"</span>: <span class="hljs-string">"MeinDing"</span>,
        <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"私の物"</span>,
        <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"我的东西"</span>, 
        <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"我的東西"</span>
    },
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Menschenlesbare Informationen."</span>,
    <span class="hljs-attr">"descriptions"</span>: {
        <span class="hljs-attr">"en"</span>: <span class="hljs-string">"Human readable information."</span>,
        <span class="hljs-attr">"de"</span>: <span class="hljs-string">"Menschenlesbare Informationen."</span>,
        <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"人間が読むことができる情報"</span>,
        <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"人们可阅读的信息"</span>, 
        <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"人們可閱讀的資訊"</span>
    },
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"An/Aus"</span>,
            <span class="hljs-attr">"titles"</span>: {
                <span class="hljs-attr">"en"</span>: <span class="hljs-string">"On/Off"</span>,
                <span class="hljs-attr">"de"</span>: <span class="hljs-string">"An/Aus"</span>,
                <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"オンオフ"</span>,
                <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"开关"</span>,
                <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"開關"</span> },
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Zustand"</span>,
            <span class="hljs-attr">"titles"</span>: {
                <span class="hljs-attr">"en"</span>: <span class="hljs-string">"Status"</span>,
                <span class="hljs-attr">"de"</span>: <span class="hljs-string">"Zustand"</span>,
                <span class="hljs-attr">"ja"</span>: <span class="hljs-string">"状態"</span>,
                <span class="hljs-attr">"zh-Hans"</span>: <span class="hljs-string">"状态"</span>,
                <span class="hljs-attr">"zh-Hant"</span>: <span class="hljs-string">"狀態"</span> },
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<p>
  Another possibility to set the default language is through a language negotiation mechanism,
  such as the <code>Accept-Language</code> header field of HTTP.
  <span class="rfc2119-assertion" id="td-ns-multilanguage-content-negotiation">
    In cases where the default language has been negotiated,
    an <code>@language</code> member <em class="rfc2119">MUST</em> be present to indicate the result of the negotiation and the corresponding default language of the returned content.
  </span>
  <span class="rfc2119-assertion" id="td-ns-multilanguage-content-negotiation-no-multi">
    When the default language has been negotiated successfully,
    TD documents <em class="rfc2119">SHOULD</em> include the appropriate matching values for the members <code>title</code> and <code>description</code>
    in preference to <code>MultiLanguage</code> objects in <code>titles</code> and <code>descriptions</code> members.
  </span>
  <span class="rfc2119-assertion" id="td-ns-multilanguage-content-negotiation-optional">
    Note however that Things <em class="rfc2119">MAY</em> choose to not support such dynamically-generated TDs
    nor to support language negotiation (e.g., because of resource constraints).
  </span>
  </p>

  <p>
  There is no guarantee that strings in TDs will be displayed in an HTML rendering context.
  In fact,
  to mitigate the XSS security risk described in <a href="#sec-security-consideration-script-injection" class="sec-ref"><bdi class="secno">10.5 </bdi>Script Injection</a>,
  HTML tags embedded in strings sourced from TDs should be sanitized (and so not interpreted as HTML)
  in applications embedding these strings in web pages or web applications.
  Therefore HTML embedded in strings is not an appropriate mechanism for
  specifying text rendering direction.
  </p>

</section> 

<section id="version-serialization-json"><div class="header-wrapper"><h4 id="x6-3-3-version"><bdi class="secno">6.3.3 </bdi><code>version</code></h4><a class="self-link" href="#version-serialization-json" aria-label="Permalink for Section 6.3.3"></a></div>


  <p><span class="rfc2119-assertion" id="td-version">
    All name-value pairs of an instance of <code>VersionInfo</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-61">Vocabulary Term</a> included in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-12">Signature</a> of <code>VersionInfo</code>,
    <em class="rfc2119">MUST</em> be serialized as JSON members with the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-62">Vocabulary Term</a> as name.
  </span></p>

  
  <p>A TD snippet of a version information object is given below:</p>

<div class="example" id="example-11">
        <div class="marker">
    <a class="self-link" href="#example-11">Example<bdi> 11</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"version"</span>: { <span class="hljs-attr">"instance"</span>: <span class="hljs-string">"1.2.1"</span> },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

  <p>
        The <code>version</code> member is intended as container for additional application- and/or device-specific version information based 
        on <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-6">TD Context Extensions</a>. See <a href="#semantic-annotations" class="sec-ref"><bdi class="secno">7.1 </bdi>Semantic Annotations</a> for details.
  </p>

</section> 

<section id="security-serialization-json"><div class="header-wrapper"><h4 id="x6-3-4-securitydefinitions-and-security"><bdi class="secno">6.3.4 </bdi><code>securityDefinitions</code> and <code>security</code></h4><a class="self-link" href="#security-serialization-json" aria-label="Permalink for Section 6.3.4"></a></div>


  <p>
    In a <code>Thing</code> instance, the value assigned to
    <code>securityDefinitions</code> is a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-35">Map</a> of instances of
    <code>SecurityScheme</code>.
    <span class="rfc2119-assertion" id="td-security">
    All name-value pairs of a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-36">Map</a> of <code>SecurityScheme</code> instances
    <em class="rfc2119">MUST</em>&nbsp;be serialized as members of the JSON object that results from serializing the <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-37">Map</a>;
    the name of a pair <em class="rfc2119">MUST</em>&nbsp;be serialized as a JSON string and the value of the pair, an
    instance of <code>SecurityScheme</code>, <em class="rfc2119">MUST</em> be serialized as a JSON object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-security-schemes">
    All name-value pairs of an instance of one of the <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-10">Subclasses</a> of
    <code>SecurityScheme</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-63">Vocabulary Term</a> included in the
    <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-13">Signature</a> of that <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-11">Subclass</a> or in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-14">Signature</a> of
    <code>SecurityScheme</code>, <em class="rfc2119">MUST</em> be serialized as members of the JSON object
    that results from serializing the <code>SecurityScheme</code> <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-12">Subclass</a>'s
    instance, with the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-64">Vocabulary Term</a> as name.
  </span></p>

  <p>
  The following TD snippet shows a simple security configuration specifying
  basic username/password authentication in the header.
  The value given for <code>in</code> is actually the <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-15">Default Value</a> (<code>header</code>)
  and could be omitted.
  A named security configuration (<code>basic_sc</code>) is given in the <code>securityDefinitions</code> map.
  In this example, that definition is activated by including its JSON name in the
  <code>security</code> member. 
  </p>

<div class="example" id="security-basic-example">
        <div class="marker">
    <a class="self-link" href="#security-basic-example">Example<bdi> 12</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<p>
    Security configuration in the TD is mandatory.
    <span class="rfc2119-assertion" id="td-security-mandatory">
    At least one security definition <em class="rfc2119">MUST</em> be activated through the
    <code>security</code> member at the <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-6">Thing level</a> (i.e., in the TD root object).
    </span>
    This configuration can be seen as the default security mechanism required to interact with the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-33">Thing</a>.
    <span class="rfc2119-assertion" id="td-security-overrides">
    Security definitions <em class="rfc2119">MAY</em> also be activated at the level of the <i>form elements</i> by including a
    <code>security</code> member in form objects,
    which overrides (i.e., completely replace) all definitions activated at the <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-7">Thing level</a>.
    </span>
    </p>
  
    <p>
    The <code>nosec</code> security scheme is provided for the case that 
    no security is needed.
    The minimal security configuration for a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-34">Thing</a> is activation
    of the <code>nosec</code> security scheme 
    at the <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-8">Thing level</a>, as shown in the following example:
    </p>
  
  <div class="example" id="example-13">
        <div class="marker">
    <a class="self-link" href="#example-13">Example<bdi> 13</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:e9ecb6ad-cd4c-481b-96ce-5b4c57ddb844"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Human readable information."</span>,
    <span class="hljs-attr">"support"</span>: <span class="hljs-string">"https://servient.example.com/contact"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: { <span class="hljs-attr">"nosec_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span> }},
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"nosec_sc"</span>,
    <span class="hljs-attr">"properties"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"actions"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"events"</span>: {<span class="hljs-comment">/*...*/</span>},
    <span class="hljs-attr">"links"</span>: [<span class="hljs-comment">/*...*/</span>]
}</code></pre>
      </div> 
  
  <section id="security-multiple"><div class="header-wrapper"><h5 id="x6-3-4-1-multiple-security-definitions"><bdi class="secno">6.3.4.1 </bdi>Multiple Security Definitions</h5><a class="self-link" href="#security-multiple" aria-label="Permalink for Section 6.3.4.1"></a></div>
    

    <p>
    To give a more complex example, 
    suppose we have a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-35">Thing</a> where all <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-9">Interaction Affordances</a>
    require basic authentication except for one, for which
    no authentication is required.
    For the <code>status</code> Property and the <code>toggle</code> Action,
    <code>basic</code> authentication is required and defined at the <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-9">Thing level</a>.
    For the <code>overheating</code> Event, however,
    no authentication is required, and hence the security configuration is
    overridden at the form level.
    </p>
  
  <div class="example" id="example-14">
        <div class="marker">
    <a class="self-link" href="#example-14">Example<bdi> 14</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>},
        <span class="hljs-attr">"nosec_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>}
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class="hljs-attr">"security"</span>: <span class="hljs-string">"nosec_sc"</span>
            }]
        }
    }
}</code></pre>
      </div>

  <p>
  TDs can specify a combination of security schemes as well.
  Below is a TD snippet showing digest authentication
  on a proxy combined with bearer token authentication on the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-36">Thing</a>.
  In the <code>digest</code> scheme, the <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-16">Default Value</a> of <code>in</code>
  (i.e., <code>header</code>) is omitted, but still applies.
  Note that the corresponding private security configuration
  such as username/password and tokens need to be configured in the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-9">Consumer</a>
  to interact successfully.
  When activating multiple security definitions, 
  the <code>security</code> member becomes an array.
  </p>

<div class="example" id="security-digest-example">
        <div class="marker">
    <a class="self-link" href="#security-digest-example">Example<bdi> 15</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"proxy_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"digest"</span>,
            <span class="hljs-attr">"proxy"</span>: <span class="hljs-string">"https://portal.example.com/"</span>
        },
        <span class="hljs-attr">"bearer_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"bearer"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>,
            <span class="hljs-attr">"format"</span>: <span class="hljs-string">"jwt"</span>,
            <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES256"</span>,
            <span class="hljs-attr">"authorization"</span>: <span class="hljs-string">"https://servient.example.com:8443/"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [<span class="hljs-string">"proxy_sc"</span>, <span class="hljs-string">"bearer_sc"</span>],
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
<p>
    <span class="rfc2119-assertion" id="td-security-combo-deprecation">
        However, the use of an array with multiple elements to combine security schemes
        in a <code>security</code> element is now deprecated, instead a <a href="#combosecurityscheme"><code>ComboSecurityScheme</code></a> 
        <em class="rfc2119">SHOULD</em> be used.
    </span>
  In the following example, which is exactly equivalent to the one above, this is demonstrated:
  </p>

<div class="example" id="security-digest-example2">
        <div class="marker">
    <a class="self-link" href="#security-digest-example2">Example<bdi> 16</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"proxy_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"digest"</span>,
            <span class="hljs-attr">"proxy"</span>: <span class="hljs-string">"https://portal.example.com/"</span>
        },
        <span class="hljs-attr">"bearer_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"bearer"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>,
            <span class="hljs-attr">"format"</span>: <span class="hljs-string">"jwt"</span>,
            <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ES256"</span>,
            <span class="hljs-attr">"authorization"</span>: <span class="hljs-string">"https://servient.example.com:8443/"</span>
        },
        <span class="hljs-attr">"combo_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"combo"</span>,
            <span class="hljs-attr">"allOf"</span>: [<span class="hljs-string">"proxy_sc"</span>, <span class="hljs-string">"bearer_sc"</span>]
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"combo_sc"</span>,
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
</section>
<section id="security-security-forms"><div class="header-wrapper"><h5 id="x6-3-4-2-security-in-forms"><bdi class="secno">6.3.4.2 </bdi><code>security</code> in Forms</h5><a class="self-link" href="#security-security-forms" aria-label="Permalink for Section 6.3.4.2"></a></div>
    

  <p>
  Security configurations can also be specified for different forms
  within the same <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-10">Interaction Affordance</a>. This may be required for devices that support
  multiple protocols, for example HTTP and CoAP [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7252" title="The Constrained Application Protocol (CoAP)">RFC7252</a></cite>], which support different
  security mechanisms.  This is also useful when alternative authentication
  mechanisms are allowed.  Here is a TD snippet demonstrating three possible
  ways to activate a Property affordance: via HTTPS with basic authentication,
  with digest authentication, with bearer token authentication.
  In other words, 
  the use of different security configurations within multiple forms
  provides a way to combine security mechanisms in an "OR" fashion.
  In contrast, putting multiple security configurations in the same
  <code>security</code> member combines them in an "AND" fashion, 
  since in that case they would all need to be satisfied to allow activation of the <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-11">Interaction Affordance</a>.
  Note that activating one (default) configuration at the <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-10">Thing level</a> is still mandatory.
  </p>

<div class="example" id="example-17">
        <div class="marker">
    <a class="self-link" href="#example-17">Example<bdi> 17</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span> },
        <span class="hljs-attr">"digest_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"digest"</span> },
        <span class="hljs-attr">"bearer_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"bearer"</span> }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
            }, {
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>,
                <span class="hljs-attr">"security"</span>: <span class="hljs-string">"digest_sc"</span>
            }, {
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>,
                <span class="hljs-attr">"security"</span>: <span class="hljs-string">"bearer_sc"</span>
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
</section>
<section id="security-comboSecurityScheme"><div class="header-wrapper"><h5 id="x6-3-4-3-combosecurityscheme"><bdi class="secno">6.3.4.3 </bdi><code>ComboSecurityScheme</code></h5><a class="self-link" href="#security-comboSecurityScheme" aria-label="Permalink for Section 6.3.4.3"></a></div>
    

  <p>To avoid redundancy in this case, e.g. repeating the details of the <code>form</code>
  elements, a <a href="#combosecurityscheme"><code>ComboSecurityScheme</code></a>
  with <code>oneOf</code> can be used instead.  
  </p>
<div class="example" id="example-18">
        <div class="marker">
    <a class="self-link" href="#example-18">Example<bdi> 18</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span> },
        <span class="hljs-attr">"digest_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"digest"</span> },
        <span class="hljs-attr">"bearer_sc"</span>: { <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"bearer"</span> },
        <span class="hljs-attr">"combo_sc"</span>: { 
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"combo"</span>, 
            <span class="hljs-attr">"oneOf"</span>: [ <span class="hljs-string">"basic_sc"</span>, <span class="hljs-string">"digest_sc"</span>, <span class="hljs-string">"bearer_sc"</span> ] 
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"combo_sc"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
</section>
<section id="security-oauth2"><div class="header-wrapper"><h5 id="x6-3-4-4-oauth-2-0-usage"><bdi class="secno">6.3.4.4 </bdi>OAuth 2.0 usage</h5><a class="self-link" href="#security-oauth2" aria-label="Permalink for Section 6.3.4.4"></a></div>
    
  <p>
  As another more complex example, OAuth 2.0 makes use of scopes. 
  These are identifiers that 
  may appear in tokens and must match with corresponding identifiers in a resource to allow 
  access to that resource (or <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-12">Interaction Affordance</a> in the case of <abbr title="World Wide Web Consortium">W3C</abbr> WoT).
  For example, in the following, the <code>status</code> Property can be
  read by <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-10">Consumers</a> using bearer tokens containing the scope <code>limited</code>,
  but the <code>configure</code> Action can only be invoked
  with a token containing the <code>special</code> scope.
  Scopes are not identical to roles, but are often associated with them;
  for example, perhaps only those in an administrative role are authorized to perform "special" interactions.
  Tokens can have more than one scope and are issued by dedicated web services to users.
  In this example, an administrator could be issued tokens with both the <code>limited</code> and <code>special</code> scopes,
  while ordinary users could be provided with tokens with the <code>limited</code> scope.
  </p>
  
<div class="example" id="example-19">
        <div class="marker">
    <a class="self-link" href="#example-19">Example<bdi> 19</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"oauth2_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"oauth2"</span>,
            <span class="hljs-attr">"flow"</span>: <span class="hljs-string">"client"</span>,
            <span class="hljs-attr">"token"</span>: <span class="hljs-string">"https://example.com/token"</span>,
            <span class="hljs-attr">"scopes"</span>: [<span class="hljs-string">"limited"</span>, <span class="hljs-string">"special"</span>]
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"oauth2_sc"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://scopes.example.com/status"</span>,
                <span class="hljs-attr">"scopes"</span>: [<span class="hljs-string">"limited"</span>]
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"configure"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://scopes.example.com/configure"</span>,
                <span class="hljs-attr">"scopes"</span>: [<span class="hljs-string">"special"</span>]
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

</section>
<section id="security-apikey"><div class="header-wrapper"><h5 id="x6-3-4-5-api-key-usage"><bdi class="secno">6.3.4.5 </bdi>API key usage</h5><a class="self-link" href="#security-apikey" aria-label="Permalink for Section 6.3.4.5"></a></div>
    

<p>A Thing can require an onboarding process that results in the Consumer requiring an API key
    to interact with the Thing. This API key can be included in the request to the Thing in different ways 
    as the API key scheme specifies. Below is an example of how it can be used as a URI template where the API key 
    should be replaced in the URI by the Consumer when sending an HTTPS request.
</p>


<div class="example" id="example-20">
        <div class="marker">
    <a class="self-link" href="#example-20">Example<bdi> 20</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"apikey_key"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"apikey"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"uri"</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"adminKey"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"apikey_key"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/{adminKey}/status"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

  <p>To give another example of the use of
  the <a href="#combosecurityscheme"><code>ComboSecurityScheme</code></a> in addition to the
  use of URI templates example shown above, suppose there is a security scheme
  where a client ID and a "secret" key provided by a cloud service provider must both be
  embedded in the URL.  Technically, only the key is actually secret and must be handled
  out-of-band, and the client ID, which is not secret, could be embedded in the TD.
  However, if the client ID cannot be easily rotated we may want to avoid embedding it in
  the TD to enhance privacy.
  In this case we can combine two instances of 
  <a href="#apikeysecurityscheme"><code>APIKeySecurityScheme</code></a>, both
  using the <code>uri</code> value for the <code>in</code> location specifier, to 
  declare two URI variables.  These can then (in fact, they must) be used in the 
  <code>href</code> in a <code>Form</code> where the security scheme is active.
  An example follows:
  </p>
<div class="example" id="example-21">
        <div class="marker">
    <a class="self-link" href="#example-21">Example<bdi> 21</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"apikey_key"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"apikey"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"uri"</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"secKey"</span>
        },
        <span class="hljs-attr">"apikey_id"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"apikey"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"uri"</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"secClientID"</span>
        },
        <span class="hljs-attr">"apikey_combo"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"combo"</span>,
            <span class="hljs-attr">"allOf"</span>: [<span class="hljs-string">"apikey_key"</span>,<span class="hljs-string">"apikey_id"</span>]
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"apikey_combo"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/{secClientID}/status/{secKey}"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
<p>While not shown in this example, it is legal to declare additional URI template
variables using <code>uriVariables</code> and include them in the same URI template,
although the names cannot conflict with those declared in security schemes.  
Using a specific prefix as in the above example
for URI variables declared in security schemes can make it easier to avoid name conflicts.
</p>
<p> <b>API Key in Body:</b> Security parameters might also be included along with the payload in some
systems.  For example, suppose a system requires every payload to be a JSON
object including a member named <code>auth</code> whose value is an object
containing a member called <code>key</code> containing an access key.
Depending on the interaction, however, other elements of the JSON object might 
vary.  This situation can be dealt with using the <code>body</code> security
information location.
Note that for this location, the <code>name</code> parameter is actually a JSON pointer
evaluated relative to the root of the <code>DataSchema</code> for each interaction
it is bound with, which allows it to be used with payloads that vary in other respects.
As an example, here is a light that has a property to set its brightness and color
and two separate actions to turn it on and off.  Although the JSON payloads
are different for these actions the <code>/auth/key</code> element occurs in the same 
relative location so single JSON pointer can be used.
Note: if the security key occurs in different inconsistent locations, it will be
necessary to use multiple security scheme definitions.
</p><div class="example" id="example-22">
        <div class="marker">
    <a class="self-link" href="#example-22">Example<bdi> 22</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"apikey_body"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"apikey"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"body"</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"/auth/key"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"apikey_body"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"color"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"properties"</span>: {
                <span class="hljs-attr">"brightness"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                    <span class="hljs-comment">// ...</span>
                },
                <span class="hljs-attr">"rgb"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
                    <span class="hljs-comment">// ...</span>
                },
                <span class="hljs-attr">"auth"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                    <span class="hljs-attr">"properties"</span>: {
                        <span class="hljs-attr">"key"</span>: {
                           <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
                        }
                    },
                    <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"key"</span>]
                }
            },
            <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"brightness"</span>, <span class="hljs-string">"rgb"</span>, <span class="hljs-string">"auth"</span>],
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/color"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        }
    },
    <span class="hljs-attr">"action"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"auth"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                    <span class="hljs-attr">"properties"</span>: {
                        <span class="hljs-attr">"key"</span>: {
                           <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
                        }
                    },
                    <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"key"</span>]
                }
            },
            <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"auth"</span>],
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/on"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        },
        <span class="hljs-attr">"off"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"auth"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                    <span class="hljs-attr">"properties"</span>: {
                        <span class="hljs-attr">"key"</span>: {
                           <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
                        }
                    },
                    <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"key"</span>]
                }
            },
            <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"auth"</span>],
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/off"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
However, it is rather annoying and redundant to add the security information
to every data schema.  It is possible to simplify this example by using
the feature that the location referenced by a JSON pointer in a <code>body</code>
location will be automatically inserted if it does not exist.  In this
case the above example can be simplified to the following.  Note that in fact
a data schema will effectively be <em>created</em> for the actions <code>on</code> and
<code>off</code> to hold just the security information.
<div class="example" id="example-23">
        <div class="marker">
    <a class="self-link" href="#example-23">Example<bdi> 23</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"apikey_body"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"apikey"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"body"</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"/auth/key"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"apikey_body"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"color"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"properties"</span>: {
                <span class="hljs-attr">"brightness"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                    <span class="hljs-comment">// ...</span>
                },
                <span class="hljs-attr">"rgb"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
                    <span class="hljs-comment">// ...</span>
                }
            },
            <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"brightness"</span>, <span class="hljs-string">"rgb"</span>],
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/color"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        }
    },
    <span class="hljs-attr">"action"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"auth"</span>],
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/on"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        },
        <span class="hljs-attr">"off"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/off"</span>,
                <span class="hljs-comment">// ...</span>
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

</section>

</section>     

<section id="property-serialization-json"><div class="header-wrapper"><h4 id="x6-3-5-properties"><bdi class="secno">6.3.5 </bdi><code>properties</code></h4><a class="self-link" href="#property-serialization-json" aria-label="Permalink for Section 6.3.5"></a></div>

  
  <p>
  The value assigned to <code>properties</code> in a <code>Thing</code> instance
  is a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-38">Map</a> of instances of <code>PropertyAffordance</code>.
  <span class="rfc2119-assertion" id="td-properties">
    All name-value pairs of a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-39">Map</a> of <code>PropertyAffordance</code> instances
    <em class="rfc2119">MUST</em>&nbsp;be serialized as members of the JSON object that results from serializing the <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-40">Map</a>;
    the name of a pair <em class="rfc2119">MUST</em>&nbsp;be serialized as a JSON string and the value of the pair, an
    instance of <code>PropertyAffordance</code>, <em class="rfc2119">MUST</em> be serialized as a JSON object.
  </span></p>

  <p>
  <span class="rfc2119-assertion" id="td-property-names">
    All name-value pairs of an instance of <code>PropertyAffordance</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-65">Vocabulary Term</a> included in (one of) the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-15">Signatures</a> of
    <code>PropertyAffordance</code>, <code>InteractionAffordance</code>, or <code>DataSchema</code>,
    <em class="rfc2119">MUST</em> be serialized as members of the JSON object that results from
    serializing the <code>PropertyAffordance</code> instance, with the
    <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-66">Vocabulary Term</a> as name.
  </span>
  See <a href="#data-schema-serialization-json" class="sec-ref"><bdi class="secno">6.3.10 </bdi>Data Schemas</a> for
  details on serializing <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a> instances.
  </p>

  <p><span class="rfc2119-assertion" id="td-property-arrays">
    The value assigned to <code>forms</code> in an instance of <code>PropertyAffordance</code>
    <em class="rfc2119">MUST</em> be serialized as a JSON array
    containing one or more JSON object serializations as defined in <a href="#form-serialization-json" class="sec-ref"><bdi class="secno">6.3.9 </bdi><code>forms</code></a>.
  </span></p>

  <p>
  A snippet for two <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-6">Property</a> affordances is given below:
  </p>

<aside class="example" id="property-serialization-sample"><div class="marker">
    <a class="self-link" href="#property-serialization-sample">Example<bdi> 24</bdi></a><span class="example-title">: Sample of Property serializations</span>
  </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"properties"</span>: {
                <span class="hljs-attr">"brightness"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0.0</span>,
                    <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">100.0</span>
                },
                <span class="hljs-attr">"rgb"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
                    <span class="hljs-attr">"items"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                        <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                        <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
                    },
                    <span class="hljs-attr">"minItems"</span>: <span class="hljs-number">3</span>,
                    <span class="hljs-attr">"maxItems"</span>: <span class="hljs-number">3</span>
                }
            },
            <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"brightness"</span>, <span class="hljs-string">"rgb"</span>],
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
</aside>

</section> 

<section id="action-serialization-json"><div class="header-wrapper"><h4 id="x6-3-6-actions"><bdi class="secno">6.3.6 </bdi><code>actions</code></h4><a class="self-link" href="#action-serialization-json" aria-label="Permalink for Section 6.3.6"></a></div>


  <p>
    In a <code>Thing</code> instance, the value assigned to <code>actions</code>
    is a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-41">Map</a> of instances of <code>ActionAffordance</code>.
    <span class="rfc2119-assertion" id="td-actions">
    All name-value pairs of a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-42">Map</a> of <code>ActionAffordance</code> instances
    <em class="rfc2119">MUST</em>&nbsp;be serialized as members of the JSON object that results from serializing the <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-43">Map</a>;
    the name of a pair <em class="rfc2119">MUST</em>&nbsp;be serialized as a JSON string and the value of the pair, an
    instance of <code>ActionAffordance</code>, <em class="rfc2119">MUST</em> be serialized as a JSON object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-action-names">
    All name-value pairs of an instance of <code>ActionAffordance</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-67">Vocabulary Term</a> included in (one of) the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-16">Signatures</a> of
    <code>ActionAffordance</code> or <code>InteractionAffordance</code>,
    <em class="rfc2119">MUST</em> be serialized as members of the JSON object that results from
    serializing the <code>ActionAffordance</code> instance, with the
    <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-68">Vocabulary Term</a> as name.
  </span></p>

  <p>
  <span class="rfc2119-assertion" id="td-action-objects">
    The values assigned to <code>input</code> and <code>output</code> in an instance of
    <code>ActionAffordance</code>
    <em class="rfc2119">MUST</em> be serialized as JSON objects.
  </span>
  They rely on the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-50">Class</a> <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>,
  whose serialization is defined in <a href="#data-schema-serialization-json" class="sec-ref"><bdi class="secno">6.3.10 </bdi>Data Schemas</a>.
  </p>

  <p><span class="rfc2119-assertion" id="td-action-arrays">
    The value assigned to <code>forms</code> in an instance of <code>ActionAffordance</code>
    <em class="rfc2119">MUST</em> be serialized as a JSON array
    containing one or more JSON object serializations as defined in <a href="#form-serialization-json" class="sec-ref"><bdi class="secno">6.3.9 </bdi><code>forms</code></a>.
  </span></p>

  <p>
  A TD snippet of an Action affordance is given below:
  </p>

<aside class="example" id="action-serialization-sample"><div class="marker">
    <a class="self-link" href="#action-serialization-sample">Example<bdi> 25</bdi></a><span class="example-title">: Sample of an Action serialization</span>
  </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"fade"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Fade in/out"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Smooth fade in and out animation."</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-attr">"properties"</span>: {
                    <span class="hljs-attr">"from"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                        <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                        <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">100</span>
                    },
                    <span class="hljs-attr">"to"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                        <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                        <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">100</span>
                    },
                    <span class="hljs-attr">"duration"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>}
                },
                <span class="hljs-attr">"required"</span>: [<span class="hljs-string">"to"</span>,<span class="hljs-string">"duration"</span>]
            },
            <span class="hljs-attr">"output"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>},
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
</aside>
 

</section> 

<section id="event-serialization-json"><div class="header-wrapper"><h4 id="x6-3-7-events"><bdi class="secno">6.3.7 </bdi><code>events</code></h4><a class="self-link" href="#event-serialization-json" aria-label="Permalink for Section 6.3.7"></a></div>


  <p>
    In a <code>Thing</code> instance, the value assigned to <code>events</code>
    is a map of instances of <code>EventAffordance</code>.
    <span class="rfc2119-assertion" id="td-events">
    All name-value pairs of a <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-44">Map</a> of <code>EventAffordance</code> instances
    <em class="rfc2119">MUST</em>&nbsp;be serialized as members of the JSON object that results from serializing the <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-45">Map</a>;
    the name of a pair <em class="rfc2119">MUST</em>&nbsp;be serialized as a JSON string and the value of the pair, an
    instance of <code>EventAffordance</code>, <em class="rfc2119">MUST</em> be serialized as a JSON object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-event-names">
    All name-value pairs of an instance of <code>EventAffordance</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-69">Vocabulary Term</a> included in (one of) the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-17">Signatures</a> of
    <code>EventAffordance</code> or <code>InteractionAffordance</code>,
    <em class="rfc2119">MUST</em> be serialized as members of the JSON object that results from
    serializing the <code>EventAffordance</code> instance, with the
    <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-70">Vocabulary Term</a> as name.
  </span></p>

  <p>
  <span class="rfc2119-assertion" id="td-event-objects">
    The values assigned to <code>subscription</code>,
    <code>data</code>, and <code>cancellation</code>
    in an instance of <code>EventAffordance</code>
    <em class="rfc2119">MUST</em> be serialized as JSON objects.
  </span>
  They rely on the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-51">Class</a> <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>,
  whose serialization is defined in <a href="#data-schema-serialization-json" class="sec-ref"><bdi class="secno">6.3.10 </bdi>Data Schemas</a>.
  </p>

  <p><span class="rfc2119-assertion" id="td-event-arrays">
  The value assigned to <code>forms</code> in an instance of <code>EventAffordance</code>
  <em class="rfc2119">MUST</em> be serialized as a JSON array
  containing one or more JSON object serializations as defined in <a href="#form-serialization-json" class="sec-ref"><bdi class="secno">6.3.9 </bdi><code>forms</code></a>.
  </span></p>

  <p>
  A TD snippet of an Event object is given below:
  </p>

<aside class="example" id="event-serialization-sample"><div class="marker">
    <a class="self-link" href="#event-serialization-sample">Example<bdi> 26</bdi></a><span class="example-title">: Sample of an Event serialization</span>
  </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheated"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
</aside>

<p>
Event affordances have been defined in a flexible manner, 
in order to adopt existing (e.g., WebSub [<cite><a class="bibref" data-link-type="biblio" href="#bib-websub" title="WebSub">websub</a></cite>]) or customer-oriented event mechanisms (e.g., Webhooks).
For this reason, <code>subscription</code> and <code>cancellation</code> can be defined according to the desired mechanism. Please find further details in [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-binding-templates" title="Web of Things (WoT) Binding Templates">WOT-BINDING-TEMPLATES</a></cite>].
Example <a href="#webhook-example-serialization" class="sec-ref"><bdi class="secno">A.3 </bdi>Webhook Event Example</a> illustrates how Events can use <code>subscription</code> and <code>cancellation</code> to describe Webhooks.
</p>

</section> 

<section id="link-serialization-json"><div class="header-wrapper"><h4 id="x6-3-8-links"><bdi class="secno">6.3.8 </bdi><code>links</code></h4><a class="self-link" href="#link-serialization-json" aria-label="Permalink for Section 6.3.8"></a></div>


  <p><span class="rfc2119-assertion" id="td-links">
    All name-value pairs of an instance of <code>Link</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-71">Vocabulary Term</a> included in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-18">Signature</a> of <code>Link</code>,
    <em class="rfc2119">MUST</em> be serialized as members of the JSON object that results from
    serializing the <code>Link</code> instance, with the
    <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-72">Vocabulary Term</a> as name.
  </span></p>


  <p>It is recommended to follow the link relation values as provided in Section <a href="#link" class="sec-ref"><bdi class="secno">5.3.4.1 </bdi><code>Link</code></a>.
 The examples provided below demonstrate the use of different link relation types.</p>


 <p>A reference can be provided that points to a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-37">Thing</a> (e.g., a controller) that controls the underlying
    unit (e.g., a lamp). For this <code>controlledBy</code> can be used:</p>
 

<aside class="example" id="link-serialization-sample"><div class="marker">
    <a class="self-link" href="#link-serialization-sample">Example<bdi> 27</bdi></a><span class="example-title">: Sample of a Link serialization</span>
  </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"links"</span>: [{
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"controlledBy"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://servient.example.com/things/lampController"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/td+json"</span>
    }]
    <span class="hljs-comment">// ...</span>
}</code></pre>
</aside>

<p>To point to a developer documentation of a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-38">Thing</a> the value <code>service-doc</code> can be used:</p>

    <div class="example" id="example-link-to-developer-documentation">
        <div class="marker">
    <a class="self-link" href="#example-link-to-developer-documentation">Example<bdi> 28</bdi></a><span class="example-title">: Link to developer documentation</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
       <span class="hljs-comment">// ...</span>
       <span class="hljs-attr">"links"</span>: [{
           <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"service-doc"</span>,
           <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://example.com/howTo"</span>,
           <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/pdf"</span>,
           <span class="hljs-attr">"hreflang"</span>: <span class="hljs-string">"en"</span>
       }]
       <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

    <p>A superordinate Thing can collect a group of Things and refer to them by using the <code>item</code> value:</p>

    <div class="example" id="example-an-electric-drive-includes-two-motors">
        <div class="marker">
    <a class="self-link" href="#example-an-electric-drive-includes-two-motors">Example<bdi> 29</bdi></a><span class="example-title">: An electric drive includes two motors.</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
       <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Electric Drive"</span>,
       <span class="hljs-comment">// ...</span>
       <span class="hljs-attr">"links"</span>: [{
           <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"item"</span>,
           <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://motor1.example.com"</span>,
           <span class="hljs-attr">"type"</span>: <span class="hljs-string">" application/td+json"</span>
       },
       {
           <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"item"</span>,
           <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://motor2.example.com"</span>,
           <span class="hljs-attr">"type"</span>: <span class="hljs-string">" application/td+json"</span>
       }]
       <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

    <p>A Thing refers to a group in which it is collected with the <code>collection</code> value:</p>

    <div class="example" id="example-an-electric-motor-is-member-of-the-electric-drive-collection">
        <div class="marker">
    <a class="self-link" href="#example-an-electric-motor-is-member-of-the-electric-drive-collection">Example<bdi> 30</bdi></a><span class="example-title">: An electric motor is member of the electric drive collection.</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
       <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Electric Motor 1"</span>,
       <span class="hljs-attr">"base"</span>: <span class="hljs-string">"coaps://motor1.example.com"</span>,
       <span class="hljs-comment">// ...</span>
       <span class="hljs-attr">"links"</span>: [{
           <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"collection"</span>,
           <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://drive.example.com"</span>,
           <span class="hljs-attr">"type"</span>: <span class="hljs-string">" application/td+json"</span>
       }]
       <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

</section> 

<section id="form-serialization-json"><div class="header-wrapper"><h4 id="x6-3-9-forms"><bdi class="secno">6.3.9 </bdi><code>forms</code></h4><a class="self-link" href="#form-serialization-json" aria-label="Permalink for Section 6.3.9"></a></div>


  <p><span class="rfc2119-assertion" id="td-forms">
    All name-value pairs of an instance of <code>Form</code>,
    where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-73">Vocabulary Term</a> included in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-19">Signature</a> of <code>Form</code>,
    <em class="rfc2119">MUST</em> be serialized as members of the JSON object that results from
    serializing the <code>Form</code> instance, with the
    <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-74">Vocabulary Term</a> as name.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-form-protocolbindings">
  If required, form objects
  <em class="rfc2119">MAY</em> be supplemented with protocol-specific <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-75">Vocabulary Terms</a>
  identified with a prefix.
  </span>
  See also <a href="#protocol-bindings" class="sec-ref"><bdi class="secno">8.3 </bdi>Protocol Bindings</a>.
  </p>

  <p>A TD snippet of a form object in the <code>forms</code> array is given below:</p>

<aside class="example" id="form-serialization-sample"><div class="marker">
    <a class="self-link" href="#form-serialization-sample">Example<bdi> 31</bdi></a><span class="example-title">: Sample of a Form serialization</span>
  </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"forms"</span>: [{
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"writeproperty"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://mytemp.example.com:5683/temp"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"POST"</span>
    }]
    <span class="hljs-comment">// ...</span>
}</code></pre>
</aside>

<section id="form-uriVariables"><div class="header-wrapper"><h5 id="x6-3-9-1-urivariables"><bdi class="secno">6.3.9.1 </bdi><code>uriVariables</code></h5><a class="self-link" href="#form-uriVariables" aria-label="Permalink for Section 6.3.9.1"></a></div>
    

  <p>
  <code>href</code> may also carry a URI that contains dynamic variables
  such as <code>lat</code> and <code>lon</code> in <code>http://example.org/weather/?lat=35&amp;lon=139</code>.
  In that case the URI can be defined as template as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>]:
  <code>http://example.org/weather/{?lat,long}</code>.
  </p>

  <p><span class="rfc2119-assertion" id="td-uriVariables-names">
  In such a case, the URI Template variables <em class="rfc2119">MUST</em> be collected
  in the JSON-object based <code>uriVariables</code> member either in the <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-11">Thing level</a> or in 
  Interaction Affordance level with the associated (unique) variable names as JSON names.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-uriVariables-dataschema">
  The serialization of each value in the map assigned to <code>uriVariables</code>
  in an instance of <code>Form</code> <em class="rfc2119">MUST</em>
  rely on the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-52">Class</a> <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>,
  whose serialization is defined in <a href="#data-schema-serialization-json" class="sec-ref"><bdi class="secno">6.3.10 </bdi>Data Schemas</a>.
  </span></p>

  <p>A TD snippet using a URI Template for query parameters and <code>uriVariables</code> in the 
    Interaction Affordance level is given below:</p>

<div class="example" id="example-32">
        <div class="marker">
    <a class="self-link" href="#example-32">Example<bdi> 32</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"weather"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"uriVariables"</span>: {
                <span class="hljs-attr">"lat"</span>: { 
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>, 
                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>, 
                    <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">90</span>, 
                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Latitude for the desired location in the world"</span> },
                <span class="hljs-attr">"long"</span>: { 
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>, 
                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">-180</span>, 
                    <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">180</span>, 
                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Longitude for the desired location in the world"</span> }
            },
            <span class="hljs-attr">"forms"</span>: [{
              <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.org/weather/{?lat,long}"</span>,
              <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
            }]
        },
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<p>
    Alternatively, as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6570" title="URI Template">RFC6570</a></cite>], <code>uriVariables</code> can be used for replacing the <code>href</code> structure.
    An example TD is provided below where a valid request to get the forecast of Bogota, Colombia would be an HTTP GET
    request to <code>http://example.org/weather/bogota</code>:
</p>
<div class="example" id="example-33">
        <div class="marker">
    <a class="self-link" href="#example-33">Example<bdi> 33</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"weather"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"uriVariables"</span>: {
                <span class="hljs-attr">"city"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"City name to find the weather information for"</span> 
                }
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.org/weather/{city}"</span>,
                <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
            }]
        },
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<p>
    The two examples below can be also combined, while using the same <code>uriVariables</code> feature.
    An HTTP GET request to <code>http://example.org/weather/bogota/?unit=Celsius</code> can be described as follows:
</p>
<div class="example" id="example-34">
        <div class="marker">
    <a class="self-link" href="#example-34">Example<bdi> 34</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"weather"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"uriVariables"</span>: {
                <span class="hljs-attr">"city"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"City name to find the weather information for"</span> 
                },
                <span class="hljs-attr">"unit"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"fahrenheit_value"</span>,<span class="hljs-string">"celsius_value"</span>],
                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Desired unit for the temperature value"</span>
                }
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.org/weather/{city}/{?unit}"</span>,
                <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
            }]
        },
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<p>
    <code>uriVariables</code> are mainly for properties and events. When retrofitting an existing system, it may be necessary to use
    <code>uriVariables</code> for actions. In general, it is recommended to avoid <code>uriVariables</code> as much as possible when a 
    new WoT-based system is designed.
</p>
</section>
<section id="form-contentType"><div class="header-wrapper"><h5 id="x6-3-9-2-contenttype"><bdi class="secno">6.3.9.2 </bdi><code>contentType</code></h5><a class="self-link" href="#form-contentType" aria-label="Permalink for Section 6.3.9.2"></a></div>
    

  <p>
  The <code>contentType</code> member is used to assign a media type [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">RFC2046</a></cite>]
  including media type parameters as attribute-value pairs separated by a <code>;</code> character.
  Example:
  </p>

<div class="example" id="example-35">
        <div class="marker">
    <a class="self-link" href="#example-35">Example<bdi> 35</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"text/plain; charset=utf-8"</span>,
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
</section>
<section id="form-response"><div class="header-wrapper"><h5 id="x6-3-9-3-response"><bdi class="secno">6.3.9.3 </bdi><code>response</code></h5><a class="self-link" href="#form-response" aria-label="Permalink for Section 6.3.9.3"></a></div>
    

  <p>
  In some use cases, the form metadata of the <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-13">Interaction Affordance</a> not only
  describes the request, but also provides metadata for the expected response.
  For instance, an Action <code>takePhoto</code> defines an <code>input</code> schema
  to submit parameter settings of a camera (aperture priority, timer, etc.) using
  JSON for the request payload (i.e., <code>"contentType": "application/json"</code>).
  The output of this action is the photo taken, which is available in JPEG format, for example.
  In such cases, the <code>response</code> member is used to indicate the representation format
  of the response payload (e.g., <code>"contentType": "image/jpeg"</code>).
  Here no <code>output</code> schema is required, as the content type fully specifies
  the representation format.
  </p>

  <p>
  <span class="rfc2119-assertion" id="td-form-response-object">
  If present, the value assigned to <code>response</code> in an instance of
  <code>Form</code> <em class="rfc2119">MUST</em> be a JSON object.
  </span>
  <span class="rfc2119-assertion" id="td-forms-response">
  If present, the response object <em class="rfc2119">MUST</em> contain a <code>contentType</code> member as
  defined in the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-53">Class</a> definition of
  <a href="#expectedresponse" class="sec-ref"><code>ExpectedResponse</code></a>.
  </span>
  </p>

  <p>
  A <code>form</code> snippet with the <code>response</code> member is shown
  below based on the <code>takePhoto</code> Action described above:
  </p>

<div class="example" id="example-36">
        <div class="marker">
    <a class="self-link" href="#example-36">Example<bdi> 36</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"takePhoto"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://camera.example.com/api/snapshot"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                <span class="hljs-attr">"response"</span>: {
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"image/jpeg"</span>
                }
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
</section>
<section id="form-additionalResponses"><div class="header-wrapper"><h5 id="x6-3-9-4-additionalresponses"><bdi class="secno">6.3.9.4 </bdi><code>additionalResponses</code></h5><a class="self-link" href="#form-additionalResponses" aria-label="Permalink for Section 6.3.9.4"></a></div>
    

  <p>
  In some cases, the message received from the Thing as part of an <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-14">Interaction Affordance</a> can differ due to different reasons.
  Such reasons could be error cases or alternative responses for a valid response.
  In these cases, <code>additionalResponses</code> terms can be used to describe this behavior.
  </p>
  <p>
    For example, an Action Affordance to turn on a car engine may not work in bad weather conditions or in case the
    engine needs maintenance.
    In such a case, the Thing needs to reply with payloads that are not usually used.
  </p>
  <p>
    A <code>TD</code> snippet with the <code>additionalResponses</code> member in an Action Affordance is shown
    below. It describes the case mentioned above when an error response can be sent with another payload than what 
    is described in the <code>output</code>. The <code>success</code> with the value <code>false</code> refers to the fact that
    this payload refers to an error case and <code>schema</code> allows linking to the payload description used at 
    <code>schemaDefinitions</code>:
  </p>

<div class="example" id="example-37">
        <div class="marker">
    <a class="self-link" href="#example-37">Example<bdi> 37</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"schemaDefinitions"</span>: {
      <span class="hljs-attr">"actionErrorPayload"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
          <span class="hljs-attr">"reason"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"cold"</span>,<span class="hljs-string">"hot"</span>,<span class="hljs-string">"maintenance"</span>]
          },
          <span class="hljs-attr">"timeStamp"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"UNIX time in numbers indicating when the error happened"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>
          }
        }
      }
    },
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"startEngine"</span>: {
            <span class="hljs-attr">"output"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://mycar.example.com/api/engine"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                <span class="hljs-attr">"additionalResponses"</span>: [{
                    <span class="hljs-attr">"success"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"schema"</span>: <span class="hljs-string">"actionErrorPayload"</span>
                }]
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

    <p>
      The <code>additionalResponses</code> term can be used in non-error cases as well. In that case, <code>success</code>
      is set to <code>true</code> and another schema can be used to describe the payload.
    </p>
</section>
<section id="form-contentMediaType-contentEncoding"><div class="header-wrapper"><h5 id="x6-3-9-5-contentmediatype-and-contentencoding"><bdi class="secno">6.3.9.5 </bdi><code>contentMediaType</code> and <code>contentEncoding </code></h5><a class="self-link" href="#form-contentMediaType-contentEncoding" aria-label="Permalink for Section 6.3.9.5"></a></div>
    


<p>
In some cases binary data is embedded in text-based values, e.g., a JSON string-based value embeds a base64 encoded image.
The terms <code>contentMediaType</code> and <code>contentEncoding</code> can be used to clarify the context and encoding 
format of such name-value pairs. A sample usage of <code>contentMediaType</code> and <code>contentEncoding</code>
is shown below:
</p>

<div class="example" id="example-38">
        <div class="marker">
    <a class="self-link" href="#example-38">Example<bdi> 38</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"image"</span>: { 
	        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Provides latest image"</span>, 
	        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
	        <span class="hljs-attr">"contentMediaType"</span>: <span class="hljs-string">"image/png"</span>,
	        <span class="hljs-attr">"contentEncoding"</span>: <span class="hljs-string">"base64"</span>,
	        <span class="hljs-attr">"forms"</span>: [{ 
			    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>, 
			    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/lastPicture"</span>, 
			    <span class="hljs-attr">"cov:methodName"</span>: <span class="hljs-string">"GET"</span>,
			    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span> 
		    }] 
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>
</section>

<section id="form-top-level"><div class="header-wrapper"><h5 id="x6-3-9-6-top-level-forms"><bdi class="secno">6.3.9.6 </bdi>Top level <code>forms</code></h5><a class="self-link" href="#form-top-level" aria-label="Permalink for Section 6.3.9.6"></a></div>
    

  <p>
  When <code>forms</code> is present at the top level, it can be used to describe meta interactions offered by a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-39">Thing</a>.
  For example, the operation types <code>readallproperties</code> and <code>writeallproperties</code> are for meta
  interactions with a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-40">Thing</a> by which <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-11">Consumers</a> can read, write or observe all properties at once.
  In the example below, a <code>forms</code> member is included in the TD root object
  and the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-12">Consumer</a> can use the submission target
  <code>https://mylamp.example.com/properties</code> both to read or write all
  Properties (i.e., <code>on</code>, <code>brightness</code>, and <code>timer</code>)
  of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-41">Thing</a> in a single protocol transaction.
  </p>

<div class="example" id="td-forms-readall-example">
        <div class="marker">
    <a class="self-link" href="#td-forms-readall-example">Example<bdi> 39</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"on"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"brightness"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"timer"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"forms"</span>: [{
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readallproperties"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/properties"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
    }, 
    {
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"writeallproperties"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/properties"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"PUT"</span>
    }]
}</code></pre>
      </div>

<p>
Thing-level <code>uriVariables</code> can be used here to supply further variables to the operation or to specify 
a list of Property Affordance names for a <code>readmultipleproperties</code> operation. 
In the example below, the unit for the properties can be set via such a variable and the desired list of properties 
can be set: 
</p>

<div class="example" id="td-forms-urivariables-thing-example">
        <div class="marker">
    <a class="self-link" href="#td-forms-urivariables-thing-example">Example<bdi> 40</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"temperature"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"brightness"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-attr">"humidity"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        }
    },
    <span class="hljs-attr">"uriVariables"</span>: {
        <span class="hljs-attr">"propertyNames"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Comma separated list of property names to select."</span>
        },
        <span class="hljs-attr">"unitSystem"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"metric_value"</span>,<span class="hljs-string">"imperial_value"</span>,<span class="hljs-string">"uscustomary_value"</span>],
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"System of Measurement that will be used for the values"</span>
        }
    },
    <span class="hljs-attr">"forms"</span>: [{
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readallproperties"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mything.example.com/properties{?unitSystem}"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
    }, 
    {
        <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readmultipleproperties"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/properties{?propertyNames,unitSystem}"</span>,
        <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
    }]
}</code></pre>
      </div>

    <p>For a <code>readmultipleproperties</code> operation, an example HTTP GET request to the URI 
        <code>https://mylamp.example.com/properties?propertyNames=humidity,temperature&amp;unitSystem=metric</code> would return
        the values <code>humidity</code> and <code>temperature</code> Property Affordances, with the <code>metric</code> 
        System of Measurement.
    </p>

<p>
In the case of operation type <code>writeallproperties</code>, it is expected that the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-13">Consumer</a> provides all writable (non <code>readOnly</code>) properties and the (new) assigned values (e.g., within payload).
Similarly, for the <code>writemultipleproperties</code> operation type, it is expected that the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-14">Consumer</a> provides writable (non <code>readOnly</code>) properties.
On the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-42">Thing</a> side, <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-43">Thing</a> is expected to return readable (non <code>writeOnly</code>) properties in the case of <code>readmultipleproperties</code> and <code>readallproperties</code> operation types.
</p>

</section>
</section> 

<section id="data-schema-serialization-json"><div class="header-wrapper"><h4 id="x6-3-10-data-schemas"><bdi class="secno">6.3.10 </bdi>Data Schemas</h4><a class="self-link" href="#data-schema-serialization-json" aria-label="Permalink for Section 6.3.10"></a></div>


  <p>
  The data schemas of the WoT Thing Description defined through the
  <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a> <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-54">Class</a>
  are based on a subset of the JSON Schema terms [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>].
  Thus, serializations of the TD data schemas can be fed directly into JSON Schema
  validator implementations to validate the data exchanged with <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-44">Things</a>.
  </p>

  <p>
  Data schema serialization applies to <code>PropertyAffordance</code> instances,
  the values assigned to <code>input</code> and <code>output</code> in
  <code>ActionAffordance</code> instances,
  the values assigned to <code>subscription</code>, <code>data</code>, and <code>cancellation</code> in
  <code>EventAffordance</code> instances,
  and the value assigned to <code>uriVariables</code> in instances of <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-13">Subclasses</a> of <code>InteractionAffordance</code>
  (when a <a href="#form-serialization-json">form object</a> uses a URI Template).
  </p>

  <p><span class="rfc2119-assertion" id="td-data-schema">
    All name-value pairs of an instance of one of the <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-14">Subclasses</a> of
    <code>DataSchema</code>, where the name is a <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-76">Vocabulary Term</a> included in the
    <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-20">Signature</a> of that <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-15">Subclass</a> or in the <a href="#dfn-signature" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-signature-21">Signature</a> of
    <code>DataSchema</code>, <em class="rfc2119">MUST</em> be serialized as members of the JSON object
    that results from serializing the <code>DataSchema</code> <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-16">Subclass</a>'s
    instance, with the <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-77">Vocabulary Term</a> as name.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-data-schema-objects">
  The value assigned to <code>properties</code> in an instance of
  <code>ObjectSchema</code> <em class="rfc2119">MUST</em> be serialized as a JSON object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-data-schema-arrays">
  The values assigned to <code>enum</code>,
  <code>required</code>,
  and <code>oneOf</code> in an instance of <code>DataSchema</code>
  <em class="rfc2119">MUST</em> be serialized as a JSON array.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-data-schema-objects-arrays">
  The value assigned to <code>items</code> in an instance of
  <code>ArraySchema</code> <em class="rfc2119">MUST</em> be serialized as a JSON object or a JSON array containing JSON objects.
  </span></p>

  <p>
  A TD snippet data schema members is given below.
  Note that the surrounding object may be a data schema object
  (e.g., for <code>input</code> and <code>output</code>)
  or a Property object, which would contain additional members.
  </p>

<aside class="example" id="dataschema-serialization-sample"><div class="marker">
    <a class="self-link" href="#dataschema-serialization-sample">Example<bdi> 41</bdi></a><span class="example-title">: Sample of a DataSchema serialization</span>
  </div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Status"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"on_value"</span>, <span class="hljs-string">"off_value"</span>, <span class="hljs-string">"error_value"</span>]
        },
        <span class="hljs-attr">"brightness"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Brightness value"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0.0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">100.0</span>
        },
        <span class="hljs-attr">"rgb"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"RGB color value"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
            <span class="hljs-attr">"items"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            },
            <span class="hljs-attr">"minItems"</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">"maxItems"</span>: <span class="hljs-number">3</span>
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
</aside>

  <p>
  The terms <code>readOnly</code> and <code>writeOnly</code> can be used to signal
  which data items are exchanged in read interactions (i.e., when reading a Property)
  and which in write interactions (i.e., when writing a Property).
  This can be used as a workaround when Properties of an unconventional <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-45">Thing</a>
  exhibit different data for reading and writing, which can be the case when
  augmenting an existing device or service with a Thing Description.
  </p>

  <p>A TD snippet with the usage of <code>readOnly</code> and <code>writeOnly</code> is given below:</p>

<div class="example" id="example-42">
        <div class="marker">
    <a class="self-link" href="#example-42">Example<bdi> 42</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Read or write On/Off status."</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"properties"</span>: {
                <span class="hljs-attr">"latestStatus"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"on_value"</span>, <span class="hljs-string">"off_value"</span>],
                    <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>
                },
                <span class="hljs-attr">"newStatusValue"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"on_value"</span>, <span class="hljs-string">"off_value"</span>],
                    <span class="hljs-attr">"writeOnly"</span>: <span class="hljs-literal">true</span>
                }
            },
            <span class="hljs-attr">"forms"</span>: [...]
        }
    }
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

  <p>
  When the <code>status</code> Property is read,
  the status data is returned using a <code>latestStatus</code> member in the payload.
  To update the <code>status</code> Property,
  the new value must be provided through a <code>newStatusValue</code> member in the payload.
  </p>

  <p>
  As an additional feature,
  a Thing Description instance allows the usage of a <code>unit</code> member within data schemas.
  This can be used to associate a unit of measure to a data item.
  Its string value can be selected freely. However, it is recommended to select units defined in
  well-known <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-18">Vocabularies</a>. See <a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a> for an example.
</p>

</section> 

</section> 

<section id="identification-serialization-json"><div class="header-wrapper"><h3 id="x6-4-identification"><bdi class="secno">6.4 </bdi>Identification</h3><a class="self-link" href="#identification-serialization-json" aria-label="Permalink for Section 6.4"></a></div>


  <p>
  The JSON-based serialization of Thing Descriptions is identified by 
  the media type <code>application/td+json</code> or the
  CoAP Content-Format ID <code>432</code> (see <a href="#iana-section" class="sec-ref"><bdi class="secno">12. </bdi>IANA Considerations</a>).
  </p>

</section>

<section id="validation-serialization-json"><div class="header-wrapper"><h3 id="x6-5-validation"><bdi class="secno">6.5 </bdi>Validation</h3><a class="self-link" href="#validation-serialization-json" aria-label="Permalink for Section 6.5"></a></div>


  <p>
  In several contexts automatic validation of a JSON-based serialization 
  of a Thing Description is useful.  Formally, a valid TD satisfies all
  the assertions in this specification, but not all assertions can be 
  validated given only the JSON serialization, for instance, the assertions
  listed under <a href="#behavior" class="sec-ref"><bdi class="secno">8. </bdi>Behavioral Assertions</a> that relate a TD to the
  behavior of a Thing that it describes.  Extensions are also problematic,
  in that even if formal metadata is given for validating an extension,
  dynamically fetching this metadata in a deployment might pose a privacy
  risk.  In this section, therefore, we name and define various levels of
  validation appropriate for different contexts.
  </p>
  <section id="minimal-validation-serialization-json"><div class="header-wrapper"><h4 id="x6-5-1-minimal-validation"><bdi class="secno">6.5.1 </bdi>Minimal Validation</h4><a class="self-link" href="#minimal-validation-serialization-json" aria-label="Permalink for Section 6.5.1"></a></div>
  
  <p> 
  This level of validation includes all assertions implied by 
  normative tables in this document, and those that can be checked
  by looking only at the TD itself.
  </p>
  <p>Minimal Validation is appropriate where validation needs to be 
  self-contained (e.g. devices on isolated networks).
  It does not attempt to validate context extensions and vocabularies.
  </p><p> 
  In practice, these assertions can be validated using a JSON Schema 
  in combination with a few spot checks, for example to check that 
  security schema names have matching definitions.
  </p>
  </section>
  <section id="basic-validation-serialization-json"><div class="header-wrapper"><h4 id="x6-5-2-basic-validation"><bdi class="secno">6.5.2 </bdi>Basic Validation</h4><a class="self-link" href="#basic-validation-serialization-json" aria-label="Permalink for Section 6.5.2"></a></div>
  
  <p> 
  This level of validation includes all those covered by 
  <a href="#minimal-validation-serialization-json" class="sec-ref"><bdi class="secno">6.5.1 </bdi>Minimal Validation</a> as well as basic validation
  of semantic definitions.
  </p>
  <p>Basic validation is appropriate in situations where
  network access is possible and does not pose a privacy risk, and
  for relatively unconstrained computing requirements.  It is suitable
  for gateways, for example, but not for endpoints, since semantic
  processing is required.  It can do basic validation of extensions,
  specfically that the vocabulary used is defined.
  </p>
  <p>
  In this case, context definition files and 
  SHACL definitions can be used to validate additional
  assertions and check TDs for semantic consistency.  In addition, if
  context definitions and SHACL constraints for extension vocabularies 
  can be fetched, then these
  can be used to validate extensions.
  </p></section>
  <section id="full-validation-serialization-json"><div class="header-wrapper"><h4 id="x6-5-3-full-validation"><bdi class="secno">6.5.3 </bdi>Full Validation</h4><a class="self-link" href="#full-validation-serialization-json" aria-label="Permalink for Section 6.5.3"></a></div>
  
  <p>Full validation confirms that all the assertions in this document
  are satisfied, 
  including the assertions given in <a href="#behavior" class="sec-ref"><bdi class="secno">8. </bdi>Behavioral Assertions</a> that
  confirm the TD is consistent with the Thing it describes.
  </p><p>
  This level of validation is appropriate during development, before
  release, and possibly after installation.
  Validation during development would have to be on test Things.
  Actual installation of instances of such Things requires updating the
  TD with appropriate per-instance identifiers and URLs and so for
  maximum assurance, in-field validation would have to take place after
  installation.
  </p>
  </section>
  
</section>

</section> 

<section id="sec-context-extensions" class="informative"><div class="header-wrapper"><h2 id="x7-td-context-extensions"><bdi class="secno">7. </bdi>TD Context Extensions</h2><a class="self-link" href="#sec-context-extensions" aria-label="Permalink for Section 7."></a></div><p><em>This section is non-normative.</em></p>


  <p>
  In addition to the standard <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-19">Vocabulary</a> definitions in
  <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a>,
  the WoT Thing Description offers the possibility to add context knowledge
  from additional namespaces.
  This mechanism can be used to enrich the Thing Description
  instances with additional (e.g., domain-specific) semantics.
  It can also be used to import additional <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-4">Protocol Bindings</a>
  or new security schemes in the future.
  </p>

  <p>
  For such <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-7">TD Context Extensions</a>, the Thing Descriptions use the <code>@context</code>
  mechanism known from JSON-LD [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>].
  When using <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-8">TD Context Extensions</a>,
  the value of <code>@context</code> of the <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-55">Class</a> <code>Thing</code>
  is an Array with additional elements of type <code>anyURI</code> identifying JSON-LD context files
  or <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-46">Map</a> containing namespace IRIs as defined in <a href="#thing" class="sec-ref"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></a>.
  </p>

  <p>
    The serialization rules for complex types in <a href="#td-basic-types-mapping" class="sec-ref"><bdi class="secno">6.1 </bdi>Mapping to JSON Types</a>
    define the serialization of an extended <code>@context</code> name-value pair.
    A snippet with <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-9">TD Context Extensions</a> is given below:
  </p>

<div class="example" id="example-43">
        <div class="marker">
    <a class="self-link" href="#example-43">Example<bdi> 43</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"eg"</span>: <span class="hljs-string">"http://example.org/iot#"</span>,
            <span class="hljs-attr">"cov"</span>: <span class="hljs-string">"http://www.example.org/coap-binding#"</span>
        },
        <span class="hljs-string">"https://schema.org/"</span>
    ],
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<section id="semantic-annotations"><div class="header-wrapper"><h3 id="x7-1-semantic-annotations"><bdi class="secno">7.1 </bdi>Semantic Annotations</h3><a class="self-link" href="#semantic-annotations" aria-label="Permalink for Section 7.1"></a></div>


    <p>
    <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-10">TD Context Extensions</a> allow for the use of additional <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-78">Vocabulary Terms</a> in a Thing Description instance.
    If the included namespaces are based on <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-56">Class</a> definitions
    such as those provided by the RDF Schema or OWL,
    they can be used to annotate any <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-57">Class</a> instance of a Thing Description semantically
    by associating the instance to a such an external <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-58">Class</a> definition.
    This is done by assigning a <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-59">Class</a> name to the <code>@type</code> name-value pair or
    including <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-60">Class</a> name in its <a href="#dfn-array" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-array-43">Array</a> value for multiple associations/annotations.
    Following the serialization rules in <a href="#td-basic-types-mapping" class="sec-ref"><bdi class="secno">6.1 </bdi>Mapping to JSON Types</a>,
    <code>@type</code> is either serialized as a JSON string or as a JSON array.
    <code>@type</code> is the JSON-LD keyword [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>] used to set the type of a node.
    </p>

    <p>
    <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-11">TD Context Extensions</a> also allow the inclusion of additional name-value pairs
    and well-defined values within any <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-61">Class</a> instance of a Thing Description.
    These pairs and values are defined through the included <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-79">Vocabulary Terms</a>
    and are serialized as additional members in the corresponding JSON objects
    or values of existing members, respectively.
    Examples are additional version metadata for the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-46">Thing</a>
    or units of measure for data items.
    </p>

    <p>
    The next subsections show some sample usage of different kind of ontologies in Thing Descriptions.
    </p>

    <section id="semantic-annotations-example-version-units"><div class="header-wrapper"><h4 id="x7-1-1-example-i-additional-basic-metadata"><bdi class="secno">7.1.1 </bdi>Example I: Additional Basic Metadata</h4><a class="self-link" href="#semantic-annotations-example-version-units" aria-label="Permalink for Section 7.1.1"></a></div>
    

    <p>
      The sample TD snippet below provides additional metadata terms from different 
      external context files as provided in <code>@context</code>. The version information 
      container is extended by adding additional version information about the used software (<code>s:softwareVersion</code>). 
      <a href="https://schema.org">schema.org</a> is used for providing serial number and organisation information such as the company name of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-47">Thing</a>. 
      The <a href="https://ontology.tno.nl/saref/">SAREF</a> ontology is used to provide a semantic context of the 
      <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-48">Thing</a> (<code>saref:TemperatureSensor</code>), and for the unit assignment for the temperature property 
      the  <a href="http://www.ontology-of-units-of-measure.org/resource/om-2/">Ontology of Units of Measure (OM)</a>
      is used. 
    </p>

    <div class="note" role="note" id="issue-container-generatedID-8"><div role="heading" class="note-title marker" id="h-note-8" aria-level="5"><span>Note</span></div><p class="">
        Please note that these <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-20">Vocabularies</a> and ontologies are used as examples. Others can be used based on application domain and use case.
    </p></div>
<div class="example" id="example-44">
        <div class="marker">
    <a class="self-link" href="#example-44">Example<bdi> 44</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"saref"</span>: <span class="hljs-string">"https://w3id.org/saref#"</span>,
            <span class="hljs-attr">"om"</span>: <span class="hljs-string">"http://www.ontology-of-units-of-measure.org/resource/om-2/"</span>,
            <span class="hljs-attr">"schema"</span>: <span class="hljs-string">"https://schema.org"</span> 
        }
    ],
    <span class="hljs-attr">"version"</span>: {
        <span class="hljs-attr">"instance"</span>: <span class="hljs-string">"1.2.1"</span>,
        <span class="hljs-attr">"schema:softwareVersion"</span>: <span class="hljs-string">"1.0.1"</span>
    },
    <span class="hljs-attr">"schema:serialNumber"</span>: <span class="hljs-string">"4CE0460D0G"</span>,
    <span class="hljs-attr">"schema:manufacturer"</span>: {<span class="hljs-attr">"name"</span>: <span class="hljs-string">"CompanyName"</span>},
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"saref:TemperatureSensor"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"temperature"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Temperature value of the weather station"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">-32.5</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">55.2</span>,
            <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"om:degreeCelsius"</span>,
            <span class="hljs-attr">"forms"</span>: [...]
        },
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

</section>
<section id="semantic-annotations-example-state"><div class="header-wrapper"><h4 id="x7-1-2-example-ii-state-annotations"><bdi class="secno">7.1.2 </bdi>Example II: State Annotations</h4><a class="self-link" href="#semantic-annotations-example-state" aria-label="Permalink for Section 7.1.2"></a></div>
    

    <p>
        In many cases, <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-12">TD Context Extensions</a> may be used to annotate pieces of a data schema,
        to be able to semantically process the state information of the physical world object,
        which is represented by the data exchanged during an interaction (e.g., in the payload of a response).
        For example, a semantic description of this state information in RDF
        can be embedded in the <a href="#dfn-td-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-document-3">TD Document</a> and pieces of a data schema can be individually annotated
        as referring to specific parts of that RDF-modeled state of the physical world object.
    </p>

    <p>
        The TD snippet below uses SAREF to describe the state of a lamp. The external <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-80">Vocabulary
        Term</a> <code>ssn:forProperty</code>, taken from <a href="https://www.w3.org/TR/vocab-ssn/">SSN</a>,
        the Semantic Sensor Network Ontology [<cite><a class="bibref" data-link-type="biblio" href="#bib-vocab-ssn" title="Semantic Sensor Network Ontology">VOCAB-SSN</a></cite>], is being used to link the data schema of
        the <code>status</code> <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-7">Property</a> with the actual on/off state of the physical
        world object.
    </p>

<div class="example" id="saref-state-annotation-example">
        <div class="marker">
    <a class="self-link" href="#saref-state-annotation-example">Example<bdi> 45</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"saref"</span>: <span class="hljs-string">"https://w3id.org/saref#"</span>,
            <span class="hljs-attr">"ssn"</span>: <span class="hljs-string">"http://www.w3.org/ns/ssn/"</span>
        }
    ],
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:67c9122b-2680-4e1a-b41c-5af07edba1f4"</span>,
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"saref:LightSwitch"</span>,
    <span class="hljs-attr">"saref:hasState"</span>: {
        <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"urn:uuid:67c9122b-2680-4e1a-b41c-5af07edba1f4/state"</span>,
        <span class="hljs-attr">"@type"</span>:&nbsp;<span class="hljs-string">"saref:OnOffState"</span>
    },
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"ssn:forProperty"</span>: <span class="hljs-string">"urn:uuid:67c9122b-2680-4e1a-b41c-5af07edba1f4/state"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>}]
        },
        <span class="hljs-attr">"fullStatus"</span>: {
            <span class="hljs-attr">"ssn:forProperty"</span>: <span class="hljs-string">"urn:uuid:67c9122b-2680-4e1a-b41c-5af07edba1f4/state"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"properties"</span>: {
                <span class="hljs-attr">"statusString"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span> },
                <span class="hljs-attr">"statusCode"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
                <span class="hljs-attr">"statusDescription"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span> }
            },
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status?full=true"</span>}]
        },
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

    <p>
        In <a href="#thing-description-full-serialization" class="box-ref">Example<bdi> 2</bdi></a>, the state of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-49">Thing</a>
        is given by the <code>status</code> affordance itself
        and possible state changes are given by the <code>toggle</code> affordance.
        In other words, the state of the physical world object directly provides the
        <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-15">Interaction Affordances</a> of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-50">Thing</a>. This design is satisfactory for
        simple cases. In more elaborate cases, however, several affordances may be available
        for the same physical state. In the example above, the <code>fullStatus</code>
        <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-8">Property</a> provides an alternative, more verbose representation for the state
        of the lamp.
    </p>

</section>
<section id="semantic-annotations-example-geoloc"><div class="header-wrapper"><h4 id="x7-1-3-example-iii-geolocation-annotations"><bdi class="secno">7.1.3 </bdi>Example III: Geolocation Annotations</h4><a class="self-link" href="#semantic-annotations-example-geoloc" aria-label="Permalink for Section 7.1.3"></a></div>
    

    <p>
    For many use cases like in building, agriculture, or smart city location based data is required. This
    information can be provided in the Thing Description in different ways and can be relied on
    different kind of location ontologies (e.g.,[<cite><a class="bibref" data-link-type="biblio" href="#bib-w3c-basic-geo" title="Basic Geo (WGS84 lat/long) Vocabulary">w3c-basic-geo</a></cite>], schema.org) depending on purpose (e.g., indoor, outdoor).  
    Also see [<cite><a class="bibref" data-link-type="biblio" href="#bib-sdw-bp" title="Spatial Data on the Web Best Practices">sdw-bp</a></cite>].
    </p>
    
    <p>
        The TD snippet below uses <code>lat</code> and <code>long</code> from the [<cite><a class="bibref" data-link-type="biblio" href="#bib-w3c-basic-geo" title="Basic Geo (WGS84 lat/long) Vocabulary">w3c-basic-geo</a></cite>] ontology to 
        provide static latitude and longitude metadata at Thing's top level. 
    </p>

    <div class="example" id="saref-geolocation-annotation-example">
        <div class="marker">
    <a class="self-link" href="#saref-geolocation-annotation-example">Example<bdi> 46</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"geo"</span>: <span class="hljs-string">"http://www.w3.org/2003/01/geo/wgs84_pos#"</span>        
        }
    ],
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"Thing"</span>,
    <span class="hljs-attr">"geo:lat"</span>: <span class="hljs-string">"26.58"</span>,
    <span class="hljs-attr">"geo:long"</span>: <span class="hljs-string">"297.83"</span>,
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-comment">// ...</span>
    }
}</code></pre>
      </div>


<p>
        In some use cases location based metadata have to be provided at the interaction level, e.g., 
        as provided as a <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-9">Property</a> that returns the latest <code>longitude</code>, <code>latitude</code>, and <code>elevation</code> values
        based on schema.org:
</p>

<div class="example" id="saref-geolocation-annotation-example-2">
        <div class="marker">
    <a class="self-link" href="#saref-geolocation-annotation-example-2">Example<bdi> 47</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"schema"</span>: <span class="hljs-string">"https://schema.org#"</span>
        }
    ],
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"position"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"schema:GeoCoordinates"</span>,
            <span class="hljs-attr">"properties"</span>: {
                    <span class="hljs-attr">"longitude"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
                    <span class="hljs-attr">"latitude"</span>:  { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
                    <span class="hljs-attr">"elevation"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> }
            },
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://robot.example.com/position"</span>}]
        },
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

<p>
        In case a different name is desired for, e.g., <code>longitude</code>, <code>latitude</code>, 
        and <code>elevation</code> in the data model, the <code>jsonld:context</code> can be used to link 
        terms to specific vocabulary from an ontology (also see [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema-ontology" title="JSON Schema in RDF">JSON-SCHEMA-ONTOLOGY</a></cite>], Section 3.3 Defining a JSON-LD context for data instances):
</p>

<div class="example" id="saref-geolocation-annotation-example-3">
        <div class="marker">
    <a class="self-link" href="#saref-geolocation-annotation-example-3">Example<bdi> 48</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"schema"</span>: <span class="hljs-string">"https://schema.org#"</span>
        }
    ],
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"position"</span>: {
        <span class="hljs-attr">"jsonld:context"</span>: {
            <span class="hljs-attr">"schema"</span>: <span class="hljs-string">"https://schema.org/"</span>,
            <span class="hljs-attr">"long"</span>: <span class="hljs-string">"schema:longitude"</span>,
            <span class="hljs-attr">"lat"</span>: <span class="hljs-string">"schema:latitude"</span>,
            <span class="hljs-attr">"height"</span>: <span class="hljs-string">"schema:elevation"</span>
        },
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"properties"</span>: {
            <span class="hljs-attr">"long"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
            <span class="hljs-attr">"lat"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> },
            <span class="hljs-attr">"height"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span> }
        }
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

</section>
</section>

<section id="adding-protocol-bindings"><div class="header-wrapper"><h3 id="x7-2-adding-protocol-bindings"><bdi class="secno">7.2 </bdi>Adding Protocol Bindings</h3><a class="self-link" href="#adding-protocol-bindings" aria-label="Permalink for Section 7.2"></a></div>


  <p>
  With the <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-13">TD Context Extensions</a> in a Thing Description,
  the communication metadata can be supplemented or new <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-5">Protocol Bindings</a> added
  through additional <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-81">Vocabulary Terms</a> serialized into JSON objects representing a <code>Form</code> instance.
  Please see <a href="#protocol-bindings" class="sec-ref"><bdi class="secno">8.3 </bdi>Protocol Bindings</a> for additional details.
  </p>
    

    
</section>
    
<section id="adding-security-schemes"><div class="header-wrapper"><h3 id="x7-3-adding-security-schemes"><bdi class="secno">7.3 </bdi>Adding Security Schemes</h3><a class="self-link" href="#adding-security-schemes" aria-label="Permalink for Section 7.3"></a></div>

    
  <p>
  Finally, new security schemes that are not included in <a href="#sec-security-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.3 </bdi>Security Vocabulary Definitions</a>
  can be imported using the <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-14">TD Context Extension</a> mechanism.
  This example uses a fictional ACE security scheme
  based on [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9200" title="Authentication and Authorization for Constrained Environments Using the OAuth 2.0 Framework (ACE-OAuth)">RFC9200</a></cite>] that is, for this example,
  defined by the namespace at <code>http://www.example.org/ace-security#</code>.
    <span class="rfc2119-assertion" id="td-security-extension">
      Additional security schemes <em class="rfc2119">MUST</em> be <a href="#dfn-subclass" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-subclass-17">Subclasses</a> of the
      <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-62">Class</a> <a href="#securityscheme" class="sec-ref"><code>SecurityScheme</code></a>.
    </span>
  </p>
    
<div class="example" id="example-49">
        <div class="marker">
    <a class="self-link" href="#example-49">Example<bdi> 49</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"cov"</span>: <span class="hljs-string">"http://www.example.org/coap-binding#"</span>,
            <span class="hljs-attr">"ace"</span>: <span class="hljs-string">"http://www.example.org/ace-security#"</span>
        }
    ],
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"ace_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"ace:ACESecurityScheme"</span>,
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"ace:as"</span>: <span class="hljs-string">"coaps://as.example.com/token"</span>,
            <span class="hljs-attr">"ace:audience"</span>: <span class="hljs-string">"coaps://rs.example.com"</span>,
            <span class="hljs-attr">"ace:scopes"</span>: [<span class="hljs-string">"limited"</span>, <span class="hljs-string">"special"</span>],
            <span class="hljs-attr">"ace:cnonce"</span>: <span class="hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [<span class="hljs-string">"ace_sc"</span>],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://rs.example.com/status"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/cbor"</span>,
                <span class="hljs-attr">"cov:methodName"</span>: <span class="hljs-string">"GET"</span>,
                <span class="hljs-attr">"ace:scopes"</span>: [<span class="hljs-string">"limited"</span>]
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"configure"</span>: {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://rs.example.com/configure"</span>,
                <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/cbor"</span>,
                <span class="hljs-attr">"cov:methodName"</span>: <span class="hljs-string">"POST"</span>,
                <span class="hljs-attr">"ace:scopes"</span>: [<span class="hljs-string">"special"</span>]
            }]
        }
    },
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

  <p>
  Note that all security schemes defined in <a href="#sec-security-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.3 </bdi>Security Vocabulary Definitions</a>
  are already part of the TD context and need not to be included through a <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-15">TD Context Extension</a>.
  </p>
    
</section>
</section>

<section id="behavior" class="normative"><div class="header-wrapper"><h2 id="x8-behavioral-assertions"><bdi class="secno">8. </bdi>Behavioral Assertions</h2><a class="self-link" href="#behavior" aria-label="Permalink for Section 8."></a></div>

 <p>
 The following assertions relate to the behavior of components of a 
 WoT system, as opposed to the representation or information model of the TD. 
 However, note that TDs are descriptive, and may in particular be used to
 describe pre-existing network interfaces. In these cases, assertions cannot
 be made that constrain the behavior of such pre-existing interfaces.  Instead,
 the assertions are to be interpreted as constraints on the TD to accurately
 represent such interfaces. 
 </p> 
<section id="behavior-security"><div class="header-wrapper"><h3 id="x8-1-security-configurations"><bdi class="secno">8.1 </bdi>Security Configurations</h3><a class="self-link" href="#behavior-security" aria-label="Permalink for Section 8.1"></a></div>

  <p>
    To enable secure interoperation, 
    security configurations need to accurately reflect the requirements of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-51">Thing</a>:
  </p>
  <ul>
  <li>
  <span class="rfc2119-assertion" id="td-security-binding">
  If a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-52">Thing</a> requires a specific access mechanism for an interaction, that
  mechanism <em class="rfc2119">MUST</em> be specified in the security configuration of the Thing Description.
  </span>  
  </li>
  <li>
  <span class="rfc2119-assertion" id="td-security-no-extras">
  If a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-53">Thing</a> does not require a specific access mechanism for an interaction, that
  mechanism <em class="rfc2119">MUST NOT</em> be specified in the security configuration of the Thing Description.
  </span>  
  </li>
  </ul>
  <p>
  Some security protocols may ask for authentication 
  information dynamically, including required encoding or encryption schemes. 
  One consequence of the above is that if a protocol asks for
  a form of security credentials or an encoding or encryption scheme 
  not declared in the Thing Description 
  then the Thing Description is to be considered invalid.
  </p>
</section> 
<section id="behavior-data"><div class="header-wrapper"><h3 id="x8-2-data-schemas"><bdi class="secno">8.2 </bdi>Data Schemas</h3><a class="self-link" href="#behavior-data" aria-label="Permalink for Section 8.2"></a></div>

<p>The data schemas provided in the TD should accurately represent the 
data payloads returned and accepted by the described <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-54">Thing</a>
in the interactions specified in the TD.  In general, <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-15">Consumers</a> should
follow the data schemas strictly, not generating anything not given
in the WoT Thing Description, but should accept additional data from
the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-55">Thing</a> not given explicitly in the WoT Thing Description.

In general, <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-56">Things</a> are <em>described</em> by WoT Thing Descriptions,
but <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-16">Consumers</a> are <em>constrained</em> to follow WoT Thing Descriptions when
interacting with <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-57">Things</a>.
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="client-data-schema">
A <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-17">Consumer</a> when interacting with another target <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-58">Thing</a>
described in a WoT Thing Description <em class="rfc2119">MUST</em> generate data  
organized according to the data schemas given in the corresponding
interactions.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="server-data-schema">
A WoT Thing Description <em class="rfc2119">MUST</em> accurately describe the 
data returned and accepted by each interaction.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="server-data-schema-extras">
A <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-59">Thing</a> <em class="rfc2119">MAY</em> return additional data from an interaction
even when such data is 
not described in the data schemas given in its WoT Thing Description.
</span>
This applies to <code>ObjectSchema</code> and <code>ArraySchema</code> (when <code>items</code> is an Array of
<code>DataSchema</code>) where there can be additional properties or items in the data returned. This behaves as if
<code>"additionalProperties":true</code> or <code>"additionalItems":true</code> as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>].
</li>
<li>
<span class="rfc2119-assertion" id="client-data-schema-accept-extras">
A <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-18">Consumer</a> when interacting with another <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-60">Thing</a> <em class="rfc2119">MUST</em> accept without
error any additional data  
not described in the data schemas given in the Thing Description of the target <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-61">Thing</a>.
</span>
This applies to <code>ObjectSchema</code> and <code>ArraySchema</code> (when <code>items</code> is an Array of
<code>DataSchema</code>) where there can be additional properties or items in the data returned. This behaves as if
<code>"additionalProperties":true</code> or <code>"additionalItems":true</code> as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>].
</li>
<li>
<span class="rfc2119-assertion" id="client-data-schema-no-extras">
A <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-19">Consumer</a> when interacting with another <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-62">Thing</a> <em class="rfc2119">MUST NOT</em> generate data
not described in the data schemas given in the Thing Description of that <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-63">Thing</a>.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="client-uri-template">
A <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-20">Consumer</a> when interacting with another <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-64">Thing</a> <em class="rfc2119">MUST</em> generate URIs
according to the URI Templates, base URIs, and form href parameters
given in the Thing Description of the target <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-65">Thing</a>.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="server-uri-template">
URI Templates, base URIs, and href members
in a WoT Thing Description <em class="rfc2119">MUST</em> accurately describe the <a href="#dfn-wot-interface" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-wot-interface-1">WoT Interface</a> of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-66">Thing</a>.
</span>
</li>
</ul>
</section> 

<section id="protocol-bindings"><div class="header-wrapper"><h3 id="x8-3-protocol-bindings"><bdi class="secno">8.3 </bdi>Protocol Bindings</h3><a class="self-link" href="#protocol-bindings" aria-label="Permalink for Section 8.3"></a></div>
  

  <p>
    A <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-6">Protocol Binding</a> is the mapping from an <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-16">Interaction Affordance</a> to concrete messages of a
    specific protocol such as HTTP [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7231" title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">RFC7231</a></cite>], CoAP [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7252" title="The Constrained Application Protocol (CoAP)">RFC7252</a></cite>], or MQTT [<cite><a class="bibref" data-link-type="biblio" href="#bib-mqtt" title="MQTT Version 3.1.1">MQTT</a></cite>]. <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-7">Protocol Bindings</a> of
    <a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-interaction-affordance-17">Interaction Affordances</a> are serialized as <code>forms</code> as defined in <a href="#form-serialization-json" class="sec-ref"><bdi class="secno">6.3.9 </bdi><code>forms</code></a>.
  </p>

  <p>
    Every form in a WoT Thing Description needs to have a submission target, given by the <code>href</code> member, as indicated in <a href="#form">Form</a>. 
    The URI scheme [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] of this submission target indicates what <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-8">Protocol Binding</a> the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-67">Thing</a> implements [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-architecture11" title="Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>].
    For instance, if the target starts with <code>http</code> or
    <code>https</code>, a <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-21">Consumer</a> can then infer the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-68">Thing</a> implements the
    <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-9">Protocol Binding</a> based on HTTP and it should expect HTTP-specific terms in the
    form instance (see next section, <a href="#http-binding-assertions" class="sec-ref"><bdi class="secno">8.3.1 </bdi>Protocol Binding based on HTTP</a>).
  </p>
  <ul>
      <li>
          <span class="rfc2119-assertion" id="bindings-requirements-scheme">
              Every form in a WoT Thing Description <em class="rfc2119">MUST</em> follow the requirements of the <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-10">Protocol Binding</a> indicated by the URI scheme [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] of its <code>href</code> member.
          </span>
      </li>
      <li>
          <span class="rfc2119-assertion" id="bindings-server-accept">
              Every form in a WoT Thing Description <em class="rfc2119">MUST</em> accurately describe requests
              (including request headers, if present) accepted by the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-69">Thing</a> in an
              interaction.
          </span>
      </li>
  </ul>

  <div class="note" role="note" id="issue-container-generatedID-9"><div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span></div><p class="">
      Optimally, the protocols used are listed as a scheme in the IANA registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-uri-schemes" title="Uniform Resource Identifier (URI) Schemes">IANA-URI-SCHEMES</a></cite>]). 
      This guarantees a unique <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-11">Protocol Binding</a> assignment. In case the desired protocol is not yet 
      registered with IANA, it is recommended to follow the scheme value of the protocol specifications, if available.
      In principle, to avoid ambiguity in the identification of the protocol via the scheme, the <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-12">Protocol Binding</a> document will provide 
      a recommended scheme value to enable unique protocol identification in the context of WoT.
  </p></div>

  <section id="http-binding-assertions"><div class="header-wrapper"><h4 id="x8-3-1-protocol-binding-based-on-http"><bdi class="secno">8.3.1 </bdi>Protocol Binding based on HTTP</h4><a class="self-link" href="#http-binding-assertions" aria-label="Permalink for Section 8.3.1"></a></div>
    

    <p>
        Per default the Thing Description supports the <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-13">Protocol Binding</a> based on HTTP 
        by including the HTTP RDF vocabulary definitions from <em>HTTP Vocabulary in RDF 1.0</em> [<cite><a class="bibref" data-link-type="biblio" href="#bib-http-in-rdf10" title="HTTP Vocabulary in RDF 1.0">HTTP-in-RDF10</a></cite>].
        This vocabulary can be 
        directly used within TD instances by the usage of the prefix <code>htv</code>, which 
        points to <code>http://www.w3.org/2011/http#</code>. 
        Further details of <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-14">Protocol Binding</a> based on HTTP can be found in [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-binding-templates" title="Web of Things (WoT) Binding Templates">WOT-BINDING-TEMPLATES</a></cite>].
    </p>
    <p>
        To interact with a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-70">Thing</a> that implements the <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-15">Protocol Binding</a> based on HTTP, a <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-22">Consumer</a>
        needs to know what HTTP method to use when submitting a form. In the general case,
        a Thing Description can explicitly include a term indicating the method, i.e.,
        <code>htv:methodName</code>. For the
        sake of conciseness, the <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-16">Protocol Binding</a> based on HTTP defines <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-17">Default Values</a> for the operation types listed below,
        which also aims at convergence of the methods expected by <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-71">Things</a> (e.g., GET to read, PUT to write).
        <span class="rfc2119-assertion" id="td-default-http-method">
            When no method is indicated in a form representing an <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-17">Protocol Binding</a> based on HTTP, 
            a <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-18">Default Value</a> <em class="rfc2119">MUST</em> be assumed as shown in
            the following table.
        </span>
    </p>

    <table class="def numbered" id="table-default-values-of-vocabulary-terms-for-http-that-are-used-when-the-terms-are-not-present-in-a-form-of-a-td-containing-an-http-uri-scheme">
        <caption><a class="self-link" href="#table-default-values-of-vocabulary-terms-for-http-that-are-used-when-the-terms-are-not-present-in-a-form-of-a-td-containing-an-http-uri-scheme">Table <bdi class="tableno">32</bdi></a> <span class="table-title">Default values of vocabulary terms for HTTP that are used when the terms are not present in a form of 
            a TD, containing an HTTP URI Scheme</span></caption>
        <thead>
            <tr>
                <th><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-82">Vocabulary term</a></th>
                <th>Default value</th>
                <th>Context</th>
            </tr>
        </thead>
        <tbody>
            <tr class="rfc2119-default-assertion" id="td-default-http-method_get">
                <td>
                    <code>htv:methodName</code>
                </td>
                <td><code>GET</code></td>
                <td>
                    <code>Form</code> with operation type <code>readproperty</code>, <code>readallproperties</code>, <code>readmultipleproperties</code>
                </td>
            </tr>
            <tr class="rfc2119-default-assertion" id="td-default-http-method_put">
                <td>
                    <code>htv:methodName</code>
                </td>
                <td><code>PUT</code></td>
                <td>
                    <code>Form</code> with operation type <code>writeproperty</code>, <code>writeallproperties</code>, <code>writemultipleproperties</code>
                </td>
            </tr>
            <tr class="rfc2119-default-assertion" id="td-default-http-method_post">
                <td>
                    <code>htv:methodName</code>
                </td>
                <td><code>POST</code></td>
                <td>
                    <code>Form</code> with operation type <code>invokeaction</code>
                </td>
            </tr>
        </tbody>
    </table>

    <p>
        For example, the <a href="#simple-thing-description-sample">Example 1</a> in <a href="#introduction" class="sec-ref"><bdi class="secno">1. </bdi>Introduction</a>
        does not contain operation types and HTTP methods in the forms. 
        The following <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-19">Default Values</a> should be assumed for the forms in the <a href="#simple-thing-description-sample">Example 1</a>:
    </p>

    <aside class="example with-default" id="example-50"><div class="marker">
    <a class="self-link" href="#example-50">Example<bdi> 50</bdi></a>
  </div>
            <div class="with-default-control">
                <input type="checkbox">
                <span><i>with default values for Protocol Binding based on HTTP</i></span>
            </div>
            <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:3a559b69-cbec-4e7b-b543-bd8e6e41fd8b"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>,
                    <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"longpoll"</span>
                }
            ]
        }
    }
}</code></pre>
        <pre class="selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:3deca264-4f90-4321-a5ea-f197e6a1c7cf"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/toggle"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"POST"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/oh"</span>,
                    <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"longpoll"</span>
                }
            ]
        }
    }
}</code></pre>
    </aside>

    <p>In the case of a <code>forms</code> entry that has multiple <code>op</code> values the usage 
        of the <code>htv:methodName</code> is not permitted. A <a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-processor-14">TD Processor</a> will extend
        the multiple <code>op</code> values to separate <code>forms</code> entries and associates 
        a single operation with the default assumption. The address information (e.g. <code>href</code>) and 
        other metadata are taken over in the extended version.
    </p>
    
        <aside class="example with-default" id="example-51"><div class="marker">
    <a class="self-link" href="#example-51">Example<bdi> 51</bdi></a>
  </div>
            <div class="with-default-control">
                <input type="checkbox">
                <span><i>extended <code>forms</code> in case of multiple values in <code>op</code></i></span>
            </div>
            <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:43e2081d-3fd9-41bf-803d-baaefb79c70f"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span> : [<span class="hljs-string">"readproperty"</span>, <span class="hljs-string">"writeproperty"</span>],
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>
                }
            ]
        }
    }
}</code></pre>
        <pre class="selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:9cd44eef-0b3f-4566-94b0-1358af3d86bd"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"GET"</span>
                },
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"writeproperty"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"PUT"</span>
                }
            ]
        }
    }
}</code></pre>
    </aside>

  </section>

  <section id="other-protocol-bindings"><div class="header-wrapper"><h4 id="x8-3-2-other-protocol-bindings"><bdi class="secno">8.3.2 </bdi>Other Protocol Bindings</h4><a class="self-link" href="#other-protocol-bindings" aria-label="Permalink for Section 8.3.2"></a></div>
      

      <p>
          The number of <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-18">Protocol Bindings</a> a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-72">Thing</a> can implement
          is not restricted. Other <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-19">Protocol Bindings</a> (e.g., for CoAP, MQTT, or OPC UA)
          are intended to be standardized in separate documents such as a protocol <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-21">Vocabulary</a> similar to <em>HTTP Vocabulary in RDF 1.0</em> [<cite><a class="bibref" data-link-type="biblio" href="#bib-http-in-rdf10" title="HTTP Vocabulary in RDF 1.0">HTTP-in-RDF10</a></cite>]
          or specifications including <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-20">Default Value</a> definitions. Such protocols can be simply integrated into the TD by the
          usage of the <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-16">TD Context Extension</a> mechanism (see <a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a>).
      </p>
      <p>
          Please refer to [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-binding-templates" title="Web of Things (WoT) Binding Templates">WOT-BINDING-TEMPLATES</a></cite>] for information on how to describe IoT platforms and ecosystems.
      </p>
  </section>
</section>

</section> 

<section id="thing-model" class="normative"><div class="header-wrapper"><h2 id="x9-thing-model"><bdi class="secno">9. </bdi>Thing Model</h2><a class="self-link" href="#thing-model" aria-label="Permalink for Section 9."></a></div>
  

  <section id="thing-model-concept" class="normative"><div class="header-wrapper"><h3 id="x9-1-basic-concept"><bdi class="secno">9.1 </bdi>Basic Concept</h3><a class="self-link" href="#thing-model-concept" aria-label="Permalink for Section 9.1"></a></div>
    

    <p>
    The figure below illustrates the relation of the <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-13">Thing Model</a> and <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-23">Thing Description</a>. 
    A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-14">Thing Model</a> mainly describes interaction affordances such as the <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-10">Properties</a>, <a href="#dfn-action" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-action-4">Actions</a>, and <a href="#dfn-event" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-event-3">Events</a> and common metadata. 
    <span class="rfc2119-assertion" id="tm-derivation-validity">
    When a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-24">Thing Descriptions</a> is instantiated by relying on a Thing Model, it <em class="rfc2119">SHOULD</em> be valid according to that Thing Model.
    </span>
    This paradigm can be compared with abstract class or interface definition (~Thing Model) in object-oriented programming to create objects (~Thing Descriptions).
    </p>

  <figure id="thing-model-td">
    <img src="visualization/thing_model_td.png" alt="Thing Model and its relation to the Thing Description">
        <figcaption><a class="self-link" href="#thing-model-td">Figure <bdi class="figno">5</bdi></a> <span class="fig-title">
            Thing Model and its relation to the Thing Description.
        </span></figcaption>
    </figure>

    <p>
    The <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-15">Thing Model</a> is a logical description of the interface and possible interaction with <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-73">Thing</a>'s
    <a href="#dfn-property" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-property-11">Properties</a>, <a href="#dfn-action" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-action-5">Actions</a>, and <a href="#dfn-event" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-event-4">Events</a>, however it does not contain <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-74">Thing</a> instance-specific
    information, such as concrete protocol usage (e.g., IP address), or even a serial number and GPS location.
    However, Thing Models allows to include, e.g., security schemes if they apply to the entire class of instances the 
    model describes. They might have URLs (e.g., like token servers) that might need to be omitted or parameterized 
    (with templates) although in a lot of cases these might also be given. 
    </p>


    <p>
        <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-16">Thing Model</a> can be serialized in the same JSON-based format as a Thing Description which also allows JSON-LD processing. 
        Note that a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-17">Thing Model</a> cannot be validated in the same way as <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-25">Thing Description</a> instances due to some missing 
        mandatory terms. 
        This means that any term that is not using the placeholder type, still uses the types declared in 
        <a href="#sec-vocabulary-definition">TD Information Model</a>. 
        For example, the value of <code>minimum</code> needs to be an <code>integer</code>, unless a placeholder is used.
    </p>
    <p>
        You can use <a target="_blank" href="https://www.w3.org/2022/wot/tm-schema/v1.1">the JSON Schema</a> to validate TM instances that are serialized as JSON.
    </p>

  </section>
  <section id="thing-model-declaration" class="normative"><div class="header-wrapper"><h3 id="x9-2-thing-model-declaration"><bdi class="secno">9.2 </bdi>Thing Model Declaration</h3><a class="self-link" href="#thing-model-declaration" aria-label="Permalink for Section 9.2"></a></div>
    

    <p>
    A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-18">Thing Model</a> is recognized by the top level <code>@type</code>.
    <span class="rfc2119-assertion" id="tm-identification">
        <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-19">Thing Model</a> definitions <em class="rfc2119">MUST</em> use the keyword <code>@type</code> at top level 
        and a value of type string or array that equals or respectively contains <code>tm:ThingModel</code>.
    </span>
    <span class="rfc2119-assertion" id="tm-context-requirement">
        Additionally, in order to identify it as a JSON-LD document, <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-20">Thing Model</a> definitions <em class="rfc2119">MUST</em> use the keyword <code>@context</code> at top level with same rules as a Thing Description.
    </span>
    The prefix <code>tm</code> is defined within <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-26">Thing Descriptions</a>' context and points to the <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-21">Thing Model</a> namespace as 
    defined in <a href="#namespaces" class="sec-ref"><bdi class="secno">4. </bdi>Namespaces</a>. It is intended that vocabulary from the <code>tm</code> context only be used in <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-22">Thing Model</a>
    definitions and are removed or replaced when <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-27">Thing Descriptions</a> are generated (also see <a href="#thing-model-td-generation" class="sec-ref"><bdi class="secno">9.4 </bdi>Derivation of Thing Description Instances</a>).
    </p>
    <p>
        <span class="rfc2119-assertion" id="tm-protocol-security-restriction">
    A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-23">Thing Model</a> <em class="rfc2119">MAY</em> NOT contain instance specific <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-20">Protocol Binding</a> and security information such as endpoint addresses.
    </span>

    Consequently, <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-24">Thing Model</a> definitions will also be valid if there are no JSON members like <em>forms</em>, <em>base</em>, 
    <em>securityDefinitions</em>, and <em>security</em>. <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-25">Thing Models</a> are also valid even if these JSON members are used (e.g., as template), however,
    the nested mandatory members like <em>href</em> are omitted.
    </p>

    <p>    
    <a href="#td-model-example-lamp" class="box-ref">Example<bdi> 3</bdi></a> shows a valid sample lamp <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-26">Thing Model</a> without any protocol and security information.
    </p>
    

  </section>

    <section id="thing-model-tools" class="normative"><div class="header-wrapper"><h3 id="x9-3-modeling-tools"><bdi class="secno">9.3 </bdi>Modeling Tools</h3><a class="self-link" href="#thing-model-tools" aria-label="Permalink for Section 9.3"></a></div>
        

        <p>In the context of <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-27">Thing Model</a> definitions specific features are introduced that can be used for <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-75">Thing</a> modelling.</p>

    <section id="thing-model-versioning" class="normative"><div class="header-wrapper"><h4 id="x9-3-1-versioning"><bdi class="secno">9.3.1 </bdi>Versioning</h4><a class="self-link" href="#thing-model-versioning" aria-label="Permalink for Section 9.3.1"></a></div>
        
    
    <p>
        <span class="rfc2119-assertion" id="tm-versioning-1">
            When the <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-28">Thing Model</a> definitions change over time, this <em class="rfc2119">SHOULD</em> be reflected in the version container.
            </span>
        The string-based term <code>model</code> is used within the <code>version</code> container to 
        provide such versioning information, like [<cite><a class="bibref" data-link-type="biblio" href="#bib-semver" title="Semantic Versioning 2.0.0">SEMVER</a></cite>]. The following snippet shows the usage of <code>model</code> in a
        Thing Model instance. 
    </p>

    <div class="example" id="example-thing-model-versioning">
        <div class="marker">
    <a class="self-link" href="#example-thing-model-versioning">Example<bdi> 52</bdi></a><span class="example-title">: Thing Model versioning</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Lamp Thing Model"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp Thing Description Model"</span>,
    <span class="hljs-attr">"version"</span> : {<span class="hljs-attr">"model"</span>: <span class="hljs-string">"1.0.0"</span>},
    <span class="hljs-comment">// ...</span>
}</code></pre>
      </div>

    <p>
      <span class="rfc2119-assertion" id="tm-versioning-2">
          Due to the definition of <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-29">Thing Model</a> the term <code>instance</code> <em class="rfc2119">MUST</em> be omitted within the <code>version</code> container. 
      </span>
    </p>

    <p>

      When <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-30">Thing Models</a> are updated and have a new version, this may affect 
      other <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-31">Thing Models</a> that use the extension and import features (see Section <a href="#thing-model-extension-import" class="sec-ref"><bdi class="secno">9.3.2 </bdi>Extension and Import</a>). 
      In some cases it is also useful to reflect a new version in the file name and/or in a corresponding URL to identify the version.

    </p>

    </section>
    <section id="thing-model-extension-import" class="normative"><div class="header-wrapper"><h4 id="x9-3-2-extension-and-import"><bdi class="secno">9.3.2 </bdi>Extension and Import</h4><a class="self-link" href="#thing-model-extension-import" aria-label="Permalink for Section 9.3.2"></a></div>
        

    <p>
        A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-32">Thing Model</a> can extend an existing <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-33">Thing Model</a> by using the <code>tm:extends</code> mechanism announced in the <code>links</code> definition: 
     <span class="rfc2119-assertion" id="tm-extend">
        When a Thing Model extends another Thing Model, at least one <code>links</code> entry with <code>"rel": "tm:extends"</code> 
        that targets a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-34">Thing Model</a> that is be extended <em class="rfc2119">MUST</em> be used.
    </span>
    The <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-35">Thing Model</a> will inherit all definitions from the extended <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-36">Thing Model</a>. There is the opportunity 

    to extend the existing definition with further metadata by providing further JSON name-value pairs from the existing 
    TD information model (<a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a>) or using the context extension concept 
    (<a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a>). A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-37">Thing Model</a> can also overwrite existing definitions such as <code>title(s)</code> 
    and <code>maximum</code> etc.. For this there exist two limitations: 

    <span class="rfc2119-assertion" id="tm-overwrite-interaction">
        A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-38">Thing Model</a> <em class="rfc2119">SHOULD NOT</em> overwrite the JSON names defined within the  
        <code>properties</code>, <code>actions</code>, and/or <code>events</code> <a href="#dfn-map" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-map-47">Map</a> of the extended <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-39">Thing Model</a>.
    </span>
    <span class="rfc2119-assertion" id="tm-overwrite-types">
        Definitions <em class="rfc2119">SHOULD NOT</em> be overwritten in such a way that possible instance values are no longer valid compared to the origin extended definitions.
    </span>
    Those assertions preserve the semantics throughout of the extended <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-40">Thing Model</a>. 
    E.g., it is not allowed that a <code>"minimum":2 </code>  from a extended <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-41">Thing Model</a> can be overwritten with <code>"minimum":0</code>. 
    Meanwhile, overwriting with <code>"minimum":5 </code> would work since all instances values will always fulfill the restrictions of the extended <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-42">Thing Model</a> 
    (also see Figure <a href="#thing-model-overwriting" class="fig-ref" title="Overwriting behavior of Thing Models.">Figure <bdi class="">6</bdi></a> for further explanation).

    </p>

    <p>
       Lets assume we have a basic model description as provided in the following example:
    </p>

    <div class="example" id="td-model-example-basic-on-off">
        <div class="marker">
    <a class="self-link" href="#td-model-example-basic-on-off">Example<bdi> 53</bdi></a><span class="example-title">: Basic On/Off Thing Model Definition</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Basic On/Off Thing Model"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"onOff"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>
        }
    }
}</code></pre>
      </div>

    <p>Now a new device class model called 'Smart Lamp Control' that will be used as template 
        for creating TD instances is designed. This model will reuse the existing definition of the 'Basic On/Off Thing Model'
        and extend it with a <code>dim</code> property:
    </p>

    <div class="example" id="td-model-example-smart-lamp-control">
        <div class="marker">
    <a class="self-link" href="#td-model-example-smart-lamp-control">Example<bdi> 54</bdi></a><span class="example-title">: Smart Lamp Control Thing Model Definition</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Lamp Control with Dimming"</span>,
    <span class="hljs-attr">"links"</span> : [{
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"tm:extends"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/BasicOnOffTM"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
     }],
    <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"dim"</span> : {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Dimming level"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">100</span>
        }
   }
}</code></pre>
      </div>
    <p>
    Please note that the <code>title</code> is overwritten and will be used when TD instances are created (also see in the next subsection <a href="#thing-model-td-generation" class="sec-ref"><bdi class="secno">9.4 </bdi>Derivation of Thing Description Instances</a>).
    </p>

    <p>
    The <code>tm:extends</code> feature only permits inheriting all definitions of one <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-43">Thing Model</a>. In many use cases, however,
     it is desired only to import pieces of definitions of one or more existing <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-44">Thing Models</a>. 
     <span class="rfc2119-assertion" id="tm-tmRef-usecase">
     For importing pieces of definitions of one or more existing <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-45">Thing Models</a>, the <code>tm:ref</code> term is introduced that provides the location of an existing (sub-)definition that <em class="rfc2119">SHOULD</em> be reused.
    </span>
     <span class="rfc2119-assertion" id="tm-tmRef1">
     The <code>tm:ref</code> value <em class="rfc2119">MUST</em> follow the pattern that starts with the file location as URI [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>](Section 4.1)), followed by 
     <code>#</code> character, and followed by JSON Pointer [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>] definition.
    </span>
    Note that the URI can also be empty, indicating a same-document reference [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>](Section 4.4)).
    In this case, the <code>tm:ref</code> is supposed to be interpreted as a relative reference.
    <span class="rfc2119-assertion" id="tm-tmRef2">
        Every time <code>tm:ref</code> is used, the referenced pre-definition and its dependencies 
        (e.g., by context extension) <em class="rfc2119">MUST</em> be assumed at the new defined definition.
    </span>
    </p>

    <div class="note" role="note" id="issue-container-generatedID-10"><div role="heading" class="note-title marker" id="h-note-10" aria-level="5"><span>Note</span></div><p class="">
        Portions of the <code>tm:ref</code> value might contain non-ASCII characters that require URL ("percent") 
        encoding before use. Before applying escapes to a <code>tm:ref</code> value, implementations should check that the value is not already 
        encoded.
    </p></div>


    <p>
        The following example shows a new TM definition that imports the existing definition of the property 
        <code>onOff</code> from <a href="#td-model-example-basic-on-off" class="box-ref">Example<bdi> 53</bdi></a> into the new property definition 
        <code>switch</code>.
    </p>
    <div class="example" id="td-model-example-tmRef">
        <div class="marker">
    <a class="self-link" href="#td-model-example-tmRef">Example<bdi> 55</bdi></a><span class="example-title">: Smart Lamp Control imports existing definition</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Lamp Control"</span>,
    <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"switch"</span> : {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"http://example.com/BasicOnOffTM.tm.jsonld#/properties/onOff"</span>
        }
   }
}</code></pre>
      </div>

    <p>
        As an example for relative imports using <code>tm:ref</code>, the 
        following Thing Model re-uses and augments (see below) a 
        <code>genericTemperature</code> property in two more specific 
        properties, which describe an inner and an outer temperature value, 
        respectively.
    </p>

    <div class="example" id="td-model-example-relative-tmRef">
        <div class="marker">
    <a class="self-link" href="#td-model-example-relative-tmRef">Example<bdi> 56</bdi></a><span class="example-title">: Multi Sensor Thing Model re-using definitions with relative imports</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>, 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Multi Sensor"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"genericTemperature"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"C"</span>
        },
        <span class="hljs-attr">"innerTemperature"</span>: {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"#/properties/genericTemperature"</span>,
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"The inner temperature"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">10</span>
        },
        <span class="hljs-attr">"outerTemperature"</span>: {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"#/properties/genericTemperature"</span>,
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"The outer temperature"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The outer temperature is measured in Kelvin"</span>,
            <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"K"</span>
        }
    },
    <span class="hljs-attr">"tm:optional"</span>: [
        <span class="hljs-string">"/properties/genericTemperature"</span>
    ]
}</code></pre>
      </div>

    <p>
      At the place the "tm:ref" is defined, additional name-value pairs can be added. 
      It is also permitted to override name-value pairs from the referenced definition.  
        <span class="rfc2119-assertion" id="tm-tmRef-overwrite-possibility">
            If the intention is to override an existing JSON name-value pair definition from <code>tm:ref</code>, the same JSON name <em class="rfc2119">MUST</em> be used
            at the same level of the <code>tm:ref</code> declaration that provides a new value. 
        </span>
        <span class="rfc2119-assertion" id="tm-tmRef-overwrite-process">The process to overwrite <em class="rfc2119">MUST</em> follow the 
            JSON Merge Patch algorithm as defined in [RFC7396] where the content of the referenced definition is patched with the new provided JSON name-value pairs.
       </span>
    </p>
    <p>
       It is noted that the values can also be based on a JSON <code>object</code> or <code>array</code>, or simply be a <code>null</code> value. <code>null</code> would result 
       to a removal of existing JSON name-value pair in the target.
    </p>
    <p>
       <span class="rfc2119-assertion" id="tm-tmRef-overwrite-semantic-meaning">
        Similar to <code>tm:extends</code> and to keep the semantic meaning, definitions <em class="rfc2119">SHOULD NOT</em> be overwritten in such a way that possible 
        instance values are no longer valid compared to the origin referenced definition.
       </span>
    </p>

    <p>
        The following example shows a new TM definition that overwrites (<code>maximum</code>), enhances (<code>unit</code>), and removes (<code>title</code>) existing definitions from
         <a href="#td-model-example-smart-lamp-control" class="box-ref">Example<bdi> 54</bdi></a>. 
    </p>

    <div class="example" id="td-model-example-tmRef2">
        <div class="marker">
    <a class="self-link" href="#td-model-example-tmRef2">Example<bdi> 57</bdi></a><span class="example-title">: Smart Lamp Control extend and overwrite existing definitions</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Lamp Control"</span>,
    <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"dimming"</span> : {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"http://example.com/SmartLampControlwithDimming.tm.jsonld#/properties/dim"</span>,
            <span class="hljs-attr">"title"</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">80</span>,
            <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"%"</span>
        }
   }
}</code></pre>
      </div>

    <p>
        Based on the JSON Merge Patch algorithm the <code>{"title": null,"maximum": 80,"unit": "%"}</code> would act as a patch for the referenced origin content <code>{"title": "Dimming level",  "type": "integer", "minimum": 0, "maximum": 100}</code>.
    </p>
 
    <p>
        The <code>tm:extends</code> and the import mechanism based on <code>tm:ref</code> can also be used at the same time in 
        a TM definition. The following example extends the TM from <a href="#td-model-example-basic-on-off" class="box-ref">Example<bdi> 53</bdi></a> and imports
        the <code>status</code> and <code>dim</code> definitions from <a href="#td-model-example-lamp" class="box-ref">Example<bdi> 3</bdi></a> and 
        <a href="#td-model-example-smart-lamp-control" class="box-ref">Example<bdi> 54</bdi></a> respectively.
    </p>

    <div class="example" id="td-model-example-smart-lamp-control-extend-import">
        <div class="marker">
    <a class="self-link" href="#td-model-example-smart-lamp-control-extend-import">Example<bdi> 58</bdi></a><span class="example-title">: Smart Lamp Control Thing Model with extend and import mechanism</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Lamp Control"</span>,
    <span class="hljs-attr">"links"</span> : [{
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"extends"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/BasicOnOffTM"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
     }],
    <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"status"</span> : {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"http://example.com/LampTM.tm.jsonld#/properties/status"</span>
        },
        <span class="hljs-attr">"dimming"</span> : {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"http://example.com/LampWithDimmingTM.tm.jsonld#/properties/dim"</span>
        }
   }
}</code></pre>
      </div>

    <p>
        The <code>tm:extends</code> and the import mechanism based on <code>tm:ref</code> explicitly supports transitive extension (a hierarchy of extensions). 
        For example, assuming there are 3 TMs: "A" which defines a <code>tm:extends</code> of the TM "B" which itself defines a <code>tm:extends</code> of the TM "C".
        Consequently, the "A" TM extends all definitions of both "B" and "C".
        <span class="rfc2119-assertion" id="tm-ref-recursive-extensions">
        Recursive extensions leading to an infinite loop <em class="rfc2119">MUST NOT</em> be defined. 
        </span>
    </p>

    <p>
    The following figure summarizes the allowable override behaviour of the extension and imports TM functions presented in this section.
    Three <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-46">Thing Models</a> use the <code>tm:ref</code> or <code>tm:extends</code> feature to reuse TM definitions of the Smart Lamp Control <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-47">Thing Model</a>.
    The first <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-48">Thing Model</a> imports and overwrites the <code>maximum</code> value to <code>120</code> within the <code>dimmer</code> property. However, this results 
    in possible instance values (at runtime) that may not be in the range of the original <code>dim</code> definition between <code>0</code> and <code>100</code> of the dim definition of the Smart Lamp Control 
    Thing Model. Thus, such a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-49">Thing Model</a> definition is not allowed.  
     
     The second model overwrites the property <code>type</code> value by <code>number</code>. Again, this will potentially result in numeric <code>dim</code> values that are not
     accepted by the definition of the origin <code>dim</code> type definition (integer) of the Smart Lamp Control <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-50">Thing Model</a>.  

     The last model is defined in a correct way. The new ranges of <code>dim</code> produce potential instance values that are also fulfilled by the 
     original <code>dim</code> definition. 
    </p>

    <figure id="thing-model-overwriting">
        <img src="visualization/tm_overwriting.png" alt="Overwriting behavior">
            <figcaption><a class="self-link" href="#thing-model-overwriting">Figure <bdi class="figno">6</bdi></a> <span class="fig-title">
                Overwriting behavior of <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-51">Thing Models</a>.
            </span></figcaption>
        </figure>

</section>

<section id="thing-model-composition" class="normative"><div class="header-wrapper"><h4 id="x9-3-3-composition"><bdi class="secno">9.3.3 </bdi>Composition</h4><a class="self-link" href="#thing-model-composition" aria-label="Permalink for Section 9.3.3"></a></div>
    
<p>
In some applications, it is beneficial to reuse existing <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-52">Thing Model</a> definitions and compose them into a new IoT system. 
An example would be that a new Smart Ventilator is designed to consist of two sub/child <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-53">Thing Model</a> definitions such as 
a Ventilation <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-54">Thing Model</a> that provides <code>on/off</code> and <code>adjustRpm</code> capabilities, and an LED <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-55">Thing Model</a> that 
provides <code>dimmable</code> and <code>RGB</code> capabilities. 
</p>

<aside class="example ds-selector-tabs" id="example-59"><div class="marker">
    <a class="self-link" href="#example-59">Example<bdi> 59</bdi></a>
  </div><div class="marker">
    <span class="example-title">Top level/parent Smart Ventilator Thing Model </span>
     </div>
       <div class="selectors">
         <button class="selected exampleTab1 SmartVentilator" onclick="openTab('exampleTab1', 'SmartVentilator')">Smart Ventilator TM</button>
         <button class="exampleTab1 Ventilation" onclick="openTab('exampleTab1', 'Ventilation')">Ventilation TM</button>
         <button class="exampleTab1 LED" onclick="openTab('exampleTab1', 'LED')">LED TM</button>
       </div>
       <pre class="SmartVentilator exampleTab1 selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Ventilator Thing Model"</span>,
    <span class="hljs-attr">"version"</span> : { <span class="hljs-attr">"model"</span>: <span class="hljs-string">"1.0.0"</span> },
    <span class="hljs-attr">"links"</span>: [
      {
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"tm:submodel"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./Ventilation.tm.jsonld"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>,
        <span class="hljs-attr">"instanceName"</span>: <span class="hljs-string">"ventilation"</span>
      },
      {
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"tm:submodel"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./LED.tm.jsonld"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>,
        <span class="hljs-attr">"instanceName"</span>: <span class="hljs-string">"led"</span>
      }
    ],
    <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"status"</span> : {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>, <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"on_value"</span>, <span class="hljs-string">"off_value"</span>, <span class="hljs-string">"error_value"</span>]}
    }
  }</code></pre>
       <pre class="Ventilation exampleTab1" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Ventilator Thing Model"</span>,
    <span class="hljs-attr">"version"</span>: {
        <span class="hljs-attr">"model"</span>: <span class="hljs-string">"1.0.0"</span>
    },
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"switch"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"True=On; False=Off"</span>
        },
        <span class="hljs-attr">"adjustRpm"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">1200</span>
        }
    }
}</code></pre>
       <pre class="LED exampleTab1" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"LED Thing Model"</span>,
    <span class="hljs-attr">"version"</span>: {
        <span class="hljs-attr">"model"</span>: <span class="hljs-string">"1.0.0"</span>
    },
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"R"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Red color"</span>
        },
        <span class="hljs-attr">"G"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Green color"</span>
        },
        <span class="hljs-attr">"B"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Blue color"</span>
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"fadeIn"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"fadeIn"</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"fadeIn in ms"</span>
            }
        },
        <span class="hljs-attr">"fadeOut"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"fadeOut"</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"fadeOut in ms"</span>
            }
        }
    }
}</code></pre>
     </aside>


<p>
    Such composition can be introduced by the usage of the <code>links</code> container. 
    <span class="rfc2119-assertion" id="tm-compose-submodel">
        If it is desired to provide information that a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-56">Thing Model</a> consists of one or more (sub-)<a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-57">Thing Models</a>, the <code>links</code> entries <em class="rfc2119">MUST</em> use the <code>"rel": "tm:submodel"</code> 
        that targets to the (sub-) <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-58">Thing Models</a>.
    </span>
    <span class="rfc2119-assertion" id="tm-compose-instanceName">
        Optionally an <code>instanceName</code> <em class="rfc2119">MAY</em> be provided to associate an individual name to the composed (sub-) <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-59">Thing Model</a>.
    </span> 
    This is useful when multiple similar <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-60">Thing Model</a> definitions are composed and needs to be distinguished. 
</p>


<p>
    Different strategies can be followed to generate <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-28">Thing Descriptions</a> from composed <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-61">Thing Model</a> definitions. The default recommendation is to generate from each
     parent and sub/child <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-62">Thing Model</a> a corresponding <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-29">Thing Descriptions</a> (also see <a href="#thing-model-td-generation" class="sec-ref"><bdi class="secno">9.4 </bdi>Derivation of Thing Description Instances</a>). 
   The composition relation can be reflected by the <code>collection</code> and <code>item</code> relation types in the links container of the 
   <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-30">Thing Descriptions</a>. An example based on Smart Ventilation is given here:   
</p>


<aside class="example ds-selector-tabs" id="example-60"><div class="marker">
    <a class="self-link" href="#example-60">Example<bdi> 60</bdi></a>
  </div><div class="marker">
    <span class="example-title">Thing Descriptions of the Smart Ventilator</span>
     </div>
       <div class="selectors">
         <button class="selected exampleTab1 SmartVentilator" onclick="openTab('exampleTab1', 'SmartVentilator')">Top level Smart Ventilator TD</button>
         <button class="exampleTab1 Ventilation" onclick="openTab('exampleTab1', 'Ventilation')">Ventilation TD</button>
         <button class="exampleTab1 LED" onclick="openTab('exampleTab1', 'LED')">LED TD</button>
       </div>
       <pre class="SmartVentilator exampleTab1 selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Ventilator"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"links"</span>: [
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"item"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./Ventilation.td.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/td+json"</span>
        },
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"item"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./LED.td.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/td+json"</span>
        },
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"type"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./SmartVentilator.tm.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
        }
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"enum"</span>: [
                <span class="hljs-string">"on_value"</span>,
                <span class="hljs-string">"off_value"</span>,
                <span class="hljs-string">"error_value"</span>
            ],
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.232:4563/status"</span>
                }
            ]
        }
    }
}</code></pre>
       <pre class="Ventilation exampleTab1" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Ventilator"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"links"</span>: [
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"collection"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./SmartVentilation.td.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/td+json"</span>
        },
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"type"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./Ventilation.tm.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
        }
    ],
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"switch"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"True=On; False=Off"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.212:4563/switch"</span>
                }
            ]
        },
        <span class="hljs-attr">"adjustRpm"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">1200</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.212:4563/adjustRpm"</span>
                }
            ]
        }
    }
}</code></pre>
       <pre class="LED exampleTab1" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"LED Thing Model"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"links"</span>: [
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"collection"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./SmartVentilation.td.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/td+json"</span>
        },
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"type"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./LED.tm.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
        }
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"R"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Red color"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/R"</span>
                }
            ]
        },
        <span class="hljs-attr">"G"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Green color"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/G"</span>
                }
            ]
        },
        <span class="hljs-attr">"B"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Blue color"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/B"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"fadeIn"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"fadeIn"</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"fadeIn in ms"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/fadeIn"</span>
                }
            ]
        },
        <span class="hljs-attr">"fadeOut"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"fadeOut"</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"fadeOut in ms"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/fadeOut"</span>
                }
            ]
        }
    }
}</code></pre>
     </aside>



<p>
    A single TD can also be generated which contains the interaction definitions of the top level/parent
    <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-63">Thing Model</a> and all interaction definitions of all sub/child <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-64">Thing Models</a>. 
    <span class="rfc2119-assertion" id="tm-compose-name-collision">
        Thereby the generation process <em class="rfc2119">MUST</em> avoid possible name collisions. 
    </span> 
    The following example shows a potential generated (self-contained) <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-31">Thing Description</a> of the 
    Smart Ventilator Thing Model. </p>

<div class="example" id="example-self-contained-td-of-the-smart-ventilator-tm">
        <div class="marker">
    <a class="self-link" href="#example-self-contained-td-of-the-smart-ventilator-tm">Example<bdi> 61</bdi></a><span class="example-title">: Self-contained TD of the Smart Ventilator TM</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Ventilator"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"links"</span>: [
        {
            <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"type"</span>,
            <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./SmartVentilator.tm.jsonld"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
        }
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"enum"</span>: [
                <span class="hljs-string">"on_value"</span>,
                <span class="hljs-string">"off_value"</span>,
                <span class="hljs-string">"error_value"</span>
            ],
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.232:4563/status"</span>
                }
            ]
        },
        <span class="hljs-attr">"switch"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"True=On; False=Off"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.212:4563/switch"</span>
                }
            ]
        },
        <span class="hljs-attr">"adjustRpm"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">1200</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.212:4563/adjustRpm"</span>
                }
            ]
        },
        <span class="hljs-attr">"R"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Red color"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/R"</span>
                }
            ]
        },
        <span class="hljs-attr">"G"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Green color"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/G"</span>
                }
            ]
        },
        <span class="hljs-attr">"B"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Blue color"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/B"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"fadeIn"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"fadeIn"</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"fadeIn in ms"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/fadeIn"</span>
                }
            ]
        },
        <span class="hljs-attr">"fadeOut"</span>: {
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"fadeOut"</span>,
            <span class="hljs-attr">"input"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"fadeOut in ms"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://127.0.13.211:4563/fadeOut"</span>
                }
            ]
        }
    }
}</code></pre>
      </div>

</section>

  <section id="thing-model-td-optional" class="normative"><div class="header-wrapper"><h4 id="x9-3-4-tm-optional"><bdi class="secno">9.3.4 </bdi>tm:optional</h4><a class="self-link" href="#thing-model-td-optional" aria-label="Permalink for Section 9.3.4"></a></div>
    


  <p>    
    In some cases it is desirable to not enforce which interaction affordances are mandatory and do not necessarily need to be implemented in a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-32">Thing Description</a> instance. 

    <span class="rfc2119-assertion" id="tm-tmOptional">
        If interaction models are not mandatory to be implemented in a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-33">Thing Description</a> instance, <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-65">Thing Model</a> definitions <em class="rfc2119">MUST</em> use 
        the JSON member name <code>tm:optional</code>. 
    </span>
    <span class="rfc2119-assertion" id="tm-tmOptional-array">
        <code>tm:optional</code> <em class="rfc2119">MUST</em> be a JSON array at the top level. 
    </span>
    <span class="rfc2119-assertion" id="tm-tmOptional-JSONPointer">
        The value of <code>tm:optional</code> <em class="rfc2119">MUST</em> provide JSON Pointer [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>] references to the required interaction model 
        definitions. 
    </span>
    <span class="rfc2119-assertion" id="tm-tmOptional-resolver">
        The JSON Pointers of <code>tm:optional</code> <em class="rfc2119">MUST</em> resolve to an entire interaction affordance Map 
        definition.
    </span>
</p>

<p>    
The following sample shows the usage of <code>tm:optional</code> for the <a href="#dfn-event" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-event-5">Event</a> interaction <code>overheating</code>. 
</p>

<div class="example" id="example-thing-model-with-the-tm-optional-term-for-interaction-affordances">
        <div class="marker">
    <a class="self-link" href="#example-thing-model-with-the-tm-optional-term-for-interaction-affordances">Example<bdi> 62</bdi></a><span class="example-title">: Thing Model with the tm:optional term for interaction affordances.</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Lamp Thing Model"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp Thing Model Description"</span>,
    <span class="hljs-attr">"tm:optional"</span>: [
        <span class="hljs-string">"/events/overheating"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"current status of the lamp (on|off)"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Turn the lamp on or off"</span>
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
            <span class="hljs-attr">"data"</span>: {<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>}
        }
    }
}</code></pre>
      </div>
    
<p>
Since the <a href="#dfn-event" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-event-6">Event</a> <code>overheating</code> is not mandatory it may not be available in a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-34">Thing Description</a> 
instance.
</p>

<p>Please note that an optional definition in a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-66">Thing Model</a> definition can be overwritten in the case it is extended by another <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-67">Thing Model</a> through the use of <code>tm:ref</code>:
  </p>

  <div class="example" id="example-thing-model-overwrites-tm-optional-of-the-previous-thing-model-example">
        <div class="marker">
    <a class="self-link" href="#example-thing-model-overwrites-tm-optional-of-the-previous-thing-model-example">Example<bdi> 63</bdi></a><span class="example-title">: Thing Model overwrites tm:optional of the previous Thing Model example.</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Lamp Thing Model (All Mandatory)"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp Thing Model description expects all interaction affordances (status, toggle, and overheating)"</span>,
    <span class="hljs-attr">"links"</span>: [
       {
          <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"tm:extends"</span>,
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"./lampThingModel.tm.jsonld"</span>,
          <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
       }
    ],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"tm:ref"</span>: <span class="hljs-string">"./lampThingModel.tm.jsonld#/events/overheating"</span> 
        }
    }
}</code></pre>
      </div>

</section>

<section id="thing-model-td-placeholder" class="normative"><div class="header-wrapper"><h4 id="x9-3-5-placeholder"><bdi class="secno">9.3.5 </bdi>Placeholder</h4><a class="self-link" href="#thing-model-td-placeholder" aria-label="Permalink for Section 9.3.5"></a></div>
    

<p>
    A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-68">Thing Model</a> can specify which terms should be used in a TD instance, but their values are unspecific and are first known during TD instantiation. 
    <span class="rfc2119-assertion" id="tm-placeholder-usecase">
        In a case where TD instance terms, but not their values, are known in advance, the placeholder labeling <em class="rfc2119">MAY</em> be used in a Thing Model.
    </span>
    <span class="rfc2119-assertion" id="tm-placeholder-replacement">
        The placeholder labeling <em class="rfc2119">MUST</em> be substituted with a concrete value (e.g., as JSON number, JSON string, JSON object, etc) when TD instance is created from the Thing Model. 
    </span>
    <span class="rfc2119-assertion" id="tm-placeholder">
        The string-based pattern of the placeholder <em class="rfc2119">MUST</em> follow a valid pattern based on the regular expression <code>{{2}[ -~]+}{2}</code> (e.g., <code>{{</code><code>PLACEHOLDER_IDENTIFIER</code><code>}}</code>). 
        The characters between <code>{{</code> and <code>}}</code> are used as identifier name of the placeholder. The identifier name can be used to identify the placeholder for the substitution process.
    </span>
    <span class="rfc2119-assertion" id="tm-placeholder-value">
        A placeholder <em class="rfc2119">MUST</em> be applied within the value of the JSON name-value pair. 
    </span>  
    <span class="rfc2119-assertion" id="tm-placeholder-retyping">
        If a non string-based value of a JSON name-value pair has a placeholder, the value <em class="rfc2119">MUST</em> be (temporarily) typed as string. 
    </span>
    
    After replacing the placeholder, e.g. when creating a Thing Description instance, the original type is applied with the 
    corresponding replaced value.  
    
          
</p>

<p>
    The following Thing Model example defines different placeholders. The placeholder map is used to apply the replacement and to
    transform the intended value type.    
</p>

<aside class="example ds-selector-tabs" id="example-64"><div class="marker">
    <a class="self-link" href="#example-64">Example<bdi> 64</bdi></a>
  </div><div class="marker">
 <span class="example-title">Thing Description generation from Thing Model</span>
  </div>
    <div class="selectors">
      <button class="selected exampleTab1 thingmodel" onclick="openTab('exampleTab1', 'thingmodel')">Thing Model</button>
      <button class="exampleTab1 placeholder" onclick="openTab('exampleTab1', 'placeholder')">Placeholder Map</button>
      <button class="exampleTab1 thingdescription" onclick="openTab('exampleTab1', 'thingdescription')">Thing Description</button>
    </div>
    <pre class="selected thingmodel exampleTab1" aria-busy="false"><code class="hljs json">{
	<span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
	<span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
	<span class="hljs-attr">"title"</span>: <span class="hljs-string">"Thermostate No. {{THERMOSTATE_NUMBER}}"</span>,
	<span class="hljs-attr">"version"</span>: <span class="hljs-string">"{{VERSION_INFO}}"</span>,
	<span class="hljs-attr">"base"</span>: <span class="hljs-string">"mqtt://{{MQTT_BROKER_ADDRESS}}"</span>,
	<span class="hljs-attr">"properties"</span>: {
		<span class="hljs-attr">"temperature"</span>: {
			<span class="hljs-attr">"description"</span>: <span class="hljs-string">"Shows the current temperature value"</span>,
			<span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
			<span class="hljs-attr">"minimum"</span>: <span class="hljs-number">-20</span>,
			<span class="hljs-attr">"maximum"</span>: <span class="hljs-string">"{{THERMOSTATE_TEMPERATURE_MAXIMUM}}"</span>,
			<span class="hljs-attr">"observable"</span>: <span class="hljs-string">"{{THERMOSTATE_TEMPERATURE_OBSERVABLE}}"</span>
		}
	}
	...
}</code></pre>
    <pre class="placeholder exampleTab1" aria-busy="false"><code class="hljs json">{
	<span class="hljs-attr">"THERMOSTATE_NUMBER"</span>: <span class="hljs-number">4</span>, 
	<span class="hljs-attr">"MQTT_BROKER_ADDRESS"</span>: <span class="hljs-string">"192.168.178.72:1883"</span>,
	<span class="hljs-attr">"THERMOSTATE_TEMPERATURE_MAXIMUM"</span>: <span class="hljs-number">47.7</span>, 
	<span class="hljs-attr">"THERMOSTATE_TEMPERATURE_OBSERVABLE"</span>: <span class="hljs-literal">true</span>,
	<span class="hljs-attr">"VERSION_INFO"</span>: {<span class="hljs-attr">"instance"</span>: <span class="hljs-string">"1.0.1"</span>, <span class="hljs-attr">"model"</span>: <span class="hljs-string">"2.0.0"</span>}
}</code></pre>
    <pre class="thingdescription exampleTab1" aria-busy="false"><code class="hljs json">{
	<span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
	<span class="hljs-attr">"@type"</span>: <span class="hljs-string">"Thing"</span>,
	<span class="hljs-attr">"title"</span>: <span class="hljs-string">"Thermostate No. 4"</span>,
	<span class="hljs-attr">"version"</span>: {<span class="hljs-attr">"instance"</span>: <span class="hljs-string">"1.0.1"</span>, <span class="hljs-attr">"model"</span>: <span class="hljs-string">"2.0.0"</span>},
	<span class="hljs-attr">"base"</span>: <span class="hljs-string">"mqtt://192.168.178.72:1883"</span>,
	<span class="hljs-attr">"properties"</span>: {
		<span class="hljs-attr">"temperature"</span>: {
			<span class="hljs-attr">"description"</span>: <span class="hljs-string">"Shows the current temperature value"</span>,
			<span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
			<span class="hljs-attr">"minimum"</span>: <span class="hljs-number">-20.0</span>,
			<span class="hljs-attr">"maximum"</span>: <span class="hljs-number">47.7</span>,
			<span class="hljs-attr">"observable"</span>: <span class="hljs-literal">true</span>
		}
	}
	...
}</code></pre>
  </aside>

  </section>



  
  </section>

  <section id="thing-model-td-generation" class="normative"><div class="header-wrapper"><h3 id="x9-4-derivation-of-thing-description-instances"><bdi class="secno">9.4 </bdi>Derivation of Thing Description Instances</h3><a class="self-link" href="#thing-model-td-generation" aria-label="Permalink for Section 9.4"></a></div>
    

    <p>
      <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-69">Thing Models</a> can be used as templates to generate a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-35">Thing Description</a> based on the restrictions defined in 
      Sections <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a> and <a href="#sec-td-serialization" class="sec-ref"><bdi class="secno">6. </bdi>TD Representation Format</a>. During this process 
      missing data such as communication and security metadata have to be complemented to create valid <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-36">Thing Description</a> instances.
      <span class="rfc2119-assertion" id="tm-td-generation-inconsistencies">
          A <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-70">Thing Model</a> <em class="rfc2119">MUST</em> be defined in such a way that there are no inconsistencies that would result in a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-37">Thing Description</a> not 
          being able to meet the requirements as described in Section <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a> and <a href="#sec-td-serialization" class="sec-ref"><bdi class="secno">6. </bdi>TD Representation Format</a>.
      </span>
          A TM-to-TD generator to derive a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-38">Thing Description</a> instance from a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-71">Thing Model</a> transforms it to a <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-1">Partial TD</a> using the
          following steps:
    </p>
      <ul>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-imports"> Copy all definitions from the input <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-72">Thing Model</a> to the resulting <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-2">Partial TD</a> instance. If used, the extension and imports
        feature <em class="rfc2119">MUST</em> be resolved and represented in the <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-3">Partial TD</a> instance according to <a href="#thing-model-extension-import" class="sec-ref"><bdi class="secno">9.3.2 </bdi>Extension and Import</a>.</span></li>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-extends"> If used, <code>links</code> element entry with <code>"rel":"tm:extends"</code> <em class="rfc2119">MUST</em> be removed from the current <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-4">Partial TD</a></span></li>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-type">The <code>tm:ThingModel</code> value of the top-level <code>@type</code> <em class="rfc2119">MUST</em> be removed in the <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-5">Partial TD</a> instance.</span></li>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-required">All required interactions (not listed in <code>tm:optional</code>) <em class="rfc2119">MUST</em> be taken over to the <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-6">Partial TD</a> instance.</span> </li>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-optional"> All optional interactions (listed in <code>tm:optional</code>) <em class="rfc2119">MAY</em> be taken over to the <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-7">Partial TD</a> instance. </span></li>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-placeholder">If used, all placeholders (see Section <a href="#thing-model-td-placeholder" class="sec-ref"><bdi class="secno">9.3.5 </bdi>Placeholder</a>) in the <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-73">Thing Model</a> <em class="rfc2119">MUST</em> be replaced with a valid corresponding value in the <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-8">Partial TD</a>.</span></li>
    </ul>
    <p>
      Finally, a TM-to-TD generator will take the resulting <a href="#dfn-partial-td" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-partial-td-9">Partial TD</a> and transform it into a <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-39">Thing Description</a> with this last step
    </p>
    <ul>
        <li> <span class="rfc2119-assertion" id="thing-model-td-generation-processor-forms">Missing communication and/or security metadata details <em class="rfc2119">MUST</em> be completed in the <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-40">Thing Description</a> instance based on Section <a href="#security-serialization-json" class="sec-ref"><bdi class="secno">6.3.4 </bdi><code>securityDefinitions</code> and <code>security</code></a> and/or <a href="#form-serialization-json" class="sec-ref"><bdi class="secno">6.3.9 </bdi><code>forms</code></a>.</span></li>

    </ul>
  
    <p>It is recommended that the <code>id</code> value of a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-74">Thing Model</a> provides a placeholder such as <code>"id": "urn:example:</code><code>{{</code><code>RANDOM_ID_PATTERN</code><code>}}</code><code>"</code> for the TD generation process.
    Please avoid including metadata in the <code>id</code> pattern.
    </p>
      
    <p><a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-41">Thing Description</a> instances that follow a <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-75">Thing Model</a> can carry the information regarding which type of <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-76">Thing Model</a> is derived. In this context, the linking concept can be used with <code>"rel": "type"</code> (also see
          Section <a href="#link" class="sec-ref"><bdi class="secno">5.3.4.1 </bdi><code>Link</code></a>), as shown in the following example: 
      </p>

      <aside class="example ds-selector-tabs" id="example-65"><div class="marker">
    <a class="self-link" href="#example-65">Example<bdi> 65</bdi></a>
  </div><div class="marker">
        <span class="example-title">Linking Thing Description to a Thing Model Definition</span>
         </div>
           <div class="selectors">
             <button class="selected exampleTab2 thingmodel" onclick="openTab('exampleTab2', 'thingmodel')">Thing Model</button>
             <button class="exampleTab2 thingdescription" onclick="openTab('exampleTab2', 'thingdescription')">Thing Description</button>
           </div>
           <pre class="selected exampleTab2 thingmodel" aria-busy="false"><code class="hljs json">{
	<span class="hljs-comment">// ...</span>
	<span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
	<span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Pump"</span>,
	<span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:example:{{RANDOM_ID_PATTERN}}"</span>,
	<span class="hljs-attr">"description"</span>: <span class="hljs-string">"Smart Pump live plant and simulator"</span>,
	<span class="hljs-attr">"version"</span> : {<span class="hljs-attr">"model"</span> : <span class="hljs-string">"1.0.0"</span> },
	<span class="hljs-comment">// ...</span>
}</code></pre>
        <pre class="exampleTab2 thingdescription" aria-busy="false"><code class="hljs json">{
	<span class="hljs-comment">// ...</span>
	<span class="hljs-attr">"@type"</span>: <span class="hljs-string">"Thing"</span>,
	<span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Pump"</span>,
	<span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:example:123-321-123-321"</span>,
	<span class="hljs-attr">"description"</span>: <span class="hljs-string">"Smart Pump live plant and simulator"</span>,
	<span class="hljs-attr">"version"</span> : {<span class="hljs-attr">"instance"</span>: <span class="hljs-string">"1.0.0"</span>, <span class="hljs-attr">"model"</span>: <span class="hljs-string">"1.0.0"</span> },
	<span class="hljs-attr">"links"</span> : [{
		<span class="hljs-attr">"rel"</span>: <span class="hljs-string">"type"</span>,
		<span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/ThingModelPool/Pump"</span>,
		<span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
	}],
	<span class="hljs-comment">// ...</span>
}</code></pre>
        </aside>

         <p>Please note that a TD can only be an instance of one TM at a time. 
             That means for Thing Descriptions:
         <span class="rfc2119-assertion" id="tm-rel-type-maximum">
            The <code>links</code> array <em class="rfc2119">MUST</em> use the entry with <code>"rel": "type"</code> a maximum of once.</span> 
        If it is desired to reflect all relationships to other Things in a Thing Description, the composition mechanism in TMs can be considered (see Section <a href="#thing-model-composition" class="sec-ref"><bdi class="secno">9.3.3 </bdi>Composition</a>). 
    </p>

    

</section>


<section id="thing-model-td-generation-examples" class="normative"><div class="header-wrapper"><h3 id="x9-5-examples"><bdi class="secno">9.5 </bdi>Examples</h3><a class="self-link" href="#thing-model-td-generation-examples" aria-label="Permalink for Section 9.5"></a></div>
    

    <p>
        The following <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-77">Thing Model</a> extends the model as shown in <a href="#td-model-example-smart-lamp-control" class="box-ref">Example<bdi> 54</bdi></a> and 
        overwrites the <code>maximum</code> value of the <code>dim</code> property  
    </p>

    <div class="example" id="example-extending-smart-control-lamp-with-a-modified-dim-constrained">
        <div class="marker">
    <a class="self-link" href="#example-extending-smart-control-lamp-with-a-modified-dim-constrained">Example<bdi> 66</bdi></a><span class="example-title">: Extending Smart Control Lamp with a modified dim constrained</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"tm:ThingModel"</span>,
    <span class="hljs-attr">"links"</span> : [{
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"tm:extends"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://example.com/SmartControlLampTM"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
     }],
    <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"dim"</span> : {
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">200</span>
        }
   }
}</code></pre>
      </div>

    <p>The expected <a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-description-42">Thing Description</a> that is derived from this <a href="#dfn-thing-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-model-78">Thing Model</a> would be (with HTTP Binding and basic security applied):</p>

    <div class="example" id="example-thing-description">
        <div class="marker">
    <a class="self-link" href="#example-thing-description">Example<bdi> 67</bdi></a><span class="example-title">: Thing Description</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>], 
    <span class="hljs-attr">"@type"</span>: <span class="hljs-string">"Thing"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Smart Lamp Control"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"basic"</span>, <span class="hljs-attr">"in"</span>: <span class="hljs-string">"header"</span>}
    },
    <span class="hljs-attr">"security"</span>: <span class="hljs-string">"basic_sc"</span>,
    <span class="hljs-attr">"links"</span> : [{
        <span class="hljs-attr">"rel"</span>: <span class="hljs-string">"type"</span>,
        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"url/to/SmartLampControlModifiedDimTM"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"application/tm+json"</span>
     }
   ],
   <span class="hljs-attr">"properties"</span> : {
        <span class="hljs-attr">"onOff"</span>: {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://smartlamp.example.com/onoff"</span>}]
        },
        <span class="hljs-attr">"dim"</span> : {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">"forms"</span>: [{<span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://smartlamp.example.com/dim"</span>}]
        }
   }
}</code></pre>
      </div>
  </section>
</section>

<section id="sec-security-consideration"><div class="header-wrapper"><h2 id="x10-security-considerations"><bdi class="secno">10. </bdi>Security Considerations</h2><a class="self-link" href="#sec-security-consideration" aria-label="Permalink for Section 10."></a></div>
  
  <p>
  In general the security measures taken to protect a WoT 
  system will depend on the threats and attackers that system
  may face and the value of the assets that need to be protected.
  A detailed discussion of security (and privacy) considerations for the Web of Things,
  including a threat model that can be adapted to various circumstances, is
  presented in the informative document [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-security-guidelines" title="Web of Things (WoT) Security and Privacy Guidelines">WOT-SECURITY-GUIDELINES</a></cite>].  
  Many WoT Things are similar to and use the same technologies as web services.
  In addition to the specific security considerations below,
  the security risks and mitigations discussed in
  guides such as the OWASP Top 10 [<cite><a class="bibref" data-link-type="biblio" href="#bib-owasp-top-10" title="OWASP Top Ten">OWASP-Top-10</a></cite>] for web services should be
  evaluated, and if applicable, addressed.
  This section discusses only security risks
  and possible mitigations directly relevant to the WoT Thing Description.
  </p>
  <p>A WoT Thing Description can describe both secure and 
  insecure network interfaces.  When a Thing Description is 
  retro-fitted to an existing network interface, no change in the 
  security status of the network interface is to be expected.
  </p>
  <p>The use of a WoT Thing Description introduces  
  the security risks given in the following sections.
  After each risk, we suggest some possible mitigations.
  </p>
   <section id="sec-security-consideration-TD-tampering"><div class="header-wrapper"><h3 id="x10-1-td-interception-and-tampering"><bdi class="secno">10.1 </bdi>TD Interception and Tampering</h3><a class="self-link" href="#sec-security-consideration-TD-tampering" aria-label="Permalink for Section 10.1"></a></div>
   
      <p>Intercepting and tampering with TDs can be used to launch man-in-the-middle attacks,
      for example by rewriting URLs in TDs to redirect accesses to a malicious 
      intermediary that can capture or manipulate data.
      </p>
      <dl><dt>Mitigation:</dt><dd>
	  <span class="rfc2119-assertion" id="security-mutual-auth-td">
          Thing Descriptions <em class="rfc2119">SHOULD</em> be obtained only through
          mutually authenticated secure channels.
	  </span>
          Mutual authentication
	  ensures that the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-23">Consumer</a> and the TD provider are both sure of the
          identity of the other party to the communication.
	  However, mutual authentication also can be used to identify the 
	  Consumer, which may be undesirable in some cases (privacy risk).
	  <span class="rfc2119-assertion" id="security-server-auth-td">
	  In cases where the Consumer is associated
	  with a person, e.g. browsers, TDs <em class="rfc2119">MAY</em> be obtained
	  through a channel where only the TD provider is authenticated.
	  </span>
      </dd></dl>
   </section>
   <section id="sec-security-consideration-context-tampering"><div class="header-wrapper"><h3 id="x10-2-context-interception-and-tampering"><bdi class="secno">10.2 </bdi>Context Interception and Tampering</h3><a class="self-link" href="#sec-security-consideration-context-tampering" aria-label="Permalink for Section 10.2"></a></div>
   
      <p>Intercepting and tampering with context definition
      files can be used to facilitate attacks
      by modifying the interpretation of vocabulary. 
      Context extensions 
      (see <a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a>)
      that are loaded from the Web over non-secure connections,
      such as HTTP, run the risk of being altered by an attacker, and
      may modify the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-23">TD Information Model</a> in ways that could
      compromise security.
      </p>
      <p>
      As recommended in 
      <a href="#sec-privacy-consideration-context" class="sec-ref"><bdi class="secno">11.1 </bdi>Context Fetching</a>, 
      on constrained implementations 
      context definition files should be pre-installed and managed
      using a secure software
      update process and the context URLs only used to identify
      known contexts, not to fetch them.
      This consideration therefore applies only when fetching context definition
      files dynamically is otherwise unavoidable, for example in a directory
      service supporting general semantic processing.
      </p>
      <dl><dt>Mitigation:</dt><dd>
	      Ideally context definition files would only be obtained through secure
	      channels established by mutual authentication
	      but it is notable (and unfortunate) that many contexts are indicated using
	      "plain" HTTP URLs.  
	      However, the HTTP protocol is vulnerable to interception and modification if 
	      used without first establishing a secure transport channel using TLS. 
	      
	      If it is necessary to fetch a context definition file,
	      an implementation should first attempt to use HTTP over TLS 
	      even when only an HTTP URL is given.
	      
      </dd></dl>
   </section>
   <section id="security-consideration-access-duration"><div class="header-wrapper"><h3 id="x10-3-limited-duration-accesses"><bdi class="secno">10.3 </bdi>Limited Duration Accesses</h3><a class="self-link" href="#security-consideration-access-duration" aria-label="Permalink for Section 10.3"></a></div>
      
      <p>
      In some scenarios,
      it may be desirable to limit the scope and duration of
      access to a set of Things by some users.
      For example, if A is visiting B's house, B may
      want to provide A with temporary and limited access to the garage door opener and
      car charger so A can use them.
      The scope however may be limited so that A cannot access
      certain administrative functions of these Things (for example, to change how long
      the garage door can remain open, or to change the charging rate).
      In addition, the access should expire after A is expected to have left,
      e.g. after one week.
      </p>
      <dl>
	<dt>Mitigations:</dt>
	<dd>
	<span class="rfc2119-assertion" id="security-oauth-limits">
	To limit the scope and duration of access to Things, tokens <em class="rfc2119">SHOULD</em>
	be used to manage access.
	</span>
	Note that this includes mechanisms such as OAuth2, which provide
	for token generation flows where verifying the authentication and 
	authorization of a user is handled by a separate token provider 
	service.
	Token provider services (which could be managed directly 
	by the Thing's administrator if
	appropriate or desired for privacy) can
	provide limited duration tokens and use scopes to limit access.
	Scopes can limit access to specific interactions but
	are not sufficient to limit duration.
	See [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc9200" title="Authentication and Authorization for Constrained Environments Using the OAuth 2.0 Framework (ACE-OAuth)">RFC9200</a></cite>].
	</dd>
     </dl>
   </section>
   <section id="sec-security-consideration-vulnerability-auditing"><div class="header-wrapper"><h3 id="x10-4-vulnerability-auditing"><bdi class="secno">10.4 </bdi>Vulnerability Auditing</h3><a class="self-link" href="#sec-security-consideration-vulnerability-auditing" aria-label="Permalink for Section 10.4"></a></div>
   
      <p>An attacker with access to a set of TDs, for example those returned by
      WoT Discovery, may be able to use this information to identify vulnerable devices
      and plan attacks on them.
      </p>
      <dl><dt>Mitigation:</dt><dd>
	      Deployers of IoT systems can use the same information to audit their IoT systems
	      and ensure that vulnerable systems are adequately protected (if necessary
	      by external means such as transport security and/or segmented networks) or hardened.
	      It is also possible to not make the TDs for known-vulnerable systems available
	      via discovery.  This is, however, not a recommended
	      approach since security by obscurity is a poor defence: an attacker can still
	      discover the system by other means, even if the TD has limited distribution.
	      The definition of "vulnerable" however depends on the context 
	      in which the information is made available, and to whom it is made available to.
	      Ideally, only those with the rights to access the Things
	      described by TDs should get access to those TDs.
	      <span class="rfc2119-assertion" id="sec-vuln-auto">
	      The <code>auto</code> security scheme <em class="rfc2119">MAY</em> be used if vulnerability
	      scanning is a concern.</span>
      </dd></dl>
   </section>
   <section id="sec-security-consideration-script-injection"><div class="header-wrapper"><h3 id="x10-5-script-injection"><bdi class="secno">10.5 </bdi>Script Injection</h3><a class="self-link" href="#sec-security-consideration-script-injection" aria-label="Permalink for Section 10.5"></a></div>
   
   <p>Many strings given in TDs, in particular the values carried in 
      <code>title</code>/<code>titles</code>
      and 
      <code>description</code>/<code>descriptions</code>, 
      are meant to be human-readable.  
      An application may take
      such strings and use them to generate a user interface, 
      for example, a web dashboard listing a set of
      available Things with their titles and descriptions. 
      If such an interface is naively generated using
      string substitution, for example inserting the values of these strings into
      marked places in a HTML template to create final HTML, any HTML 
      markup in the original string will be interpreted in the context
      of the browser displaying the dashboard.  
      It is possible for an attacker to embed scripts in HTML in
      various ways and have these scripts executed upon user interaction or even automatically (e.g. upon
      page load, or upon an error, which can be done intentionally).  
      Since the string will be 
      generated by the TD <a href="#dfn-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-producer-5">producer</a> and the dashboard will be generated by a different origin,
      this is a form of cross-site-scripting (XSS) attack.
      </p>
      <dl><dt>Mitigation:</dt><dd>
	      Strings sourced from TDs should be treated like any other source of external string
	      when generating HTML: with care. 
        As a matter of policy, it is strongly suggested that 
        strings sourced from TDs either be sanitized using a carefully vetted HTML 
        sanitizer that disables any markup or be inserted into an HTML template using 
        DOM node manipulation APIs that will escape any markup.
	      It is also possible that strings sourced from TDs could be used to generate documents
	      in other markup languages, such as MD files or XML.  
	      Such usages should take equivalent
	      precautions to ensure that string values are sanitized before insertion in a template.
	      Unfortunately such sanitization also will disable any HTML markup included for
	      internationalization purposes, 
	      for example to set the initial direction of text rendering in 
	      bidirectional text.  
	      <span class="rfc2119-assertion" id="sec-inj-no-intl-markup">
	      HTML markup <em class="rfc2119">SHOULD NOT</em> be used for internationalization purposes in TD strings.
	      </span>

      </dd></dl>
   </section>
   <section id="sec-security-consideration-execution"><div class="header-wrapper"><h3 id="x10-6-json-parsing"><bdi class="secno">10.6 </bdi>JSON Parsing</h3><a class="self-link" href="#sec-security-consideration-execution" aria-label="Permalink for Section 10.6"></a></div>
      
      <p>
      See <a href="https://datatracker.ietf.org/doc/html/rfc8259#section-12">RFC&nbsp;8259, section 12</a>: JSON should not be parsed as JavaScript using <code>eval()</code>.
      A WoT Thing Description is intended to be a pure data exchange format for
      <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-76">Thing</a> metadata, not for holding executable content.
      An (invalid) TD may, however, contain JavaScript code that,
      when executed, could have side effects compromising the security of a system.
      </p><dl>
	<dt>Mitigation:</dt>
	<dd><span class="rfc2119-assertion" id="security-no-execution">
        A WoT Thing Description JSON-LD serialization <em class="rfc2119">MUST NOT</em> be passed through a
        code execution mechanism such as JavaScript's <code>eval()</code>
        function to be parsed.
	</span></dd>
     </dl>
     <div class="note" role="note" id="issue-container-generatedID-11"><div role="heading" class="note-title marker" id="h-note-11" aria-level="4"><span>Note</span><span class="issue-label">: Other Injection Risks</span></div><p class="">
     There are additional code injection risks discussed in
     [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-discovery" title="Web of Things (WoT) Discovery">WOT-DISCOVERY</a></cite>]. Other strings in TDs, such as the values given for
     <code>title</code> and <code>description</code>, should be sanitized before being
     used in templates for SQL, HTML, or other executable contexts.
     This risk, however, is specifically about the Javascript injection risk
     when parsing JSON.
     </p></div>
  </section>
   <section id="sec-security-consideration-jsonld-expansion"><div class="header-wrapper"><h3 id="x10-7-json-ld-expansion"><bdi class="secno">10.7 </bdi>JSON-LD Expansion</h3><a class="self-link" href="#sec-security-consideration-jsonld-expansion" aria-label="Permalink for Section 10.7"></a></div>
      
      <p>
      JSON-LD processing usually includes the replacement of short terms with
      longer IRIs [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3987" title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>].
      For this reason, WoT Thing Descriptions may expand considerably when processed using
      a JSON-LD 1.1 processor and, in the worst case, the resulting data
      might consume all of the recipient's resources or cause an exploitable
      buffer overflow.
      </p><dl>
	<dt>Mitigation:</dt>
	<dd>
          <span class="rfc2119-assertion" id="security-jsonld-expansion">
          <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-24">Consumers</a> <em class="rfc2119">SHOULD</em> 
	  set and enforce limits on
	  memory usage to prevent buffer overflow and resource exhaustion
	  during JSON-LD processing.
          </span>
        </dd>
     </dl>
  </section>
</section>
<section id="sec-privacy-consideration"><div class="header-wrapper"><h2 id="x11-privacy-considerations"><bdi class="secno">11. </bdi>Privacy Considerations</h2><a class="self-link" href="#sec-privacy-consideration" aria-label="Permalink for Section 11."></a></div>
  
  <p>
  Privacy risks will depend on the association of 
  Things with identifiable people and both the direct information and 
  the inferred information available from such an association.
  A detailed discussion of privacy (and security) considerations for the Web of Things,
  including a threat model that can be adapted to various circumstances, is
  presented in the informative document [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-security-guidelines" title="Web of Things (WoT) Security and Privacy Guidelines">WOT-SECURITY-GUIDELINES</a></cite>].  
  This section discusses only privacy risks
  and possible mitigations directly relevant to the WoT Thing Description.
  </p>
  <p>The use of a WoT Thing Description introduces  
  the privacy risks given in the following sections.
  After each risk, we suggest some possible mitigations.
  </p>
  <section id="sec-privacy-consideration-context"><div class="header-wrapper"><h3 id="x11-1-context-fetching"><bdi class="secno">11.1 </bdi>Context Fetching</h3><a class="self-link" href="#sec-privacy-consideration-context" aria-label="Permalink for Section 11.1"></a></div>
  
        <p>
          WoT Thing Descriptions can be evaluated with a 
	  JSON-LD 1.1 processor [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>],
          which typically follows links to remote contexts (i.e., TD context
          extensions, see <a href="#sec-context-extensions" class="sec-ref"><bdi class="secno">7. </bdi>TD Context Extensions</a>)
          automatically, resulting in the transfer of files
          without the explicit request of the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-25">Consumer</a> for each one. 
	  If remote
          contexts are served by third parties, it may allow them to gather
          usage patterns or similar information leading to disclosure
	  of private information, or information that can be used to infer
	  private information.
          In the case of the WoT, an attacker can also observe the network
          traffic produced by such fetches and can use the metadata
          of the fetch, such as the destination IP address,
          to infer information about the device, 
	  especially if domain-specific vocabularies are used.  
	  This is a risk even if the connection
          is encrypted, and is related to DNS privacy leaks.
	  See also <a href="#sec-security-consideration-context-tampering" class="sec-ref"><bdi class="secno">10.2 </bdi>Context Interception and Tampering</a>,
	  which is a related security risk which can also be avoided with the
	  following mitigations.
      </p><dl>
	<dt>Mitigation:</dt>
	<dd>
          Implementations on resource-constrained devices are expected
          to perform raw JSON processing (as opposed to JSON-LD processing)
	  and support only a limited set of domain-specific extensions.
	  The set of supported extensions can be established by a 
	  WoT Profile [<cite><a class="bibref" data-link-type="biblio" href="#bib-wot-profile" title="Web of Things (WoT) Profile">WOT-PROFILE</a></cite>], for example.
	  <span class="rfc2119-assertion" id="security-static-context">
          Constrained implementations <em class="rfc2119">SHOULD</em> use vetted
          versions of their supported context extensions 
          managed statically or as part of a secure update process.</span>
	  <span class="rfc2119-assertion" id="security-remote-context">
          Constrained implementations <em class="rfc2119">SHOULD NOT</em> follow links to remote contexts.
	  </span>
	  In this case the URLs are used only to identify extensions,
	  not to fetch their definitions.
        </dd>
     </dl>
   </section>
   <section id="sec-privacy-consideration-id"><div class="header-wrapper"><h3 id="x11-2-immutable-identifiers"><bdi class="secno">11.2 </bdi>Immutable Identifiers</h3><a class="self-link" href="#sec-privacy-consideration-id" aria-label="Permalink for Section 11.2"></a></div>
   
      <p>A Thing Description containing an identifier (<code>id</code>) may
         describe a Thing that is associated with an identifiable
         person.  Such identifiers pose various risks including tracking.
         However, if the identifier is also immutable, then the 
         tracking risk is amplified, since a device
         may be sold or given to another person and the known ID used to 
         track that person.
      </p>
      <dl><dt>Mitigation:</dt><dd>
        <p>
	  <span class="rfc2119-assertion" id="privacy-mutable-identifiers">
          All identifiers used in a TD <em class="rfc2119">SHOULD</em> be mutable,
          and in particular there <em class="rfc2119">SHOULD</em> be a mechanism to update the <code>id</code>
          of a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-77">Thing</a> when necessary.
	  </span>
          Specifically,
          the <code>id</code> of a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-78">Thing</a> should not be fixed in hardware.
          This does, however, conflict with the Linked Data ideal that
          identifiers are fixed URIs.  
          However, as a matter of policy, it is strongly suggested that deployments 
          update identifiers upon major changes in configuration or reinitialization.
          Examples of major changes in configuration include moving a Thing to a new
          local area network, assigning a new domain name,
          or unregistering the Thing from one hub and registering it with a new
          one.  Generally, changes in configuration indicating a potential change
          in ownership should result in a new identifier being created.
          If more frequent changes are desired during 
          the operational phase of a device,
          a mechanism can be put into place to notify only authorized users
          of the change in identifier when a change is made.
          Note however that some classes of devices, e.g., medical devices,
          may require immutable IDs by law in some jurisdictions.
          
          Ideally, any required immutable identifiers should only be 
          made available via affordances, such as a property, whose value can
          only be obtained after appropriate authentication and
          authorization, and managed separately from the TD identifier.
          
          If it is necessary to use an immutable identifier as the TD identifier, 
          extra attention should be paid to secure 
          access to files, such as Thing Descriptions, containing such
          immutable identifiers.
          </p>
          </dd></dl>
   </section>
   <section id="sec-privacy-consideration-fingerprint"><div class="header-wrapper"><h3 id="x11-3-fingerprinting"><bdi class="secno">11.3 </bdi>Fingerprinting</h3><a class="self-link" href="#sec-privacy-consideration-fingerprint" aria-label="Permalink for Section 11.3"></a></div>
   
      <p>As noted above, the <code>id</code> member in a TD can pose a privacy risk.  
      However, even if the <code>id</code> is updated as described to mitigate its
      tracking risk, it may still be possible to associate
      a TD with a particular physical device, and from there to an identifiable person, 
      through fingerprinting.
      </p>
      <p>Even if a specific device instance cannot be identified through fingerprinting,
      it may be possible to infer the type of a device from the information in the TD, such
      as the set of interactions, and use this type to infer private information about an
      identifiable person, such as a medical condition.
      </p>
      <dl><dt>Mitigation:</dt><dd>
	  <span class="rfc2119-assertion" id="privacy-auth-users-only">
          Only authorized users <em class="rfc2119">SHOULD</em> be provided access
          to the Thing Description for a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-79">Thing</a>.
	  </span>
	  <span class="rfc2119-assertion" id="privacy-essential-metadata-only">
	  Only the amount of
          information needed for the level of authorization and the use case 
	  <em class="rfc2119">SHOULD</em> be provided in a TD.
	  </span>
          If the TD is only distributed to authorized users 
          through secure and confidential channels, for
          example through a directory service that requires authentication,
          then external unauthorized parties will not have access to the TD to fingerprint it.
          To further mitigate this risk, information not necessary for a particular
          use case of a TD should be omitted whenever possible.  For example,
          for an ad-hoc connection to a device where the Consumer does 
          not store state about the Thing, the <code>id</code> can be omitted.
          If the Consumer does not need certain interactions for its use case, 
	  they can be omitted.
          If the Consumer is not authorized to use certain interactions, 
	  they can likewise be omitted.
	  
      </dd></dl>
   </section>
   <section id="sec-privacy-consideration-id-metadata"><div class="header-wrapper"><h3 id="x11-4-id-metadata"><bdi class="secno">11.4 </bdi>ID Metadata</h3><a class="self-link" href="#sec-privacy-consideration-id-metadata" aria-label="Permalink for Section 11.4"></a></div>
   
      <p>The value of the <code>id</code> field of a TD might become available to 
      entities that do not have access to the full TD.  If the value of the <code>id</code>
      contains embedded metadata, such as the type of the device or the owner, this 
      could be used to infer personal information.
      </p>
      <dl><dt>Mitigation:</dt><dd>
	  <span class="rfc2119-assertion" id="privacy-id-metadata">
	  The value of the <code>id</code> of a TD <em class="rfc2119">SHOULD NOT</em> contain metadata
	  describing the Thing or from the TD itself.
	  </span>
	  <span class="rfc2119-assertion" id="privacy-temp-id-metadata">
          Any temporary ID generated to manage TDs, for example an ID for a database 
	  or directory service, <em class="rfc2119">SHOULD NOT</em> contain metadata 
	  describing the Thing or from the TD itself.
	  </span>
	  Using random UUIDs as recommended in 
	  <a href="#sec-privacy-consideration-global-id-risk" class="sec-ref"><bdi class="secno">11.5 </bdi>Globally Unique Identifiers</a> also mitigates this
	  risk.
      </dd></dl>
   </section>
   <section id="sec-privacy-consideration-global-id-risk"><div class="header-wrapper"><h3 id="x11-5-globally-unique-identifiers"><bdi class="secno">11.5 </bdi>Globally Unique Identifiers</h3><a class="self-link" href="#sec-privacy-consideration-global-id-risk" aria-label="Permalink for Section 11.5"></a></div>
   
      <p>Globally unique identifiers pose a privacy risk if a centralized authority is needed to
      create and distribute them, since then a third party has knowledge of the identifiers.
      </p>
      <dl><dt>Mitigation:</dt><dd>
          The <code>id</code> field in TDs is intentionally not required to be globally unique.
          There are several cryptographic mechanisms (e.g. random UUIDs) available to generate suitable IDs in a 
          distributed fashion that do
          not require a central registry.  These mechanisms typically have a very low probability
          of generating duplicate identifiers, and this needs to be taken into account in the system
          design; for example, by detecting duplicates and regenerating IDs when necessary.
          The scope of IDs also does not need to be global: it is acceptable to use identifiers
          that only distinguish Things in a certain context, such as within a home or factory.
	  <span class="rfc2119-assertion" id="privacy-distributed-ids">
          TD identifiers <em class="rfc2119">SHOULD</em> be generated using a distributed mechanism such as UUIDs
	  that provides a high probability of uniqueness.
	  </span>
	  <span class="rfc2119-assertion" id="privacy-centralized-ids">
          TD identifiers <em class="rfc2119">SHOULD NOT</em> be generated using a centralized authority.
	  </span>
      </dd></dl>
   </section>
   <section id="sec-privacy-consideration-inferencing"><div class="header-wrapper"><h3 id="x11-6-inferencing-of-personally-identifiable-information"><bdi class="secno">11.6 </bdi>Inferencing of Personally Identifiable Information</h3><a class="self-link" href="#sec-privacy-consideration-inferencing" aria-label="Permalink for Section 11.6"></a></div>
   
      <p>In many locales, in order to protect the privacy of users,
      there are legal requirements for the handling of
      personally identifiable information,
      that is,
      information that can be associated with a particular person.
      Such information can of course be generated by IoT devices directly.
      However,
      the existence and metadata of IoT devices
      (the kind of data stored in a Thing Description)
      can also contain or be used to infer personally identifiable information.
      This information can be as simple as the fact that a certain person owns a certain
      type of device,
      which can lead to additional inferences about that person.
      </p>
      <dl><dt>Mitigation:</dt><dd>
          As a matter of policy, it is strongly suggested that 
          Thing Descriptions associated with  
          personal devices be treated as if they contained 
          personally identifiable information, even if this information is not explicit.
          As an example application of this principle,
          consider how to obtain user consent.  
          Consent for usage of personally identifiable data
          generated by a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-80">Thing</a> is often obtained when a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-81">Thing</a> is paired with system
          consuming the data,
          which is frequently also when the Thing Description
          is registered with a local directory or the system consuming the 
          Thing Description in order to access the device.
          In this case, consent for using data from a <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-82">Thing</a> can be combined with
          consent for accessing the Thing Description of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-83">Thing</a>.
          As a second example, if we consider a TD to contain personally
          identifiable information, then it should not be retained indefinitely
          or used for purposes other than those for which consent was given.
      </dd></dl>
   </section>
</section>

<section id="iana-section" class="normative"><div class="header-wrapper"><h2 id="x12-iana-considerations"><bdi class="secno">12. </bdi>IANA Considerations</h2><a class="self-link" href="#iana-section" aria-label="Permalink for Section 12."></a></div>
 
  
    <section id="media-type-section"><div class="header-wrapper"><h3 id="x12-1-application-td-json-media-type-registration"><bdi class="secno">12.1 </bdi><code>application/td+json</code> Media Type Registration</h3><a class="self-link" href="#media-type-section" aria-label="Permalink for Section 12.1"></a></div>
    
    <dl>
      <dt>Type name:</dt>
      <dd>application</dd>
      <dt>Subtype name:</dt>
      <dd>td+json</dd>
      <dt>Required parameters:</dt>
      <dd>None</dd>
      <dt>Optional parameters:</dt>
      <dd>None</dd>
      <dt>Encoding considerations:</dt>
      <dd>See <a href="https://datatracker.ietf.org/doc/html/rfc6839#section-3.1">RFC&nbsp;6839, section 3.1</a>.
      </dd>
      <dt>Security considerations:</dt>
      <dd>See 
      <a href="#sec-security-consideration-context-tampering" class="sec-ref"><bdi class="secno">10.2 </bdi>Context Interception and Tampering</a>,
      <a href="#sec-security-consideration-execution" class="sec-ref"><bdi class="secno">10.6 </bdi>JSON Parsing</a>, 
      <a href="#sec-security-consideration-jsonld-expansion" class="sec-ref"><bdi class="secno">10.7 </bdi>JSON-LD Expansion</a>,
      and
      <a href="#sec-privacy-consideration-context" class="sec-ref"><bdi class="secno">11.1 </bdi>Context Fetching</a> in
      the published specification.
      </dd>
      <dt>Interoperability considerations:</dt>
      <dd>See <a href="https://datatracker.ietf.org/doc/html/rfc8259">RFC&nbsp;8259</a>.
        <p>
        Rules for processing both conforming and non-conforming content are
        defined in this specification.
        </p>
      </dd>
      <dt>Published specification:</dt>
      <dd>
        <a href="https://www.w3.org/TR/wot-thing-description11/"><abbr title="World Wide Web Consortium">W3C</abbr> 
        Web of Things (WoT) Thing Description 1.1: 
        https://www.w3.org/TR/wot-thing-description11/</a>
        </dd>
      <dt>Applications that use this media type:</dt>
      <dd>
        All participating entities in the <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things, that is,
        <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-84">Things</a>, <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-26">Consumers</a>, and Intermediaries as defined in the
        <a href="https://www.w3.org/TR/wot-architecture11/"><abbr title="World Wide Web Consortium">W3C</abbr> 
	Web of Things (WoT) Architecture 1.1:
        https://www.w3.org/TR/wot-architecture11/ 
	</a> document.
      </dd>
      <dt>Fragment identifier considerations:</dt>
      <dd>See <a href="https://datatracker.ietf.org/doc/html/rfc6839#section-3.1">RFC&nbsp;6839, section 3.1</a>.
      </dd>
      <dt>Additional information:</dt>
      <dd>
        <dl>
          <dt>Magic number(s):</dt>
          <dd>Not Applicable</dd>
          <dt>File extension(s):</dt>
          <dd>.jsontd
        <div class="note" role="note" id="issue-container-generatedID-12"><div role="heading" class="note-title marker" id="h-note-12" aria-level="4"><span>Note</span><span class="issue-label">: Other Extensions</span></div><p class="">
            Please look at the current IANA registration; in the future .td.json and .td.jsonld may also be allowed.
        </p></div>
	  </dd>
          <dt>Macintosh file type code(s):</dt>
          <dd>TEXT</dd>
        </dl>
      </dd>
      <dt>Person &amp; email address to contact for further information:</dt>
      <dd>Matthias Kovatsch &lt;w3c@kovatsch.net&gt;
      </dd>
      <dt>Intended usage:</dt>
      <dd>COMMON</dd>
      <dt>Restrictions on usage:</dt>
      <dd>None</dd>
      <dt>Author(s):</dt>
      <dd>The Web of Things (WoT) Thing Description specification is a product of the Web of Things Working Group.</dd>
      <dt>Change controller:</dt>
      <dd><abbr title="World Wide Web Consortium">W3C</abbr></dd>
    </dl>
    </section>

    <section id="media-type-section-tm"><div class="header-wrapper"><h3 id="x12-2-application-tm-json-media-type-registration"><bdi class="secno">12.2 </bdi><code>application/tm+json</code> Media Type Registration</h3><a class="self-link" href="#media-type-section-tm" aria-label="Permalink for Section 12.2"></a></div>
        
        <dl>
          <dt>Type name:</dt>
          <dd>application</dd>
          <dt>Subtype name:</dt>
          <dd>tm+json</dd>
          <dt>Required parameters:</dt>
          <dd>None</dd>
          <dt>Optional parameters:</dt>
          <dd>None</dd>
          <dt>Encoding considerations:</dt>
          <dd>See <a href="https://datatracker.ietf.org/doc/html/rfc6839#section-3.1">RFC&nbsp;6839, section 3.1</a>.
          </dd>
          <dt>Security considerations:</dt>
          <dd>See 
          <a href="#sec-security-consideration-context-tampering" class="sec-ref"><bdi class="secno">10.2 </bdi>Context Interception and Tampering</a>,
          <a href="#sec-security-consideration-execution" class="sec-ref"><bdi class="secno">10.6 </bdi>JSON Parsing</a>, 
          <a href="#sec-security-consideration-jsonld-expansion" class="sec-ref"><bdi class="secno">10.7 </bdi>JSON-LD Expansion</a>,
          and
          <a href="#sec-privacy-consideration-context" class="sec-ref"><bdi class="secno">11.1 </bdi>Context Fetching</a> in
          the published specification.
          </dd>
          <dt>Interoperability considerations:</dt>
          <dd>See <a href="https://datatracker.ietf.org/doc/html/rfc8259">RFC&nbsp;8259</a>.
            <p>
            Rules for processing both conforming and non-conforming content are
            defined in this specification.
            </p>
          </dd>
          <dt>Published specification:</dt>
          <dd>
            <a href="https://www.w3.org/TR/wot-thing-description11/"><abbr title="World Wide Web Consortium">W3C</abbr> 
            Web of Things (WoT) Thing Description 1.1</a>
         </dd>
          <dt>Applications that use this media type:</dt>
          <dd>
            All participating entities in the <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things, that is,
            <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-85">Things</a>, <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-27">Consumers</a>, and Intermediaries as defined in the
            <a href="https://www.w3.org/TR/wot-architecture11/"><abbr title="World Wide Web Consortium">W3C</abbr> 
        Web of Things (WoT) Architecture 1.1</a> document.
          </dd>
          <dt>Fragment identifier considerations:</dt>
          <dd>See RFC&nbsp;6901, <a href="https://www.rfc-editor.org/rfc/rfc6901#section-3">section 3</a> and <a href="https://www.rfc-editor.org/rfc/rfc6901#section-6">section 6</a>. 
            Note that reserved characters may be percent encoded.
          </dd>
          <dt>Additional information:</dt>
          <dd>
            <dl>
              <dt>Magic number(s):</dt>
              <dd>Not Applicable</dd>
              <dt>File extension(s):</dt>
              <dd>.jsontm, .tm.json, .tm.jsonld (preferred file extension)</dd>
              <dt>Macintosh file type code(s):</dt>
              <dd>TEXT</dd>
            </dl>
          </dd>
          <dt>Person &amp; email address to contact for further information:</dt>
          <dd>Sebastian.Kaebisch@siemens.com
          </dd>
          <dt>Intended usage:</dt>
          <dd>COMMON</dd>
          <dt>Restrictions on usage:</dt>
          <dd>None</dd>
          <dt>Author(s):</dt>
          <dd>The Web of Things (WoT) Thing Description specification is a product of the Web of Things Working Group.</dd>
          <dt>Change controller:</dt>
          <dd><abbr title="World Wide Web Consortium">W3C</abbr></dd>
        </dl>
        </section>

    <section id="content-format-section"><div class="header-wrapper"><h3 id="x12-3-coap-content-format-registration"><bdi class="secno">12.3 </bdi>CoAP Content-Format Registration</h3><a class="self-link" href="#content-format-section" aria-label="Permalink for Section 12.3"></a></div>
    
    <p>
      IANA assigns compact CoAP Content-Format IDs for media types in the
      <a href="https://www.iana.org/assignments/core-parameters/core-parameters.xhtml#content-formats">CoAP Content-Formats</a>
      subregistry within the
      <a href="https://www.iana.org/assignments/core-parameters/core-parameters.xhtml">Constrained RESTful Environments (CoRE) Parameters</a>
      registry [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7252" title="The Constrained Application Protocol (CoAP)">RFC7252</a></cite>].
      The Content-Format ID for WoT Thing Description is 432 and for the WoT Thing Model is - (tbd).
    </p>
        <section id="wot-thing-description"><div class="header-wrapper"><h4 id="x12-3-1-wot-thing-description"><bdi class="secno">12.3.1 </bdi>WoT Thing Description</h4><a class="self-link" href="#wot-thing-description" aria-label="Permalink for Section 12.3.1"></a></div>
            
            <dl>
                <dt>Media Type:</dt>
                <dd>application/td+json</dd>
                <dt>Encoding:</dt>
                <dd>-</dd>
                <dt>ID:</dt>
                <dd>432</dd>
                <dt>Reference:</dt>
                <dd>[<a href="https://w3c.github.io/wot-thing-description/">"Web of Things (WoT) Thing Description 1.1", April 2022</a>]</dd>
            </dl>
        </section>

        <section id="wot-thing-model"><div class="header-wrapper"><h4 id="x12-3-2-wot-thing-model"><bdi class="secno">12.3.2 </bdi>WoT Thing Model</h4><a class="self-link" href="#wot-thing-model" aria-label="Permalink for Section 12.3.2"></a></div>
            
        <dl>
            <dt>Media Type:</dt>
            <dd>application/tm+json</dd>
            <dt>Encoding:</dt>
            <dd>-</dd>
            <dt>ID:</dt>
            <dd>433</dd>
            <dt>Reference:</dt>
            <dd>[<a href="https://w3c.github.io/wot-thing-description/">"Web of Things (WoT) Thing Description 1.1", April 2022</a>]</dd>
        </dl>
        </section>

    </section>
  </section>

  <section id="example-serialization" class="appendix informative"><div class="header-wrapper"><h2 id="a-example-thing-description-instances"><bdi class="secno">A. </bdi>Example Thing Description Instances</h2><a class="self-link" href="#example-serialization" aria-label="Permalink for Appendix A."></a></div><p><em>This section is non-normative.</em></p>
    
  
    <section id="myLampThing-example-serialization"><div class="header-wrapper"><h3 id="a-1-mylampthing-example-with-coap-protocol-binding"><bdi class="secno">A.1 </bdi>MyLampThing Example with CoAP Protocol Binding</h3><a class="self-link" href="#myLampThing-example-serialization" aria-label="Permalink for Appendix A.1"></a></div>
    
  
    <p>Feature list of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-86">Thing</a>:</p>
  
    <ul>
        <li>Title: MyLampThing</li>
        <li>Context Extensions: none</li>
        <li>Offered affordances: 1 Property, 1 Action, 1 Event</li>
        <li>Security: PSKSecurityScheme</li>
        <li>Protocol Binding: CoAP [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7252" title="The Constrained Application Protocol (CoAP)">RFC7252</a></cite>] over TLS</li>
        <li>Comment: Also see <a href="#adding-protocol-bindings" class="sec-ref"><bdi class="secno">7.2 </bdi>Adding Protocol Bindings</a>.</li>
    </ul>
  
  <aside class="example with-default" id="example-68"><div class="marker">
    <a class="self-link" href="#example-68">Example<bdi> 68</bdi></a>
  </div>
    <div class="marker">
      <span class="example-title">MyLampThing with CoAP Protocol Binding</span>
    </div>
    <div class="with-default-control">
      <input type="checkbox">
      <span><i>with Default Values</i></span>
    </div>
    <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"cov"</span>: <span class="hljs-string">"http://www.example.org/coap-binding#"</span>
        }
    ],
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:bd472149-0b41-4dc9-80c0-977f39dc7e77"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"MyLampThing uses JSON serialization"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"psk_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"psk"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"psk_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Shows the current status of the lamp"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>:<span class="hljs-literal">true</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/status"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Turn on or off the lamp"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/toggle"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/oh"</span>,
                    <span class="hljs-attr">"cov:methodName"</span>: <span class="hljs-string">"GET"</span>,
                    <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"cov:observe"</span>
                }
            ]
        }
    }
}</code></pre>
    <pre class="selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
        {
            <span class="hljs-attr">"cov"</span>: <span class="hljs-string">"http://www.example.org/coap-binding#"</span>
        }
    ],
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:bd472149-0b41-4dc9-80c0-977f39dc7e77"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"MyLampThing uses JSON serialization"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"psk_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"psk"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"psk_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Shows the current status of the lamp"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"readproperty"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/status"</span>,
                    <span class="hljs-attr">"cov:methodName"</span>: <span class="hljs-string">"GET"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>
                }
            ],
            <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Turn on or off the lamp"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/toggle"</span>,
                    <span class="hljs-attr">"cov:methodName"</span>: <span class="hljs-string">"POST"</span>,
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"invokeaction"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>
                }
            ],
            <span class="hljs-attr">"safe"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"idempotent"</span>: <span class="hljs-literal">false</span>
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"coaps://mylamp.example.com/oh"</span>,
                    <span class="hljs-attr">"subprotocol"</span>: <span class="hljs-string">"cov:observe"</span>,
                    <span class="hljs-attr">"op"</span>: [
                        <span class="hljs-string">"subscribeevent"</span>,
                        <span class="hljs-string">"unsubscribeevent"</span>
                    ],
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>
                }
            ]
        }
    }
}</code></pre>
  </aside>

  </section>
  
  <section id="myLightSensor-example-serialization"><div class="header-wrapper"><h3 id="a-2-myilluminancesensor-example-with-mqtt-protocol-binding"><bdi class="secno">A.2 </bdi>MyIlluminanceSensor Example with MQTT Protocol Binding</h3><a class="self-link" href="#myLightSensor-example-serialization" aria-label="Permalink for Appendix A.2"></a></div>
    
  
    <p>Feature list of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-87">Thing</a>:</p>
  
    <ul>
        <li>Title: MyIlluminanceSensor</li>
        <li>Context Extensions: none</li>
        <li>Offered affordances: 1 Event</li>
        <li>Security: none</li>
        <li>Protocol Binding: MQTT [<cite><a class="bibref" data-link-type="biblio" href="#bib-mqtt" title="MQTT Version 3.1.1">MQTT</a></cite>]</li>
        <li>Comment: An MQTT client frequently publishes the illuminance data (number is serialized in text format) to 
            the topic <code>/illuminance</code> by the MQTT broker running behind the address <code>192.168.1.187:1883</code>.</li>
    </ul>
  <aside class="example with-default" id="example-69"><div class="marker">
    <a class="self-link" href="#example-69">Example<bdi> 69</bdi></a>
  </div>
    <div class="marker">
      <span class="example-title">MyIlluminanceSensor with MQTT Protocol Binding</span>
    </div>
    <div class="with-default-control">
      <input type="checkbox">
      <span><i>with Default Values</i></span>
    </div>
    <pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyIlluminanceSensor"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:9489991a-7622-45b6-8437-f858b59835d4"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"nosec_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"nosec_sc"</span>
    ],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"illuminance"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://192.168.1.187:1883/illuminance"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"text/plain"</span>
                }
            ]
        }
    }
}</code></pre>
    <pre class="selected" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"MyIlluminanceSensor"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:9489991a-7622-45b6-8437-f858b59835d4"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"nosec_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"nosec_sc"</span>
    ],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"illuminance"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://192.168.1.187:1883/illuminance"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"text/plain"</span>,
                    <span class="hljs-attr">"op"</span>:[<span class="hljs-string">"subscribeevent"</span>,<span class="hljs-string">"unsubscribeevent"</span>]
                }
            ]
        }
    }
}</code></pre>
  </aside>
  </section>
  
  
  <section id="webhook-example-serialization"><div class="header-wrapper"><h3 id="a-3-webhook-event-example"><bdi class="secno">A.3 </bdi>Webhook Event Example</h3><a class="self-link" href="#webhook-example-serialization" aria-label="Permalink for Appendix A.3"></a></div>
    
  
    <p>Feature list of the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-88">Thing</a>:</p>
  
    <ul>
        <li>Title: WebhookThing</li>
        <li>Context Extensions: use HTTP <a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-protocol-binding-21">Protocol Binding</a> supplements (htv prefix already included in TD context)</li>
        <li>Offered affordances: 1 Event</li>
        <li>Security: none</li>
        <li>Protocol Binding: HTTP</li>
        <li>Comment: <i>WebhookThing</i> provides an Event affordance <code>temperature</code>
            which periodically pushes the latest temperature value to the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-28">Consumer</a> using a Webhook mechanism,
            where the <a href="#dfn-thing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-thing-89">Thing</a> sends POST requests to a callback URI provided by the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-29">Consumer</a>.
            To describe this, the <code>subscription</code> member defines a write-only parameter <code>callbackURL</code>,
            which must be submitted through the <code>subscribeevent</code> form.
            The read-only parameter <code>subscriptionID</code> is returned by the subscription.
            The <i>WebhookThing</i> will then periodically POST to this callback URI with a payload defined by <code>data</code>.
            To unsubscribe, the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-30">Consumer</a> has to submit the <code>unsubscribeevent</code> form with the <code>subscriptionID</code> as described in <code>cancellation</code>.
            Alternatively, <code>uriVariables</code> approache can be used that informs the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-31">Consumer</a> to include the <code>subscriptionID</code> string 
            into the URI that have to be called with the delete method (see tab 'With uriVariables'). In such setup, the <code>cancellation</code> container can be obmitted.
            In general, this example can be further automated by using a <a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-ext-17">TD Context Extension</a> to include proper <a href="#dfn-semantic-annotation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-semantic-annotation-2">semantic annotations</a>.
        </li>
    </ul>



<aside class="example ds-selector-tabs" id="example-70"><div class="marker">
    <a class="self-link" href="#example-70">Example<bdi> 70</bdi></a>
  </div>
  <div class="marker">
    <span class="example-title">Temperature Event with subscription and cancellation</span>
  </div>
  <div class="selectors">
         <button class="selected exampleTab1 without" onclick="openTab('exampleTab1', 'without')">Without uriVariables</button>
         <button class="exampleTab1 with" onclick="openTab('exampleTab1', 'with')">With uriVariables</button>
  </div>
  <pre class="selected without exampleTab1" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:4778f80a-4c78-4cbb-a0e4-fa37b7d748df"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"WebhookThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Webhook-based Event with subscription and unsubscribe form."</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {<span class="hljs-attr">"nosec_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>}},
    <span class="hljs-attr">"security"</span>: [<span class="hljs-string">"nosec_sc"</span>],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"temperature"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Provides periodic temperature value updates."</span>,
            <span class="hljs-attr">"subscription"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-attr">"properties"</span>: {
                    <span class="hljs-attr">"callbackURL"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-attr">"format"</span>: <span class="hljs-string">"uri"</span>,
                        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Callback URL provided by subscriber for Webhook notifications."</span>,
                        <span class="hljs-attr">"writeOnly"</span>: <span class="hljs-literal">true</span>
                    },
                    <span class="hljs-attr">"subscriptionID"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Unique subscription ID for cancellation provided by WebhookThing."</span>,
                        <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>
                    }
                }
            },
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Latest temperature value that is sent to the callback URL."</span>
            },
            <span class="hljs-attr">"cancellation"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-attr">"properties"</span>: {
                    <span class="hljs-attr">"subscriptionID"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Required subscription ID to cancel subscription."</span>,
                        <span class="hljs-attr">"writeOnly"</span>: <span class="hljs-literal">true</span>
                    }
                }
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://192.168.0.124:8080/events/temp/subscribe"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"POST"</span>
                },
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"unsubscribeevent"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://192.168.0.124:8080/events/temp/cancel"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"POST"</span>
                }
            ]
        }
    }
}</code></pre>
  <pre class="with exampleTab1" aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:3c1b4716-247f-4cda-ba53-d3307ac6feb0"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"WebhookThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Webhook-based Event with subscription and unsubscribe form."</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {<span class="hljs-attr">"nosec_sc"</span>: {<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"nosec"</span>}},
    <span class="hljs-attr">"security"</span>: [<span class="hljs-string">"nosec_sc"</span>],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"temperature"</span>: {
            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Provides periodic temperature value updates."</span>,
            <span class="hljs-attr">"subscription"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-attr">"properties"</span>: {
                    <span class="hljs-attr">"callbackURL"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-attr">"format"</span>: <span class="hljs-string">"uri"</span>,
                        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Callback URL provided by subscriber for Webhook notifications."</span>,
                        <span class="hljs-attr">"writeOnly"</span>: <span class="hljs-literal">true</span>
                    },
                    <span class="hljs-attr">"subscriptionID"</span>: {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Unique subscription ID for cancellation provided by WebhookThing."</span>,
                        <span class="hljs-attr">"readOnly"</span>: <span class="hljs-literal">true</span>
                    }
                }
            },
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Latest temperature value that is sent to the callback URL."</span>
            },
            <span class="hljs-attr">"uriVariables"</span>: {
                <span class="hljs-attr">"subscriptionID"</span>: { <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span> }
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"subscribeevent"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://192.168.0.124:8080/events/temp/subscribe"</span>,
                    <span class="hljs-attr">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"POST"</span>
                },
                {
                    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"unsubscribeevent"</span>,
                    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"http://192.168.0.124:8080/events/temp/{subscriptionID}"</span>,
                    <span class="hljs-attr">"htv:methodName"</span>: <span class="hljs-string">"DELETE"</span>
                }
            ]
        }
    }
}</code></pre>
</aside>

    <div class="note" role="note" id="issue-container-generatedID-13"><div role="heading" class="note-title marker" id="h-note-13" aria-level="4"><span>Note</span></div><p class="">
        Instead of a periodic POST request to the Thing, the <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-32">Consumer</a> may provide response data with information when the next POST request should be 
        provided by the Thing. 
        This is described by using the <code>dataResponse</code> field.
    </p></div>
    





    </section>
  </section>

  <section id="json-schema-for-validation" class="appendix informative"><div class="header-wrapper"><h2 id="b-json-schema-for-td-instance-validation"><bdi class="secno">B. </bdi>JSON Schema for TD Instance Validation</h2><a class="self-link" href="#json-schema-for-validation" aria-label="Permalink for Appendix B."></a></div><p><em>This section is non-normative.</em></p>
  
    <p>
        A JSON Schema [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-schema" title="JSON Schema Validation: A Vocabulary for Structural Validation of JSON">JSON-SCHEMA</a></cite>] document for syntactically validating Thing Description instances serialized in JSON based format is available at <a target="_blank" href="https://www.w3.org/2022/wot/td-schema/v1.1">https://www.w3.org/2022/wot/td-schema/v1.1</a>.
        This JSON Schema does not require the terms with <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-21">Default Values</a> to be present. Thus, the terms with <a href="#dfn-default-value" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-default-value-22">Default Values</a> are optional. (see also <a href="#sec-default-values" class="sec-ref"><bdi class="secno">5.4 </bdi>Default Value Definitions</a>)
    </p>

    <div class="note" role="note" id="issue-container-generatedID-14"><div role="heading" class="note-title marker" id="h-note-14" aria-level="3"><span>Note</span></div><p class="">The Thing Description defined by this document allows for 
        adding external vocabularies by using <code>@context</code> mechanism 
        known from JSON-LD [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">json-ld11</a></cite>], and the terms in those external vocabularies can be
        used in addition to the terms defined in <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a>. 
        For this reason, the below JSON schema is intentionally non-strict in that 
        regard. You can replace the value of <code>additionalProperties</code> schema 
        property <code>true</code> with <code>false</code> in different scopes/levels in 
        order to perform a stricter validation in case no external vocabularies are used.
    </p></div>

  </section>

  <section id="contentType-usage" class="appendix informative"><div class="header-wrapper"><h2 id="c-contenttype-usage-in-thing-descriptions"><bdi class="secno">C. </bdi>contentType usage in Thing Descriptions</h2><a class="self-link" href="#contentType-usage" aria-label="Permalink for Appendix C."></a></div><p><em>This section is non-normative.</em></p>
      
      <p>
        The different cases on the variation of request and response are explained at <a href="#sec-response-usage" class="sec-ref"><bdi class="secno">5.3.4.2.2 </bdi>Response-related Terms Usage</a>.
        The tables below summarize these cases in a concise manner.
        The tables start from simpler cases, such as single <code>contentType</code>, and go for more complex cases,
        such as multiple <code>contentType</code>s.
        In all the tables, the messages are seen from the Thing point of view, where input means messages sent from 
        Consumer to the Thing (e.g., request) and output means messages sent from Thing to the Consumer (e.g., response).
      </p>
      <p>
        The cases are numbered, which can be used to associate them with examples after the tables.
      </p>
      <table class="def numbered" id="table-single-contenttype-case-where-both-input-and-output-use-the-same-contenttype">
          <caption><a class="self-link" href="#table-single-contenttype-case-where-both-input-and-output-use-the-same-contenttype">Table <bdi class="tableno">33</bdi></a> <span class="table-title">Single contentType case, where both input and output use the same contentType</span></caption>
          <thead>
              <tr>
                  <th>Case</th>                
                  <th>Needed Terms</th>
                  <th>Explanation</th>
                  <th>Consumer Behavior</th>
                  <th>Thing Behavior</th>

              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>
                    Case 1A: Input present, output not present
                  </td>
                  <td>
                      <code>contentType</code> inside the form
                  </td>
                  <td>
                      <code>contentType</code> refers only to the input
                  </td>
                  <td>
                      <ul>
                          <li>Encode input payload according to the <code>contentType</code> available in the form. </li>
                          <li>If possible in the used protocol, add the value of <code>contentType</code> to the input header.</li>
                  </ul>
                  </td>
                  <td>
                      <ul>
                          <li>If possible in the used protocol, decode the input payload in the using the input header <code>contentType</code>.</li>
                          <li>If not possible in the used protocol or not available, decode the output payload in the corresponding 
                              <code>contentType</code> available in the form.</li>
                      </ul>
                  </td>
              </tr>
              <tr>
                  <td>
                    Case 1B: Input not present, output present.
                  </td>
                  <td>
                      <code>contentType</code> inside the form.
                  </td>
                  <td>
                      <code>contentType</code> refers only to the output.
                  </td>
                  <td>
                      <ul>
                          <li>If possible in the used protocol, add preference for the <code>contentType</code> 
                              available in the form to the input header.</li>
                          <li>If possible in the used protocol, decode the output payload using the output header <code>contentType</code>.</li>
                          <li>If not possible in the used protocol or not available, decode the output payload in the corresponding 
                              <code>contentType</code> available in the form.</li>
                      </ul>
                  </td>
                  <td>
                      <ul>
                          <li>Encode output payload in the corresponding <code>contentType</code> available in the form.</li> 
                          <li>If possible in the used protocol, add the value of <code>contentType</code> to the output header.</li>
                      </ul>
                  </td>
              </tr>
              <tr>
                  <td>
                    Case 1C: Input and output present, same <code>contentType</code> for messages.
                  </td>
                  <td>
                      <code>contentType</code> inside the form.
                  </td>
                  <td>
                      <code>contentType</code> refers both to input and output.
                  </td>
                  <td>
                      <ul>
                          <li>Encode input payload according to the <code>contentType</code> available in the form. </li>
                          <li>If possible in the used protocol, add the value of <code>contentType</code> to the input header.</li>
                          <li>If possible in the used protocol, add preference for the <code>contentType</code> of the output payload
                            to the input header using value in the <code>contentType</code>.
                          </li><li>If possible in the used protocol, decode the output payload using the output header <code>contentType</code>.</li>
                          <li>If not possible in the used protocol or not available, decode the output payload in the corresponding 
                              <code>contentType</code> available in the form.</li>
                      </ul>
                  </td>
                  <td>
                      <ul>
                          <li>If possible in the used protocol, decode the input payload in the using the input header <code>contentType</code>.</li>
                          <li>If not possible in the used protocol or not available, decode the input payload in the corresponding 
                              <code>contentType</code> available in the form.</li>
                          <li>Encode output payload in the corresponding <code>contentType</code> available in the form.</li> 
                          <li>If possible in the used protocol, add the value of <code>contentType</code> to the output header.</li>
                      </ul>
                  </td>
              </tr>
          </tbody>
      </table>

      <p>
        The following table takes into account further variations that are relevant for cases where an operation input can
        accept different <code>contentType</code>s or the output can return different <code>contentType</code>s.
        There can be cases where an Interaction Affordance has multiple forms.
        Such cases with multiple forms should be treated as a combination of the cases in the table above and below.
      </p>

      <table class="def numbered" id="table-multiple-contenttype-case-where-input-and-output-can-use-different-contenttypes-and-there-can-be-multiple-forms">
          <caption><a class="self-link" href="#table-multiple-contenttype-case-where-input-and-output-can-use-different-contenttypes-and-there-can-be-multiple-forms">Table <bdi class="tableno">34</bdi></a> <span class="table-title">Multiple contentType case, where input and output can use different contentTypes and there can be multiple 
          forms</span></caption>
          <thead>
              <tr>
                  <th>Case</th>                
                  <th>Needed Terms</th>
                  <th>Explanation</th>
                  <th>Consumer Behavior</th>
                  <th>Thing Behavior</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>
                    Case 2A: Single input and single output present, different <code>contentType</code> for messages.
                  </td>
                  <td>
                      <code>contentType</code> and <code>response</code> inside the form. 
                      <code>response</code> has <code>contentType</code> with a different value.
                  </td>
                  <td>
                      <code>contentType</code> in the form level refers to the input and <code>contentType</code>
                      in the <code>response</code> (response-level) refers to the output
                  </td>
                  <td>
                    <ul>
                        <li>Encode input payload according to the <code>contentType</code> available in the form level. </li>
                        <li>If possible in the used protocol, add the value of form-level <code>contentType</code> to the input header.</li>
                        <li>If possible in the used protocol, add preference for the <code>contentType</code> of the output payload
                            to the input header using the response-level <code>contentType</code>.</li>
                        <li>If possible in the used protocol, decode the output payload using the output header <code>contentType</code>.</li>
                        <li>If not possible in the used protocol or not available, decode the output payload in the corresponding 
                            <code>contentType</code> available in the response level.</li>
                    </ul>
                  </td>
                  <td>
                      <ul>
                          <li>If possible in the used protocol, decode the input payload in the using the input header.</li>
                          <li>If not possible in the used protocol or not available, decode the input payload in the corresponding 
                              <code>contentType</code> available in the form level.</li>
                          <li>Encode output payload in the corresponding <code>contentType</code> available in the response level.</li> 
                          <li>If possible in the used protocol, add the value of response-level <code>contentType</code> to the output header.</li>
                      </ul>
                  </td>
              </tr>
              <tr>
                  <td>
                      Case 2B: Input and multiple possible outputs present, same <code>contentType</code> for messages
                  </td>
                  <td>
                      <code>contentType</code> and <code>additionalResponses</code> inside the form.
                      <code>schema</code> in the <code>additionalResponses</code> array items can be needed.
                  </td>
                  <td>
                      <code>contentType</code> in the form level refers to the input and the normal output. 
                      <code>additionalResponses</code> does not need <code>contentType</code> since the default value rule applies.
                      This is the same case (Case 1C) as there is actually a single <code>contentType</code>.
                      However, there can be different Data Schemas delivered in the output, requiring the <code>additionalResponses</code>
                      and <code>schema</code> terms in the form.
                  </td>
                  <td>
                    See Case 1C
                  </td>
                  <td>
                    See Case 1C
                  </td>
              </tr>
              <tr>
                <td>
                  Case 2C: Input and multiple possible outputs present, different <code>contentType</code> for output messages
                </td>
                <td>
                  <code>contentType</code>, <code>additionalResponses</code> and possibly <code>response</code> inside the form.
                  <code>additionalResponses</code> needs <code>contentType</code> for output the messages with different <code>contentType</code>s.
                </td>
                <td>
                  This the most complicated case that can have different ways to be described in a TD.
                  <code>contentType</code> in the form level refers to the input and to the expected output if the output is 
                  of the same <code>contentType</code> (like in case 1C).
                  <code>contentType</code> inside <code>response</code> refers to the expected output if the output is 
                  of a different <code>contentType</code> (like in case 2A).
                  <code>contentType</code> inside <code>additionalResponses</code> refers to other possible outputs.
                </td>
                <td>
                  <ul>
                    <li>Encode input payload according to the <code>contentType</code> available in the form level. </li>
                    <li>If possible in the used protocol, add the value of form-level <code>contentType</code> to the input header.</li>
                    <li>If possible in the used protocol, decode the output payload using the output header <code>contentType</code>.</li>
                    <li>If not possible in the used protocol or not available, decode the output payload in the corresponding 
                        <code>contentType</code> available in the response level or one of the <code>contentType</code>s 
                        in <code>additionalResponses</code>.</li>
                  </ul>
                </td>
                <td>
                  <ul>
                    <li>If possible in the used protocol, decode the input payload in the using the input header.</li>
                    <li>If not possible in the used protocol or not available, decode the input payload in the corresponding 
                        <code>contentType</code> available in the form level.</li>
                    <li>Encode output payload in the corresponding <code>contentType</code> available in the response level or
                      one of the <code>contentType</code>s in <code>additionalResponses</code>. If the output is associated with an error case, use the <code>contentType</code>
                    in a form with <code>"success":false</code></li>
                    <li>If possible in the used protocol, add the value of the used <code>contentType</code> to the output header.</li>
                  </ul>
                </td>
              </tr>
          </tbody>
      </table>
  </section>

<section id="json-ld-ctx-usage" class="appendix informative"><div class="header-wrapper"><h2 id="d-json-ld-context-usage"><bdi class="secno">D. </bdi>JSON-LD Context Usage</h2><a class="self-link" href="#json-ld-ctx-usage" aria-label="Permalink for Appendix D."></a></div><p><em>This section is non-normative.</em></p>
    

    <p>
        The present specification introduces the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-24">TD Information Model</a>
        as a set of constraints over different <a href="#dfn-vocabulary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocabulary-22">Vocabularies</a>, i.e. sets of
        <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-83">Vocabulary Terms</a>. This section briefly explains how a machine-readable
        definition of these constraints can be integrated into client applications,
        by making use of the mandatory <code>@context</code> of a TD document.
    </p>

    <p>
        Accessing the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-25">TD Information Model</a> from a TD document is done in
        two steps. First, clients must retrieve a mapping from JSON strings to IRIs.
        This mapping is defined as a JSON-LD context, as explained later. Second, clients
        can access the constraints defined on these IRIs by dereferencing them.
        Constraints are defined as logical axioms in the RDF format, readily interpretable
        by client programs.
    </p>

    <p>
        All <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-84">Vocabulary Terms</a> referenced in <a href="#sec-vocabulary-definition" class="sec-ref"><bdi class="secno">5. </bdi>TD Information Model</a>
        are serialized as (compact) JSON strings in a TD document. However, each of these
        terms is unambiguously identified by a full IRI, as per the first Linked Data
        principle [<cite><a class="bibref" data-link-type="biblio" href="#bib-linked-data" title="Linked Data Design Issues">LINKED-DATA</a></cite>]. The mappings from JSON keys to IRIs is what the
        <code>@context</code> value of a TD points to. For instance, the file at
    </p>

    <p>
        <code>https://www.w3.org/2022/wot/td/v1.1</code>
    </p>

    <p>
        includes the following mappings (among others):
    </p>
      <table>
          <tbody>
              <tr>
                  <td><code>properties</code></td>
                  <td>→</td>
                  <td><code>https://www.w3.org/2019/wot/td#hasPropertyAffordance</code></td>
              </tr>
              <tr>
                  <td><code>object</code></td>
                  <td>→</td>
                  <td><code>https://www.w3.org/2019/wot/json-schema#ObjectSchema</code></td>
              </tr>
              <tr>
                  <td><code>basic</code></td>
                  <td>→</td>
                  <td><code>https://www.w3.org/2019/wot/security#BasicSecurityScheme</code></td>
              </tr>
              <tr>
                  <td><code>href</code></td>
                  <td>→</td>
                  <td><code>https://www.w3.org/2019/wot/hypermedia#hasTarget</code></td>
              </tr>
              <tr>
                  <td colspan="3">...</td>
              </tr>
          </tbody>
      </table>

    <p>
        This JSON file follows the JSON-LD 1.1 syntax [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>].
        Numerous JSON-LD libraries can automatically process the <code>@context</code> of a TD
        and expand all the JSON strings it includes.
    </p>

    <p>
        Once every <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-85">Vocabulary Term</a> of a TD is expanded to a IRI, the second step
        consists in dereferencing this IRI to get fragments of the <a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-inf-model-26">TD Information Model</a>
        that refer to that <a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-vocab-term-86">Vocabulary Term</a>. For instance, dereferencing the IRI
    </p>

    <p>
        <code>https://www.w3.org/2019/wot/json-schema#ObjectSchema</code>
    </p>

    <p>
        results in an RDF document stating that the term <code>ObjectSchema</code> is a
        <a href="#dfn-class" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-class-63">Class</a> and more precisely, a sub-class of <code>DataSchema</code>. Such
        logical axioms are represented in RDF using formalisms of various complexity:
        here, sub-class relations are expressed as RDF Schema axioms [<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf-schema" title="RDF Schema 1.1">RDF-SCHEMA</a></cite>].
        Moreover, these axioms may be serialized in various formats. Here, they are
        serialized in the Turtle format [<cite><a class="bibref" data-link-type="biblio" href="#bib-turtle" title="RDF 1.1 Turtle">TURTLE</a></cite>]:
    </p>

<pre class="nohighlight"><code>&lt;https://www.w3.org/2019/wot/json-schema#ObjectSchema&gt;
    a rdfs:Class .
&lt;https://www.w3.org/2019/wot/json-schema#ObjectSchema&gt;
    rdfs:subClassOf &lt;https://www.w3.org/2019/wot/json-schema#DataSchema&gt; .</code></pre>

    <p>
        By default, if a user agent does not perform any content negotiation, a human-readable
        HTML documentation is returned instead of the RDF document. To negotiate content,
        clients must include the HTTP header <code>Accept: text/turtle</code> in their request.
    </p>
</section>

<section id="changes" class="appendix"><div class="header-wrapper"><h2 id="e-recent-specification-changes"><bdi class="secno">E. </bdi>Recent Specification Changes</h2><a class="self-link" href="#changes" aria-label="Permalink for Appendix E."></a></div>
  
  <section id="changes-from-the-candidate-recommendation-19-january-2023"><div class="header-wrapper"><h3 id="changes-from-cr-2023"><bdi class="secno">E.1 </bdi>Changes from the Candidate Recommendation 19 January 2023</h3><a class="self-link" href="#changes-from-cr-2023" aria-label="Permalink for Appendix E.1"></a></div>
  
	  <ul>
        <li>
            At-risk assertions that did not receive sufficient implementations were removed or converted to informative statements.
        </li>
        <li>
            <code>device</code> flow in <a href="#oauth2securityscheme"><code>OAuth2SecurityScheme</code></a> was removed, together with its 
            associated assertions.
        </li>
        <li>
            Remove introductory paragraphs about at risk assertions.
        </li>
		<li>
			Add captions to all tables
		</li>
		<li>
			Add definitions of different levels of TD such as <a href="#dfn-td-thing-level" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-td-thing-level-12">Thing Level</a>
		</li>
        <li>
            Convert editor's notes to normal notes.
        </li>
        <li>
            Add default value alternatives to examples in the appendix. 
        </li>
	  </ul>
  </section>
  <section id="changes-from-fourth-public-working-draft-3-august-2022"><div class="header-wrapper"><h3 id="changes-from-august-2022"><bdi class="secno">E.2 </bdi>Changes from Fourth Public Working Draft 3 August 2022</h3><a class="self-link" href="#changes-from-august-2022" aria-label="Permalink for Appendix E.2"></a></div>
  
	  <ul>
        <li>
            Status of the document Section: add list of at-risk features
        </li>
        <li>
            All TD examples: fix highlighting problems and improve formatting
        </li>
		<li>
			add security scheme auto, provide definition what "satisfying" a securityDefinition means and new wording of assertion (td-security-no-secrets) in Section <a href="#securityscheme" class="sec-ref"><bdi class="secno">5.3.3.1 </bdi><code>SecurityScheme</code></a>
		</li>
		<li>
			Section <a href="#form-additionalResponses" class="sec-ref"><bdi class="secno">6.3.9.4 </bdi><code>additionalResponses</code></a> has been newly added.
		</li>
        <li>
            Remove TD Context Extensions CoAP example in Section <a href="#adding-protocol-bindings" class="sec-ref"><bdi class="secno">7.2 </bdi>Adding Protocol Bindings</a>
        </li>
        <li>
            Remove reference to Binding Document in assertion (bindings-requirements-scheme) in Section <a href="#protocol-bindings" class="sec-ref"><bdi class="secno">8.3 </bdi>Protocol Bindings</a>
        </li>
		<li>
			Chapter <a href="#thing-model" class="sec-ref"><bdi class="secno">9. </bdi>Thing Model</a> moved before <a href="#sec-security-consideration" class="sec-ref"><bdi class="secno">10. </bdi>Security Considerations</a> and <a href="#sec-privacy-consideration" class="sec-ref"><bdi class="secno">11. </bdi>Privacy Considerations</a>
		</li>
		<li>
			The term <code>tm:required</code> changed to <a href="#thing-model-td-optional" class="sec-ref"><bdi class="secno">9.3.4 </bdi>tm:optional</a>
		</li>
        <li>
            Section <a href="#content-format-section" class="sec-ref"><bdi class="secno">12.3 </bdi>CoAP Content-Format Registration</a>: add CoAP Content-Format ID for Thing Model
        </li>
	  </ul>
  </section>
  <section id="changes-from-third-public-working-draft-11-march-2022"><div class="header-wrapper"><h3 id="changes-from-march-2022"><bdi class="secno">E.3 </bdi>Changes from Third Public Working Draft 11 March 2022</h3><a class="self-link" href="#changes-from-march-2022" aria-label="Permalink for Appendix E.3"></a></div>
  
	  <ul>
		<li>
			In section <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a> it was made clear that all
			vocabulary terms and values are case sensitive.
		</li>
		<li>
			In section <a href="#thing" class="sec-ref"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></a> the rules for <code>@context</code> were
			clarified by stating that TD 1.1 consumers must accept TD 1.0 TDs.
		</li>
		<li>
			In section <a href="#actionaffordance" class="sec-ref"><bdi class="secno">5.3.1.4 </bdi><code>ActionAffordance</code></a> the term <code>synchronous</code>
			was added.
		</li>
		<li>
			In section <a href="#nullschema" class="sec-ref"><bdi class="secno">5.3.2.8 </bdi><code>NullSchema</code></a> it was clarified that <code>null</code>
			does not mean the absence of a value.
		</li>
		<li>
			The section <a href="#autosecurityscheme" class="sec-ref"><bdi class="secno">5.3.3.3 </bdi><code>AutoSecurityScheme</code></a> with the corresponding 
			<code>"scheme": "auto"</code> was added to indicate that the security
			parameters are going to be negotiated by the underlying protocols at runtime.
		</li>
		<li>
			In section <a href="#link" class="sec-ref"><bdi class="secno">5.3.4.1 </bdi><code>Link</code></a> the vocabulary term <code>hreflang</code>
			was added that to specify the language of a linked document.
		</li>
		<li>
			The section <a href="#sec-op-data-schema-mapping" class="sec-ref"><bdi class="secno">5.3.4.2.1 </bdi>Mapping op Values to Data Schemas</a> was added which
			summarizes the available data schema related terms with the <code>op</code>
			keywords.
		</li>
		<li>
			In section <a href="#sec-security-consideration" class="sec-ref"><bdi class="secno">10. </bdi>Security Considerations</a> and the according
			subsections the text has been  revised and improved following the latest
			security guidelines. Moreover, new sections about
			<a href="#security-consideration-access-duration" class="sec-ref"><bdi class="secno">10.3 </bdi>Limited Duration Accesses</a>,
			<a href="#sec-security-consideration-vulnerability-auditing" class="sec-ref"><bdi class="secno">10.4 </bdi>Vulnerability Auditing</a>,
			<a href="#sec-security-consideration-script-injection" class="sec-ref"><bdi class="secno">10.5 </bdi>Script Injection</a>,
			<a href="#sec-security-consideration-execution" class="sec-ref"><bdi class="secno">10.6 </bdi>JSON Parsing</a>, and
			<a href="#sec-security-consideration-jsonld-expansion" class="sec-ref"><bdi class="secno">10.7 </bdi>JSON-LD Expansion</a> have been added.
		</li>
		<li>
			In section <a href="#sec-privacy-consideration" class="sec-ref"><bdi class="secno">11. </bdi>Privacy Considerations</a> and the according
			subsections the text has been  revised and improved following the latest
			security guidelines. In addition, a new section about
			<a href="#sec-privacy-consideration-id-metadata" class="sec-ref"><bdi class="secno">11.4 </bdi>ID Metadata</a> was added.
		</li>
		<li>
			In section <a href="#thing-model-extension-import" class="sec-ref"><bdi class="secno">9.3.2 </bdi>Extension and Import</a> it was made explicit
			that <code>tm:extends</code> and the import mechanism based on
			<code>tm:ref</code> supports transitive extension.
		</li>
		<li>
			The section <a href="#media-type-section-tm" class="sec-ref"><bdi class="secno">12.2 </bdi><code>application/tm+json</code> Media Type Registration</a> was added to provide
			Thing Model registration information.
		</li>
		<li>
			The section <a href="#content-format-section" class="sec-ref"><bdi class="secno">12.3 </bdi>CoAP Content-Format Registration</a> was split into
			<a href="#wot-thing-description" class="sec-ref"><bdi class="secno">12.3.1 </bdi>WoT Thing Description</a> and <a href="#wot-thing-model" class="sec-ref"><bdi class="secno">12.3.2 </bdi>WoT Thing Model</a>.
		</li>
		<li>
			In appendix <a href="#json-schema-for-validation" class="sec-ref"><bdi class="secno">B. </bdi>JSON Schema for TD Instance Validation</a> the JSON Schema is
			now linked instead of being included in the specification itself.
		</li>
	  </ul>
  </section>
  <section id="changes-from-second-public-working-draft-7-june-2021"><div class="header-wrapper"><h3 id="changes-from-june-2021"><bdi class="secno">E.4 </bdi>Changes from Second Public Working Draft 7 June 2021</h3><a class="self-link" href="#changes-from-june-2021" aria-label="Permalink for Appendix E.4"></a></div>
  
    <ul>
      
      <li>In section <a href="#namespaces" class="sec-ref"><bdi class="secno">4. </bdi>Namespaces</a>, new namespace IRI is provided for Thing Description 1.1.</li>
      
      <li>In section <a href="#class-definitions" class="sec-ref"><bdi class="secno">5.3 </bdi>Class Definitions</a>:
        <ul>
          <li>The type definition of <code>titles</code> and <code>descriptions</code> members that appear in sub-sections <a href="#thing" class="sec-ref"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></a>, <a href="#interactionaffordance" class="sec-ref"><bdi class="secno">5.3.1.2 </bdi><code>InteractionAffordance</code></a>, <a href="#dataschema" class="sec-ref"><bdi class="secno">5.3.2.1 </bdi><code>DataSchema</code></a> and <a href="#securityscheme" class="sec-ref"><bdi class="secno">5.3.3.1 </bdi><code>SecurityScheme</code></a> were clarified.
          </li>
          
          <li>In section <a href="#sec-core-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.1 </bdi>Core Vocabulary Definitions</a>: 
            <ul>
              
              <li>In section <a href="#thing" class="sec-ref"><bdi class="secno">5.3.1.1 </bdi><code>Thing</code></a>:
                <ul>
                  <li>The allowed values for the <code>op</code> member of a <code>Form</code> were expanded.</li>
                  <li>The description of the <code>forms</code> term was clarified.</li>
                  <li>The value used for <code>@context</code> has changed in Thing Description 1.1.</li>
                  <li>The rule in the use of <code>@context</code> for Thing Description 1.1 to be able to be consumed by TD 1.0 consumers are specified.</li>
                </ul>
              </li>
              
              <li>In section <a href="#propertyaffordance" class="sec-ref"><bdi class="secno">5.3.1.3 </bdi><code>PropertyAffordance</code></a>:
                <ul>
                  <li>Clarifed that property can be retrieved and/or updated.</li>
                  <li>An additional note was appended for clarification.</li>
                </ul>
              </li>
              
              <li>In section <a href="#actionaffordance" class="sec-ref"><bdi class="secno">5.3.1.4 </bdi><code>ActionAffordance</code></a>:
                <ul>
                  <li>The allowed values of the <code>op</code> member of a <code>Form</code> were expanded.
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          
          <li>In section <a href="#dataschema" class="sec-ref"><bdi class="secno">5.3.2.1 </bdi><code>DataSchema</code></a>:
            <ul>
              <li>The description of the <code>unit</code> term was clarified.</li>
              <li>The vocabulary terms <code>contentEncoding</code> and <code>contentMediaType</code> were moved to 
section <a href="#stringschema" class="sec-ref"><bdi class="secno">5.3.2.7 </bdi><code>StringSchema</code></a>.
              </li>
            </ul>
          </li>
          
          <li>In section <a href="#sec-security-vocabulary-definition" class="sec-ref"><bdi class="secno">5.3.3 </bdi>Security Vocabulary Definitions</a>:
            <ul>
              
              <li>In section <a href="#basicsecurityscheme" class="sec-ref"><bdi class="secno">5.3.3.5 </bdi><code>BasicSecurityScheme</code></a>, the assignment of the <code>in</code> member was clarified.</li>
              
              <li>In section <a href="#digestsecurityscheme" class="sec-ref"><bdi class="secno">5.3.3.6 </bdi><code>DigestSecurityScheme</code></a>, the assignment of the <code>in</code> and <code>qop</code> member was clarified.</li>
              
              <li>In section <a href="#apikeysecurityscheme" class="sec-ref"><bdi class="secno">5.3.3.7 </bdi><code>APIKeySecurityScheme</code></a>, the assignment of the <code>in</code> member was clarified.</li>
              
              <li>In section <a href="#bearersecurityscheme" class="sec-ref"><bdi class="secno">5.3.3.8 </bdi><code>BearerSecurityScheme</code></a>, the assignment of the <code>alg</code>, <code>format</code> and <code>in</code> member was clarified.</li>
            </ul>
          </li>
          
          <li>In section <a href="#link" class="sec-ref"><bdi class="secno">5.3.4.1 </bdi><code>Link</code></a>, a new value <code>tm:submodel</code> was added to the table describing the values used for relation types.
          </li>
          
          <li>In section <a href="#form" class="sec-ref"><bdi class="secno">5.3.4.2 </bdi><code>Form</code></a>:
            <ul>
              <li>The assignment of the <code>op</code> term was clarified.</li>
              <li><code>Values subscribeallevents</code>, <code>unsubscribeallevents</code>, <code>queryallactions</code>, <code>queryaction</code> and <code>cancelaction</code> were added to the type definition of <code>op</code> term.</li>
              <li>A <a href="#table-operation-types">table</a> was added to describe the values of <code>op</code> term.
              </li>
            </ul>
          </li>
        </ul>
      </li>
      
      <li>In section <a href="#sec-default-values" class="sec-ref"><bdi class="secno">5.4 </bdi>Default Value Definitions</a>, default assignments were added to <code>PropertyAffordance</code> class's <code>observable</code> member and <code>AdditionalExpectedResponse</code> class's <code>contentType</code> member.</li>
      
      <li>In section <a href="#sec-td-serialization" class="sec-ref"><bdi class="secno">6. </bdi>TD Representation Format</a>:
        <ul>
          
          <li>In section <a href="#sec-thing-as-a-whole-json" class="sec-ref"><bdi class="secno">6.3.1 </bdi>Thing Root Object</a>, the value used for <code>@context</code> has changed in Thing Description 1.1.</li>
          
          <li>In section <a href="#security-serialization-json" class="sec-ref"><bdi class="secno">6.3.4 </bdi><code>securityDefinitions</code> and <code>security</code></a>:
            <ul>
              <li>Examples were reordered, then the section was partitioned into sub-sections to make the section easier to read.
              </li>
              
              <li>In section <a href="#security-oauth2" class="sec-ref"><bdi class="secno">6.3.4.4 </bdi>OAuth 2.0 usage</a>, the <code>flow</code> that appears in <a href="#example-18" class="box-ref">Example<bdi> 18</bdi></a> now uses <code>client</code> as a value.
              </li>
            </ul>
          </li>
          
          <li>In section <a href="#form-uriVariables" class="sec-ref"><bdi class="secno">6.3.9.1 </bdi><code>uriVariables</code></a>, more examples were added.</li>
          
          <li>A sub-section describing canonicalization was removed.</li>
        </ul>
      </li>
      
      <li>In section <a href="#semantic-annotations-example-version-units" class="sec-ref"><bdi class="secno">7.1.1 </bdi>Example I: Additional Basic Metadata</a>, additional terms are used in the example.
      </li>
      
      <li>In section <a href="#protocol-bindings" class="sec-ref"><bdi class="secno">8.3 </bdi>Protocol Bindings</a>:
        <ul>
          <li>Added a reference to the Binding Templates specification to clarify <code>href</code> semantics.</li>
          <li>A note was appended for clarification.</li>
        </ul>
      </li>
      
      <li>In section <a href="#thing-model-tools" class="sec-ref"><bdi class="secno">9.3 </bdi>Modeling Tools</a>:
        <ul>
          
          <li>In section <a href="#thing-model-versioning" class="sec-ref"><bdi class="secno">9.3.1 </bdi>Versioning</a>, a paragraph was added to describe a consideration in the use of versioning.</li>
          
          <li>In section <a href="#thing-model-extension-import" class="sec-ref"><bdi class="secno">9.3.2 </bdi>Extension and Import</a>:
            <ul>
              <li>The syntax and processing rule of <code>tm:ref</code> was clarified.</li>
              <li><a href="#thing-model-overwriting" class="fig-ref" title="Overwriting behavior of Thing Models.">Figure <bdi class="">6</bdi></a> was added.</li>
            </ul>
          </li>
          
          <li>Section <a href="#thing-model-composition" class="sec-ref"><bdi class="secno">9.3.3 </bdi>Composition</a> was added.</li>
          <li>Section <a href="#thing-model-td-placeholder" class="sec-ref"><bdi class="secno">9.3.5 </bdi>Placeholder</a> is now after section <a href="#thing-model-td-optional" class="sec-ref"><bdi class="secno">9.3.4 </bdi>tm:optional</a>. (order reversed)</li>
        </ul>
      </li>
      
      <li>In appendix <a href="#webhook-example-serialization" class="sec-ref"><bdi class="secno">A.3 </bdi>Webhook Event Example</a>, the example and its description were updated.</li>
      
      <li>In appendix <a href="#json-schema-for-validation" class="sec-ref"><bdi class="secno">B. </bdi>JSON Schema for TD Instance Validation</a>, the text of the second note was updated for clarification.</li>
    </ul>
  </section>
  <section id="changes-from-first-public-working-draft-24-november-2020"><div class="header-wrapper"><h3 id="changes-from-fpwd"><bdi class="secno">E.5 </bdi>Changes from First Public Working Draft 24 November 2020</h3><a class="self-link" href="#changes-from-fpwd" aria-label="Permalink for Appendix E.5"></a></div>
  
    <p>Changes from First Public Working Draft 24 November 2020 are described in the 
        <a href="https://www.w3.org/TR/2021/WD-wot-thing-description11-20210607/">Second Public Working Draft</a>.
    </p>
  </section>
</section>

<section id="acknowledgements" class="appendix normative"><div class="header-wrapper"><h2 id="f-acknowledgements"><bdi class="secno">F. </bdi>Acknowledgements</h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix F."></a></div>
  
  <p>The editors would like to specially thank Cristiano Aguzzi, Thomas Jäckle, Jan Romann, Elodie Thiéblin, Michael Koster, Michael Lagally, Kazuyuki Ashimura, Daniel Peintner, Toru Kawaguchi, María Poveda, Dave Raggett, Kunihiko Toumura, Takeshi Yamada, Ben Francis, Manu Sporny, Klaus Hartke, Addison Phillips, Jose M. Cantera, Tomoaki Mizushima, Soumya Kanti Datta and Benjamin Klotz for providing contributions, guidance and expertise.</p>
  <p>Also, many thanks to the <abbr title="World Wide Web Consortium">W3C</abbr> staff and all other current and former active Participants of the <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things Interest Group (WoT IG) and Working Group (WoT WG) for their support, technical input and suggestions that led to improvements to this document.</p>
  <p>Finally, special thanks to Joerg Heuer for leading the WoT IG for 2 years from its inception and guiding the group to come up with the concept of WoT building blocks including the Thing Description.</p>
</section>

<div class="note" role="note" id="issue-container-generatedID-15"><div role="heading" class="note-title marker" id="h-note-15" aria-level="2"><span>Note</span></div><p class="">
    Temporary ReSpec fix regarding non-listed references: [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6068" title="The 'mailto' URI Scheme">RFC6068</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3966" title="The tel URI for Telephone Numbers">RFC3966</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">html</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6750" title="The OAuth 2.0 Authorization Framework: Bearer Token Usage">RFC6750</a></cite>],  [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7519" title="JSON Web Token (JWT)">RFC7519</a></cite>],  [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7797" title="JSON Web Signature (JWS) Unencoded Payload Option">RFC7797</a></cite>],  [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8392" title="CBOR Web Token (CWT)">RFC8392</a></cite>],  [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7516" title="JSON Web Encryption (JWE)">RFC7516</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-ldml" title="Unicode Technical Standard #35: Unicode Locale Data Markup Language (LDML)">LDML</a></cite>],  [<cite><a class="bibref" data-link-type="biblio" href="#bib-semver" title="Semantic Versioning 2.0.0">SEMVER</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7617" title="The 'Basic' HTTP Authentication Scheme">RFC7617</a></cite>], [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7616" title="HTTP Digest Access Authentication">RFC7616</a></cite>] 
</p></div>


<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>


<section id="references" class="appendix"><div class="header-wrapper"><h2 id="g-references"><bdi class="secno">G. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix G."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="g-1-normative-references"><bdi class="secno">G.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix G.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-appmanifest">[APPMANIFEST]</dt><dd>
      <a href="https://www.w3.org/TR/appmanifest/"><cite>Web Application Manifest</cite></a>. Marcos Caceres; Kenneth Christiansen; Matt Giuca; Aaron Gustafson; Daniel Murphy; Anssi Kostiainen.  W3C. 2 May 2023. W3C Working Draft. URL: <a href="https://www.w3.org/TR/appmanifest/">https://www.w3.org/TR/appmanifest/</a>
    </dd><dt id="bib-bcp47">[BCP47]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc5646"><cite>Tags for Identifying Languages</cite></a>. A. Phillips, Ed.; M. Davis, Ed..  IETF. September 2009. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc5646">https://www.rfc-editor.org/rfc/rfc5646</a>
    </dd><dt id="bib-ecma-262">[ECMA-262]</dt><dd>
      <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>.  Ecma International. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
    </dd><dt id="bib-json-ld11">[json-ld11]</dt><dd>
      <a href="https://www.w3.org/TR/json-ld11/"><cite>JSON-LD 1.1</cite></a>. Gregg Kellogg; Pierre-Antoine Champin; Dave Longley.  W3C. 16 July 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/json-ld11/">https://www.w3.org/TR/json-ld11/</a>
    </dd><dt id="bib-owasp-top-10">[OWASP-Top-10]</dt><dd>
      <a href="https://owasp.org/www-project-top-ten/"><cite>OWASP Top Ten</cite></a>.  OWASP. URL: <a href="https://owasp.org/www-project-top-ten/">https://owasp.org/www-project-top-ten/</a>
    </dd><dt id="bib-rfc2045">[RFC2045]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2045"><cite>Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</cite></a>. N. Freed; N. Borenstein.  IETF. November 1996. Draft Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2045">https://www.rfc-editor.org/rfc/rfc2045</a>
    </dd><dt id="bib-rfc2046">[RFC2046]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2046"><cite>Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</cite></a>. N. Freed; N. Borenstein.  IETF. November 1996. Draft Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2046">https://www.rfc-editor.org/rfc/rfc2046</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc3339">[RFC3339]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3339"><cite>Date and Time on the Internet: Timestamps</cite></a>. G. Klyne; C. Newman.  IETF. July 2002. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3339">https://www.rfc-editor.org/rfc/rfc3339</a>
    </dd><dt id="bib-rfc3629">[RFC3629]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3629"><cite>UTF-8, a transformation format of ISO 10646</cite></a>. F. Yergeau.  IETF. November 2003. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3629">https://www.rfc-editor.org/rfc/rfc3629</a>
    </dd><dt id="bib-rfc3966">[RFC3966]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3966"><cite>The tel URI for Telephone Numbers</cite></a>. H. Schulzrinne.  IETF. December 2004. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3966">https://www.rfc-editor.org/rfc/rfc3966</a>
    </dd><dt id="bib-rfc3986">[RFC3986]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
    </dd><dt id="bib-rfc3987">[RFC3987]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc3987"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>. M. Duerst; M. Suignard.  IETF. January 2005. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3987">https://www.rfc-editor.org/rfc/rfc3987</a>
    </dd><dt id="bib-rfc4279">[RFC4279]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc4279"><cite>Pre-Shared Key Ciphersuites for Transport Layer Security (TLS)</cite></a>. P. Eronen, Ed.; H. Tschofenig, Ed..  IETF. December 2005. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc4279">https://www.rfc-editor.org/rfc/rfc4279</a>
    </dd><dt id="bib-rfc4648">[RFC4648]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc4648"><cite>The Base16, Base32, and Base64 Data Encodings</cite></a>. S. Josefsson.  IETF. October 2006. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>
    </dd><dt id="bib-rfc6068">[RFC6068]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6068"><cite>The 'mailto' URI Scheme</cite></a>. M. Duerst; L. Masinter; J. Zawinski.  IETF. October 2010. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6068">https://www.rfc-editor.org/rfc/rfc6068</a>
    </dd><dt id="bib-rfc6570">[RFC6570]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6570"><cite>URI Template</cite></a>. J. Gregorio; R. Fielding; M. Hadley; M. Nottingham; D. Orchard.  IETF. March 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6570">https://www.rfc-editor.org/rfc/rfc6570</a>
    </dd><dt id="bib-rfc6749">[RFC6749]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6749"><cite>The OAuth 2.0 Authorization Framework</cite></a>. D. Hardt, Ed..  IETF. October 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6749">https://www.rfc-editor.org/rfc/rfc6749</a>
    </dd><dt id="bib-rfc6901">[RFC6901]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6901"><cite>JavaScript Object Notation (JSON) Pointer</cite></a>. P. Bryan, Ed.; K. Zyp; M. Nottingham, Ed..  IETF. April 2013. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6901">https://www.rfc-editor.org/rfc/rfc6901</a>
    </dd><dt id="bib-rfc7252">[RFC7252]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7252"><cite>The Constrained Application Protocol (CoAP)</cite></a>. Z. Shelby; K. Hartke; C. Bormann.  IETF. June 2014. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7252">https://www.rfc-editor.org/rfc/rfc7252</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd><dt id="bib-rfc8252">[RFC8252]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8252"><cite>OAuth 2.0 for Native Apps</cite></a>. W. Denniss; J. Bradley.  IETF. October 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8252">https://www.rfc-editor.org/rfc/rfc8252</a>
    </dd><dt id="bib-rfc8259">[RFC8259]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8259"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed..  IETF. December 2017. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
    </dd><dt id="bib-rfc8288">[RFC8288]</dt><dd>
      <a href="https://httpwg.org/specs/rfc8288.html"><cite>Web Linking</cite></a>. M. Nottingham.  IETF. October 2017. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc8288.html">https://httpwg.org/specs/rfc8288.html</a>
    </dd><dt id="bib-rfc9112">[RFC9112]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9112"><cite>HTTP/1.1</cite></a>. R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed..  IETF. June 2022. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9112">https://www.rfc-editor.org/rfc/rfc9112</a>
    </dd><dt id="bib-semver">[SEMVER]</dt><dd>
      <a href="https://semver.org/"><cite>Semantic Versioning 2.0.0</cite></a>. Tom Preston-Werner. 26 December 2017. URL: <a href="https://semver.org/">https://semver.org/</a>
    </dd><dt id="bib-string-meta">[STRING-META]</dt><dd>
      <a href="https://www.w3.org/TR/string-meta/"><cite>Strings on the Web: Language and Direction Metadata</cite></a>. Richard Ishida; Addison Phillips.  W3C. 20 July 2023. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/string-meta/">https://www.w3.org/TR/string-meta/</a>
    </dd><dt id="bib-websub">[websub]</dt><dd>
      <a href="https://www.w3.org/TR/websub/"><cite>WebSub</cite></a>. Julien Genestoux; Aaron Parecki.  W3C. 23 January 2018. W3C Recommendation. URL: <a href="https://www.w3.org/TR/websub/">https://www.w3.org/TR/websub/</a>
    </dd><dt id="bib-wot-architecture11">[wot-architecture11]</dt><dd>
      <a href="https://www.w3.org/TR/wot-architecture11/"><cite>Web of Things (WoT) Architecture 1.1</cite></a>. Michael Lagally; Ryuichi Matsukura; Kunihiko Toumura; Michael McCool.  W3C. 11 July 2023. W3C Proposed Recommendation. URL: <a href="https://www.w3.org/TR/wot-architecture11/">https://www.w3.org/TR/wot-architecture11/</a>
    </dd><dt id="bib-wot-profile">[WOT-PROFILE]</dt><dd>
      <a href="https://www.w3.org/TR/wot-profile/"><cite>Web of Things (WoT) Profile</cite></a>. Michael Lagally; Michael McCool; Ryuichi Matsukura; Sebastian Kaebisch; Tomoaki Mizushima.  W3C. November 2020. URL: <a href="https://www.w3.org/TR/wot-profile/">https://www.w3.org/TR/wot-profile/</a>
    </dd><dt id="bib-wot-security-guidelines">[WOT-SECURITY-GUIDELINES]</dt><dd>
      <a href="https://w3c.github.io/wot-security/"><cite>Web of Things (WoT) Security and Privacy Guidelines</cite></a>. Michael McCool; Elena Reshetova.  W3C. July 2021. URL: <a href="https://w3c.github.io/wot-security/">https://w3c.github.io/wot-security/</a>
    </dd><dt id="bib-wot-thing-description10">[wot-thing-description10]</dt><dd>
      <a href="https://www.w3.org/TR/wot-thing-description10/"><cite>Web of Things (WoT) Thing Description</cite></a>. Sebastian Käbisch; Takuki Kamiya; Michael McCool; Victor Charpenay; Matthias Kovatsch.  W3C. 9 April 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/wot-thing-description10/">https://www.w3.org/TR/wot-thing-description10/</a>
    </dd><dt id="bib-xmlschema11-2-20120405">[XMLSCHEMA11-2-20120405]</dt><dd>
      <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/"><cite>W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</cite></a>. David Peterson; Sandy Gao; Ashok Malhotra; Michael Sperberg-McQueen; Henry Thompson; Paul V. Biron et al.  W3C. 5 April 2012. W3C Recommendation. URL: <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/">https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/</a>
    </dd></dl>
  </section><section id="informative-references"><div class="header-wrapper"><h3 id="g-2-informative-references"><bdi class="secno">G.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix G.2"></a></div>
    
    <dl class="bibliography"><dt id="bib-html">[html]</dt><dd>
      <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
    </dd><dt id="bib-http-in-rdf10">[HTTP-in-RDF10]</dt><dd>
      <a href="https://www.w3.org/TR/HTTP-in-RDF10/"><cite>HTTP Vocabulary in RDF 1.0</cite></a>. Johannes Koch; Carlos A. Velasco; Philip Ackermann.  W3C. 2 February 2017. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/HTTP-in-RDF10/">https://www.w3.org/TR/HTTP-in-RDF10/</a>
    </dd><dt id="bib-iana-media-types">[IANA-MEDIA-TYPES]</dt><dd>
      <a href="https://www.iana.org/assignments/media-types/"><cite>Media Types</cite></a>.  IANA. URL: <a href="https://www.iana.org/assignments/media-types/">https://www.iana.org/assignments/media-types/</a>
    </dd><dt id="bib-iana-uri-schemes">[IANA-URI-SCHEMES]</dt><dd>
      <a href="https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml"><cite>Uniform Resource Identifier (URI) Schemes</cite></a>.  IANA. URL: <a href="https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml">https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml</a>
    </dd><dt id="bib-json-schema">[JSON-SCHEMA]</dt><dd>
      <a href="https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-01"><cite>JSON Schema Validation: A Vocabulary for Structural Validation of JSON</cite></a>. Austin Wright; Henry Andrews; Geraint Luff.  IETF. 19 March 2018. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-01">https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-01</a>
    </dd><dt id="bib-json-schema-ontology">[JSON-SCHEMA-ONTOLOGY]</dt><dd>
      <a href="https://www.w3.org/2019/wot/json-schema"><cite>JSON Schema in RDF</cite></a>. Victor Charpenay; Maxime Lefrançois; María Poveda Villalón.  W3C. July 2022. URL: <a href="https://www.w3.org/2019/wot/json-schema">https://www.w3.org/2019/wot/json-schema</a>
    </dd><dt id="bib-ldml">[LDML]</dt><dd>
      <a href="https://unicode.org/reports/tr35/"><cite>Unicode Technical Standard #35: Unicode Locale Data Markup Language (LDML)</cite></a>. Mark Davis; CLDR Contributors. March 2022. URL: <a href="https://unicode.org/reports/tr35/">https://unicode.org/reports/tr35/</a>
    </dd><dt id="bib-linked-data">[LINKED-DATA]</dt><dd>
      <a href="https://www.w3.org/DesignIssues/LinkedData.html"><cite>Linked Data Design Issues</cite></a>. Tim Berners-Lee.  W3C. 27 July 2006. W3C-Internal Document. URL: <a href="https://www.w3.org/DesignIssues/LinkedData.html">https://www.w3.org/DesignIssues/LinkedData.html</a>
    </dd><dt id="bib-linkset-media-types">[LINKSET-MEDIA-TYPES]</dt><dd>
      <a href="https://datatracker.ietf.org/doc/draft-ietf-httpapi-linkset/"><cite>Linkset: Media Types and a Link Relation Type for Link Sets</cite></a>. Erik Wilde; Herbert Van de Sompel.  IETF. URL: <a href="https://datatracker.ietf.org/doc/draft-ietf-httpapi-linkset/">https://datatracker.ietf.org/doc/draft-ietf-httpapi-linkset/</a>
    </dd><dt id="bib-mqtt">[MQTT]</dt><dd>
      <a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html"><cite>MQTT Version 3.1.1</cite></a>. Andrew Banks; Rahul Gupta.  OASIS. December 2015. OASIS Standard Incorporating Approved Errata 01. URL: <a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html</a>
    </dd><dt id="bib-openapi">[OPENAPI]</dt><dd>
      <a href="https://spec.openapis.org/oas/v3.0.1"><cite>OpenAPI Specification: Version 3.0.1</cite></a>. Darrel Miller; Jeremy Whitlock; Marsh Gardiner; Mike Ralphson; Ron Ratovsky; Uri Sarid.  OpenAPI Initiative, Linux Foundation. 6 December 2017. URL: <a href="https://spec.openapis.org/oas/v3.0.1">https://spec.openapis.org/oas/v3.0.1</a>
    </dd><dt id="bib-rdf-schema">[RDF-SCHEMA]</dt><dd>
      <a href="https://www.w3.org/TR/rdf-schema/"><cite>RDF Schema 1.1</cite></a>. Dan Brickley; Ramanathan Guha.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf-schema/">https://www.w3.org/TR/rdf-schema/</a>
    </dd><dt id="bib-rfc6750">[RFC6750]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc6750"><cite>The OAuth 2.0 Authorization Framework: Bearer Token Usage</cite></a>. M. Jones; D. Hardt.  IETF. October 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6750">https://www.rfc-editor.org/rfc/rfc6750</a>
    </dd><dt id="bib-rfc7231">[RFC7231]</dt><dd>
      <a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed..  IETF. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a>
    </dd><dt id="bib-rfc7516">[RFC7516]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7516"><cite>JSON Web Encryption (JWE)</cite></a>. M. Jones; J. Hildebrand.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7516">https://www.rfc-editor.org/rfc/rfc7516</a>
    </dd><dt id="bib-rfc7519">[RFC7519]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7519"><cite>JSON Web Token (JWT)</cite></a>. M. Jones; J. Bradley; N. Sakimura.  IETF. May 2015. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7519">https://www.rfc-editor.org/rfc/rfc7519</a>
    </dd><dt id="bib-rfc7616">[RFC7616]</dt><dd>
      <a href="https://httpwg.org/specs/rfc7616.html"><cite>HTTP Digest Access Authentication</cite></a>. R. Shekh-Yusef, Ed.; D. Ahrens; S. Bremer.  IETF. September 2015. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7616.html">https://httpwg.org/specs/rfc7616.html</a>
    </dd><dt id="bib-rfc7617">[RFC7617]</dt><dd>
      <a href="https://httpwg.org/specs/rfc7617.html"><cite>The 'Basic' HTTP Authentication Scheme</cite></a>. J. Reschke.  IETF. September 2015. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7617.html">https://httpwg.org/specs/rfc7617.html</a>
    </dd><dt id="bib-rfc7797">[RFC7797]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc7797"><cite>JSON Web Signature (JWS) Unencoded Payload Option</cite></a>. M. Jones.  IETF. February 2016. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7797">https://www.rfc-editor.org/rfc/rfc7797</a>
    </dd><dt id="bib-rfc8392">[RFC8392]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8392"><cite>CBOR Web Token (CWT)</cite></a>. M. Jones; E. Wahlstroem; S. Erdtman; H. Tschofenig.  IETF. May 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8392">https://www.rfc-editor.org/rfc/rfc8392</a>
    </dd><dt id="bib-rfc9200">[RFC9200]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc9200"><cite>Authentication and Authorization for Constrained Environments Using the OAuth 2.0 Framework (ACE-OAuth)</cite></a>. L. Seitz; G. Selander; E. Wahlstroem; S. Erdtman; H. Tschofenig.  IETF. August 2022. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9200">https://www.rfc-editor.org/rfc/rfc9200</a>
    </dd><dt id="bib-sdw-bp">[sdw-bp]</dt><dd>
      <a href="https://www.w3.org/TR/sdw-bp/"><cite>Spatial Data on the Web Best Practices</cite></a>. Payam Barnaghi; Jeremy Tandy; Linda van den Brink; Timo Homburg.  W3C. 19 September 2023. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/sdw-bp/">https://www.w3.org/TR/sdw-bp/</a>
    </dd><dt id="bib-smartm2m">[SMARTM2M]</dt><dd>
      <a href="http://www.etsi.org/deliver/etsi_ts/103200_103299/103264/02.01.01_60/ts_103264v020101p.pdf"><cite>ETSI TS 103 264 V2.1.1 (2017-03): SmartM2M; Smart Appliances; Reference Ontology and oneM2M Mapping</cite></a>.  ETSI. March 2017. Published. URL: <a href="http://www.etsi.org/deliver/etsi_ts/103200_103299/103264/02.01.01_60/ts_103264v020101p.pdf">http://www.etsi.org/deliver/etsi_ts/103200_103299/103264/02.01.01_60/ts_103264v020101p.pdf</a>
    </dd><dt id="bib-turtle">[TURTLE]</dt><dd>
      <a href="https://www.w3.org/TR/turtle/"><cite>RDF 1.1 Turtle</cite></a>. Eric Prud'hommeaux; Gavin Carothers.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/turtle/">https://www.w3.org/TR/turtle/</a>
    </dd><dt id="bib-vocab-ssn">[VOCAB-SSN]</dt><dd>
      <a href="https://www.w3.org/TR/vocab-ssn/"><cite>Semantic Sensor Network Ontology</cite></a>. Armin Haller; Krzysztof Janowicz; Simon Cox; Danh Le Phuoc; Kerry Taylor; Maxime Lefrançois.  W3C. 19 October 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/vocab-ssn/">https://www.w3.org/TR/vocab-ssn/</a>
    </dd><dt id="bib-w3c-basic-geo">[w3c-basic-geo]</dt><dd>
      <a href="https://www.w3.org/2003/01/geo/"><cite>Basic Geo (WGS84 lat/long) Vocabulary</cite></a>. Dan Brickley.  W3C Semantic Web Interest Group. 1 February 2006. URL: <a href="https://www.w3.org/2003/01/geo/">https://www.w3.org/2003/01/geo/</a>
    </dd><dt id="bib-wot-binding-templates">[WOT-BINDING-TEMPLATES]</dt><dd>
      <a href="https://www.w3.org/TR/wot-binding-templates/"><cite>Web of Things (WoT) Binding Templates</cite></a>. Michael Koster; Ege Korkan.  W3C. 28 September 2023. W3C Working Group Note. URL: <a href="https://www.w3.org/TR/wot-binding-templates/">https://www.w3.org/TR/wot-binding-templates/</a>
    </dd><dt id="bib-wot-discovery">[WOT-DISCOVERY]</dt><dd>
      <a href="https://www.w3.org/TR/wot-discovery/"><cite>Web of Things (WoT) Discovery</cite></a>. Kunihiko Toumura; Michael McCool; Andrea Cimmino; Farshid Tavakolizadeh.  W3C. 11 July 2023. W3C Proposed Recommendation. URL: <a href="https://www.w3.org/TR/wot-discovery/">https://www.w3.org/TR/wot-discovery/</a>
    </dd><dt id="bib-xml">[xml]</dt><dd>
      <a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth Edition)</cite></a>. Tim Bray; Jean Paoli; Michael Sperberg-McQueen; Eve Maler; François Yergeau et al.  W3C. 26 November 2008. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-thing" aria-label="Links in this document to definition: Thing">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-thing" aria-label="Permalink for definition: Thing. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-thing-1" title="§ Abstract">§ Abstract</a> <a href="#ref-for-dfn-thing-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-5" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-6" title="§ 1.1 Thing Description">§ 1.1 Thing Description</a> <a href="#ref-for-dfn-thing-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-9" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-10" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-11" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-12" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-13" title="Reference 8">(8)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-14" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> <a href="#ref-for-dfn-thing-15" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-16" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-17" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-18" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-19" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-thing-20" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-21" title="§ 5.3.4 Hypermedia Controls Vocabulary Definitions">§ 5.3.4 Hypermedia Controls Vocabulary Definitions</a> <a href="#ref-for-dfn-thing-22" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-23" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-24" title="§ 5.3.4.1 Link">§ 5.3.4.1 Link</a> <a href="#ref-for-dfn-thing-25" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-26" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-27" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-28" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-29" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-30" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-31" title="Reference 8">(8)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-32" title="§ 6. TD Representation Format">§ 6. TD Representation Format</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-33" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> <a href="#ref-for-dfn-thing-34" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-35" title="§ 6.3.4.1 Multiple Security Definitions">§ 6.3.4.1 Multiple Security Definitions</a> <a href="#ref-for-dfn-thing-36" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-37" title="§ 6.3.8 links">§ 6.3.8 links</a> <a href="#ref-for-dfn-thing-38" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-39" title="§ 6.3.9.6 Top level forms">§ 6.3.9.6 Top level forms</a> <a href="#ref-for-dfn-thing-40" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-41" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-42" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-43" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-44" title="§ 6.3.10 Data Schemas">§ 6.3.10 Data Schemas</a> <a href="#ref-for-dfn-thing-45" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-46" title="§ 7.1 Semantic Annotations">§ 7.1 Semantic Annotations</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-47" title="§ 7.1.1 Example I: Additional Basic Metadata">§ 7.1.1 Example I: Additional Basic Metadata</a> <a href="#ref-for-dfn-thing-48" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-49" title="§ 7.1.2 Example II: State Annotations">§ 7.1.2 Example II: State Annotations</a> <a href="#ref-for-dfn-thing-50" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-51" title="§ 8.1 Security Configurations">§ 8.1 Security Configurations</a> <a href="#ref-for-dfn-thing-52" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-53" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-54" title="§ 8.2 Data Schemas">§ 8.2 Data Schemas</a> <a href="#ref-for-dfn-thing-55" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-56" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-57" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-58" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-59" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-60" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-61" title="Reference 8">(8)</a> <a href="#ref-for-dfn-thing-62" title="Reference 9">(9)</a> <a href="#ref-for-dfn-thing-63" title="Reference 10">(10)</a> <a href="#ref-for-dfn-thing-64" title="Reference 11">(11)</a> <a href="#ref-for-dfn-thing-65" title="Reference 12">(12)</a> <a href="#ref-for-dfn-thing-66" title="Reference 13">(13)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-67" title="§ 8.3 Protocol Bindings">§ 8.3 Protocol Bindings</a> <a href="#ref-for-dfn-thing-68" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-69" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-70" title="§ 8.3.1 Protocol Binding based on HTTP">§ 8.3.1 Protocol Binding based on HTTP</a> <a href="#ref-for-dfn-thing-71" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-72" title="§ 8.3.2 Other Protocol Bindings">§ 8.3.2 Other Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-73" title="§ 9.1 Basic Concept">§ 9.1 Basic Concept</a> <a href="#ref-for-dfn-thing-74" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-75" title="§ 9.3 Modeling Tools">§ 9.3 Modeling Tools</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-76" title="§ 10.6 JSON Parsing">§ 10.6 JSON Parsing</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-77" title="§ 11.2 Immutable Identifiers">§ 11.2 Immutable Identifiers</a> <a href="#ref-for-dfn-thing-78" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-79" title="§ 11.3 Fingerprinting">§ 11.3 Fingerprinting</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-80" title="§ 11.6 Inferencing of Personally Identifiable Information">§ 11.6 Inferencing of Personally Identifiable Information</a> <a href="#ref-for-dfn-thing-81" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-82" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-83" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-84" title="§ 12.1 application/td+json Media Type Registration">§ 12.1 application/td+json Media Type Registration</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-85" title="§ 12.2 application/tm+json Media Type Registration">§ 12.2 application/tm+json Media Type Registration</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-86" title="§ A.1 MyLampThing Example with CoAP Protocol Binding">§ A.1 MyLampThing Example with CoAP Protocol Binding</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-87" title="§ A.2 MyIlluminanceSensor Example with MQTT Protocol Binding">§ A.2 MyIlluminanceSensor Example with MQTT Protocol Binding</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-88" title="§ A.3 Webhook Event Example">§ A.3 Webhook Event Example</a> <a href="#ref-for-dfn-thing-89" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-consumer" aria-label="Links in this document to definition: Consumer">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-consumer" aria-label="Permalink for definition: Consumer. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-consumer-1" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-2" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-3" title="§ 5.3.1.2 InteractionAffordance">§ 5.3.1.2 InteractionAffordance</a> <a href="#ref-for-dfn-consumer-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-5" title="§ 5.3.1.5 EventAffordance">§ 5.3.1.5 EventAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-6" title="§ 5.3.4.2 Form">§ 5.3.4.2 Form</a> <a href="#ref-for-dfn-consumer-7" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-8" title="§ 5.3.4.2.2 Response-related Terms Usage">§ 5.3.4.2.2 Response-related Terms Usage</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-9" title="§ 6.3.4.1 Multiple Security Definitions">§ 6.3.4.1 Multiple Security Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-10" title="§ 6.3.4.4 OAuth 2.0 usage">§ 6.3.4.4 OAuth 2.0 usage</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-11" title="§ 6.3.9.6 Top level forms">§ 6.3.9.6 Top level forms</a> <a href="#ref-for-dfn-consumer-12" title="Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-13" title="Reference 3">(3)</a> <a href="#ref-for-dfn-consumer-14" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-15" title="§ 8.2 Data Schemas">§ 8.2 Data Schemas</a> <a href="#ref-for-dfn-consumer-16" title="Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-17" title="Reference 3">(3)</a> <a href="#ref-for-dfn-consumer-18" title="Reference 4">(4)</a> <a href="#ref-for-dfn-consumer-19" title="Reference 5">(5)</a> <a href="#ref-for-dfn-consumer-20" title="Reference 6">(6)</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-21" title="§ 8.3 Protocol Bindings">§ 8.3 Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-22" title="§ 8.3.1 Protocol Binding based on HTTP">§ 8.3.1 Protocol Binding based on HTTP</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-23" title="§ 10.1 TD Interception and Tampering">§ 10.1 TD Interception and Tampering</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-24" title="§ 10.7 JSON-LD Expansion">§ 10.7 JSON-LD Expansion</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-25" title="§ 11.1 Context Fetching">§ 11.1 Context Fetching</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-26" title="§ 12.1 application/td+json Media Type Registration">§ 12.1 application/td+json Media Type Registration</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-27" title="§ 12.2 application/tm+json Media Type Registration">§ 12.2 application/tm+json Media Type Registration</a> 
    </li><li>
      <a href="#ref-for-dfn-consumer-28" title="§ A.3 Webhook Event Example">§ A.3 Webhook Event Example</a> <a href="#ref-for-dfn-consumer-29" title="Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-30" title="Reference 3">(3)</a> <a href="#ref-for-dfn-consumer-31" title="Reference 4">(4)</a> <a href="#ref-for-dfn-consumer-32" title="Reference 5">(5)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-producer" aria-label="Links in this document to definition: Producer">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-producer" aria-label="Permalink for definition: Producer. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-producer-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-producer-2" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> 
    </li><li>
      <a href="#ref-for-dfn-producer-3" title="§ 5.3.4.2 Form">§ 5.3.4.2 Form</a> <a href="#ref-for-dfn-producer-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-producer-5" title="§ 10.5 Script Injection">§ 10.5 Script Injection</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-thing-description" aria-label="Links in this document to definition: Thing Description">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-thing-description" aria-label="Permalink for definition: Thing Description. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-thing-description-1" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> <a href="#ref-for-dfn-thing-description-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-description-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-description-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-description-5" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-6" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-thing-description-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-description-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-description-9" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-description-10" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-description-11" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-description-12" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-description-13" title="Reference 8">(8)</a> <a href="#ref-for-dfn-thing-description-14" title="Reference 9">(9)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-15" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-thing-description-16" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-17" title="§ 5.3.3.1 SecurityScheme">§ 5.3.3.1 SecurityScheme</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-18" title="§ 5.3.4.1 Link">§ 5.3.4.1 Link</a> <a href="#ref-for-dfn-thing-description-19" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-20" title="§ 5.3.4.2 Form">§ 5.3.4.2 Form</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-21" title="§ 6. TD Representation Format">§ 6. TD Representation Format</a> <a href="#ref-for-dfn-thing-description-22" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-23" title="§ 9.1 Basic Concept">§ 9.1 Basic Concept</a> <a href="#ref-for-dfn-thing-description-24" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-description-25" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-26" title="§ 9.2 Thing Model Declaration">§ 9.2 Thing Model Declaration</a> <a href="#ref-for-dfn-thing-description-27" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-28" title="§ 9.3.3 Composition">§ 9.3.3 Composition</a> <a href="#ref-for-dfn-thing-description-29" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-description-30" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-description-31" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-32" title="§ 9.3.4 tm:optional">§ 9.3.4 tm:optional</a> <a href="#ref-for-dfn-thing-description-33" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-description-34" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-35" title="§ 9.4 Derivation of Thing Description Instances">§ 9.4 Derivation of Thing Description Instances</a> <a href="#ref-for-dfn-thing-description-36" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-description-37" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-description-38" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-description-39" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-description-40" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-description-41" title="Reference 7">(7)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-description-42" title="§ 9.5 Examples">§ 9.5 Examples</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td" aria-label="Links in this document to definition: TD">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td" aria-label="Permalink for definition: TD. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-partial-td" aria-label="Links in this document to definition: Partial TD">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-partial-td" aria-label="Permalink for definition: Partial TD. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-partial-td-1" title="§ 9.4 Derivation of Thing Description Instances">§ 9.4 Derivation of Thing Description Instances</a> <a href="#ref-for-dfn-partial-td-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-partial-td-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-partial-td-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-partial-td-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-partial-td-6" title="Reference 6">(6)</a> <a href="#ref-for-dfn-partial-td-7" title="Reference 7">(7)</a> <a href="#ref-for-dfn-partial-td-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-partial-td-9" title="Reference 9">(9)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-thing-model" aria-label="Links in this document to definition: Thing Model">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-thing-model" aria-label="Permalink for definition: Thing Model. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-thing-model-1" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> <a href="#ref-for-dfn-thing-model-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-5" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-6" title="§ 4. Namespaces">§ 4. Namespaces</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-7" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-8" title="§ 5.3.4.1 Link">§ 5.3.4.1 Link</a> <a href="#ref-for-dfn-thing-model-9" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-10" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-11" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-12" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-13" title="§ 9.1 Basic Concept">§ 9.1 Basic Concept</a> <a href="#ref-for-dfn-thing-model-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-15" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-16" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-17" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-18" title="§ 9.2 Thing Model Declaration">§ 9.2 Thing Model Declaration</a> <a href="#ref-for-dfn-thing-model-19" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-20" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-21" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-22" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-model-23" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-model-24" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-model-25" title="Reference 8">(8)</a> <a href="#ref-for-dfn-thing-model-26" title="Reference 9">(9)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-27" title="§ 9.3 Modeling Tools">§ 9.3 Modeling Tools</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-28" title="§ 9.3.1 Versioning">§ 9.3.1 Versioning</a> <a href="#ref-for-dfn-thing-model-29" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-30" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-31" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-32" title="§ 9.3.2 Extension and Import">§ 9.3.2 Extension and Import</a> <a href="#ref-for-dfn-thing-model-33" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-34" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-35" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-36" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-model-37" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-model-38" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-model-39" title="Reference 8">(8)</a> <a href="#ref-for-dfn-thing-model-40" title="Reference 9">(9)</a> <a href="#ref-for-dfn-thing-model-41" title="Reference 10">(10)</a> <a href="#ref-for-dfn-thing-model-42" title="Reference 11">(11)</a> <a href="#ref-for-dfn-thing-model-43" title="Reference 12">(12)</a> <a href="#ref-for-dfn-thing-model-44" title="Reference 13">(13)</a> <a href="#ref-for-dfn-thing-model-45" title="Reference 14">(14)</a> <a href="#ref-for-dfn-thing-model-46" title="Reference 15">(15)</a> <a href="#ref-for-dfn-thing-model-47" title="Reference 16">(16)</a> <a href="#ref-for-dfn-thing-model-48" title="Reference 17">(17)</a> <a href="#ref-for-dfn-thing-model-49" title="Reference 18">(18)</a> <a href="#ref-for-dfn-thing-model-50" title="Reference 19">(19)</a> <a href="#ref-for-dfn-thing-model-51" title="Reference 20">(20)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-52" title="§ 9.3.3 Composition">§ 9.3.3 Composition</a> <a href="#ref-for-dfn-thing-model-53" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-54" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-55" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-56" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-model-57" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-model-58" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-model-59" title="Reference 8">(8)</a> <a href="#ref-for-dfn-thing-model-60" title="Reference 9">(9)</a> <a href="#ref-for-dfn-thing-model-61" title="Reference 10">(10)</a> <a href="#ref-for-dfn-thing-model-62" title="Reference 11">(11)</a> <a href="#ref-for-dfn-thing-model-63" title="Reference 12">(12)</a> <a href="#ref-for-dfn-thing-model-64" title="Reference 13">(13)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-65" title="§ 9.3.4 tm:optional">§ 9.3.4 tm:optional</a> <a href="#ref-for-dfn-thing-model-66" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-67" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-68" title="§ 9.3.5 Placeholder">§ 9.3.5 Placeholder</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-69" title="§ 9.4 Derivation of Thing Description Instances">§ 9.4 Derivation of Thing Description Instances</a> <a href="#ref-for-dfn-thing-model-70" title="Reference 2">(2)</a> <a href="#ref-for-dfn-thing-model-71" title="Reference 3">(3)</a> <a href="#ref-for-dfn-thing-model-72" title="Reference 4">(4)</a> <a href="#ref-for-dfn-thing-model-73" title="Reference 5">(5)</a> <a href="#ref-for-dfn-thing-model-74" title="Reference 6">(6)</a> <a href="#ref-for-dfn-thing-model-75" title="Reference 7">(7)</a> <a href="#ref-for-dfn-thing-model-76" title="Reference 8">(8)</a> 
    </li><li>
      <a href="#ref-for-dfn-thing-model-77" title="§ 9.5 Examples">§ 9.5 Examples</a> <a href="#ref-for-dfn-thing-model-78" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-tm" aria-label="Links in this document to definition: TM">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-tm" aria-label="Permalink for definition: TM. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-interaction-model" aria-label="Links in this document to definition: Interaction Model">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-interaction-model" aria-label="Permalink for definition: Interaction Model. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-interaction-model-1" title="§ 1.1 Thing Description">§ 1.1 Thing Description</a> <a href="#ref-for-dfn-interaction-model-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-model-3" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-interaction-affordance" aria-label="Links in this document to definition: Interaction Affordance">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-interaction-affordance" aria-label="Permalink for definition: Interaction Affordance. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-interaction-affordance-1" title="§ 1.1 Thing Description">§ 1.1 Thing Description</a> <a href="#ref-for-dfn-interaction-affordance-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-3" title="§ 5.1 Overview">§ 5.1 Overview</a> <a href="#ref-for-dfn-interaction-affordance-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-5" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-interaction-affordance-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-interaction-affordance-7" title="Reference 3">(3)</a> <a href="#ref-for-dfn-interaction-affordance-8" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-9" title="§ 6.3.4.1 Multiple Security Definitions">§ 6.3.4.1 Multiple Security Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-10" title="§ 6.3.4.2 security in Forms">§ 6.3.4.2 security in Forms</a> <a href="#ref-for-dfn-interaction-affordance-11" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-12" title="§ 6.3.4.4 OAuth 2.0 usage">§ 6.3.4.4 OAuth 2.0 usage</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-13" title="§ 6.3.9.3 response">§ 6.3.9.3 response</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-14" title="§ 6.3.9.4 additionalResponses">§ 6.3.9.4 additionalResponses</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-15" title="§ 7.1.2 Example II: State Annotations">§ 7.1.2 Example II: State Annotations</a> 
    </li><li>
      <a href="#ref-for-dfn-interaction-affordance-16" title="§ 8.3 Protocol Bindings">§ 8.3 Protocol Bindings</a> <a href="#ref-for-dfn-interaction-affordance-17" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-property" aria-label="Links in this document to definition: Property">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-property" aria-label="Permalink for definition: Property. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-property-1" title="§ 1.1 Thing Description">§ 1.1 Thing Description</a> 
    </li><li>
      <a href="#ref-for-dfn-property-2" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> 
    </li><li>
      <a href="#ref-for-dfn-property-3" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li><li>
      <a href="#ref-for-dfn-property-4" title="§ 5.3.1.3 PropertyAffordance">§ 5.3.1.3 PropertyAffordance</a> <a href="#ref-for-dfn-property-5" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-property-6" title="§ 6.3.5 properties">§ 6.3.5 properties</a> 
    </li><li>
      <a href="#ref-for-dfn-property-7" title="§ 7.1.2 Example II: State Annotations">§ 7.1.2 Example II: State Annotations</a> <a href="#ref-for-dfn-property-8" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-property-9" title="§ 7.1.3 Example III: Geolocation Annotations">§ 7.1.3 Example III: Geolocation Annotations</a> 
    </li><li>
      <a href="#ref-for-dfn-property-10" title="§ 9.1 Basic Concept">§ 9.1 Basic Concept</a> <a href="#ref-for-dfn-property-11" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-action" aria-label="Links in this document to definition: Action">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-action" aria-label="Permalink for definition: Action. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-action-1" title="§ 1.1 Thing Description">§ 1.1 Thing Description</a> 
    </li><li>
      <a href="#ref-for-dfn-action-2" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> 
    </li><li>
      <a href="#ref-for-dfn-action-3" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li><li>
      <a href="#ref-for-dfn-action-4" title="§ 9.1 Basic Concept">§ 9.1 Basic Concept</a> <a href="#ref-for-dfn-action-5" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-event" aria-label="Links in this document to definition: Event">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-event" aria-label="Permalink for definition: Event. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-event-1" title="§ 1.2 Thing Model">§ 1.2 Thing Model</a> 
    </li><li>
      <a href="#ref-for-dfn-event-2" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li><li>
      <a href="#ref-for-dfn-event-3" title="§ 9.1 Basic Concept">§ 9.1 Basic Concept</a> <a href="#ref-for-dfn-event-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-event-5" title="§ 9.3.4 tm:optional">§ 9.3.4 tm:optional</a> <a href="#ref-for-dfn-event-6" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-protocol-binding" aria-label="Links in this document to definition: Protocol Binding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-protocol-binding" aria-label="Permalink for definition: Protocol Binding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-protocol-binding-1" title="§ 1.1 Thing Description">§ 1.1 Thing Description</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-2" title="§ 5.3.3 Security Vocabulary Definitions">§ 5.3.3 Security Vocabulary Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-3" title="§ 6.2 Omitting Default Values">§ 6.2 Omitting Default Values</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-4" title="§ 7. TD Context Extensions">§ 7. TD Context Extensions</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-5" title="§ 7.2 Adding Protocol Bindings">§ 7.2 Adding Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-6" title="§ 8.3 Protocol Bindings">§ 8.3 Protocol Bindings</a> <a href="#ref-for-dfn-protocol-binding-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-protocol-binding-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-protocol-binding-9" title="Reference 4">(4)</a> <a href="#ref-for-dfn-protocol-binding-10" title="Reference 5">(5)</a> <a href="#ref-for-dfn-protocol-binding-11" title="Reference 6">(6)</a> <a href="#ref-for-dfn-protocol-binding-12" title="Reference 7">(7)</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-13" title="§ 8.3.1 Protocol Binding based on HTTP">§ 8.3.1 Protocol Binding based on HTTP</a> <a href="#ref-for-dfn-protocol-binding-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-protocol-binding-15" title="Reference 3">(3)</a> <a href="#ref-for-dfn-protocol-binding-16" title="Reference 4">(4)</a> <a href="#ref-for-dfn-protocol-binding-17" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-18" title="§ 8.3.2 Other Protocol Bindings">§ 8.3.2 Other Protocol Bindings</a> <a href="#ref-for-dfn-protocol-binding-19" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-20" title="§ 9.2 Thing Model Declaration">§ 9.2 Thing Model Declaration</a> 
    </li><li>
      <a href="#ref-for-dfn-protocol-binding-21" title="§ A.3 Webhook Event Example">§ A.3 Webhook Event Example</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-servient" aria-label="Links in this document to definition: Servient">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-servient" aria-label="Permalink for definition: Servient. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-servient-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-vocabulary" aria-label="Links in this document to definition: Vocabulary">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-vocabulary" aria-label="Permalink for definition: Vocabulary. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-vocabulary-1" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-vocabulary-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-3" title="§ 4. Namespaces">§ 4. Namespaces</a> <a href="#ref-for-dfn-vocabulary-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocabulary-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-vocabulary-6" title="Reference 4">(4)</a> <a href="#ref-for-dfn-vocabulary-7" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-8" title="§ 5.1 Overview">§ 5.1 Overview</a> <a href="#ref-for-dfn-vocabulary-9" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocabulary-10" title="Reference 3">(3)</a> <a href="#ref-for-dfn-vocabulary-11" title="Reference 4">(4)</a> <a href="#ref-for-dfn-vocabulary-12" title="Reference 5">(5)</a> <a href="#ref-for-dfn-vocabulary-13" title="Reference 6">(6)</a> <a href="#ref-for-dfn-vocabulary-14" title="Reference 7">(7)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-15" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-vocabulary-16" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-17" title="§ 5.3.3 Security Vocabulary Definitions">§ 5.3.3 Security Vocabulary Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-18" title="§ 6.3.10 Data Schemas">§ 6.3.10 Data Schemas</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-19" title="§ 7. TD Context Extensions">§ 7. TD Context Extensions</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-20" title="§ 7.1.1 Example I: Additional Basic Metadata">§ 7.1.1 Example I: Additional Basic Metadata</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-21" title="§ 8.3.2 Other Protocol Bindings">§ 8.3.2 Other Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-vocabulary-22" title="§ D. JSON-LD Context Usage">§ D. JSON-LD Context Usage</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-term" aria-label="Links in this document to definition: Term">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-term" aria-label="Permalink for definition: Term. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-term-1" title="§ 4. Namespaces">§ 4. Namespaces</a> 
    </li><li>
      <a href="#ref-for-dfn-term-2" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li><li>
      <a href="#ref-for-dfn-term-3" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-term-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-term-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-term-6" title="Reference 4">(4)</a> <a href="#ref-for-dfn-term-7" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-term-8" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-term-9" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-vocab-term" aria-label="Links in this document to definition: Vocabulary Term">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-vocab-term" aria-label="Permalink for definition: Vocabulary Term. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-vocab-term-1" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-vocab-term-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-3" title="§ 4. Namespaces">§ 4. Namespaces</a> <a href="#ref-for-dfn-vocab-term-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-5" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-vocab-term-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocab-term-7" title="Reference 3">(3)</a> <a href="#ref-for-dfn-vocab-term-8" title="Reference 4">(4)</a> <a href="#ref-for-dfn-vocab-term-9" title="Reference 5">(5)</a> <a href="#ref-for-dfn-vocab-term-10" title="Reference 6">(6)</a> <a href="#ref-for-dfn-vocab-term-11" title="Reference 7">(7)</a> <a href="#ref-for-dfn-vocab-term-12" title="Reference 8">(8)</a> <a href="#ref-for-dfn-vocab-term-13" title="Reference 9">(9)</a> <a href="#ref-for-dfn-vocab-term-14" title="Reference 10">(10)</a> <a href="#ref-for-dfn-vocab-term-15" title="Reference 11">(11)</a> <a href="#ref-for-dfn-vocab-term-16" title="Reference 12">(12)</a> <a href="#ref-for-dfn-vocab-term-17" title="Reference 13">(13)</a> <a href="#ref-for-dfn-vocab-term-18" title="Reference 14">(14)</a> <a href="#ref-for-dfn-vocab-term-19" title="Reference 15">(15)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-20" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-21" title="§ 5.3.1.2 InteractionAffordance">§ 5.3.1.2 InteractionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-22" title="§ 5.3.1.3 PropertyAffordance">§ 5.3.1.3 PropertyAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-23" title="§ 5.3.1.4 ActionAffordance">§ 5.3.1.4 ActionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-24" title="§ 5.3.1.5 EventAffordance">§ 5.3.1.5 EventAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-25" title="§ 5.3.1.6 VersionInfo">§ 5.3.1.6 VersionInfo</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-26" title="§ 5.3.2.1 DataSchema">§ 5.3.2.1 DataSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-27" title="§ 5.3.2.2 ArraySchema">§ 5.3.2.2 ArraySchema</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-28" title="§ 5.3.2.4 NumberSchema">§ 5.3.2.4 NumberSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-29" title="§ 5.3.2.5 IntegerSchema">§ 5.3.2.5 IntegerSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-30" title="§ 5.3.2.6 ObjectSchema">§ 5.3.2.6 ObjectSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-31" title="§ 5.3.2.7 StringSchema">§ 5.3.2.7 StringSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-32" title="§ 5.3.3.1 SecurityScheme">§ 5.3.3.1 SecurityScheme</a> <a href="#ref-for-dfn-vocab-term-33" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocab-term-34" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-35" title="§ 5.3.3.2 NoSecurityScheme">§ 5.3.3.2 NoSecurityScheme</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-36" title="§ 5.3.3.4 ComboSecurityScheme">§ 5.3.3.4 ComboSecurityScheme</a> <a href="#ref-for-dfn-vocab-term-37" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-38" title="§ 5.3.3.5 BasicSecurityScheme">§ 5.3.3.5 BasicSecurityScheme</a> <a href="#ref-for-dfn-vocab-term-39" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-40" title="§ 5.3.3.6 DigestSecurityScheme">§ 5.3.3.6 DigestSecurityScheme</a> <a href="#ref-for-dfn-vocab-term-41" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-42" title="§ 5.3.3.7 APIKeySecurityScheme">§ 5.3.3.7 APIKeySecurityScheme</a> <a href="#ref-for-dfn-vocab-term-43" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-44" title="§ 5.3.3.8 BearerSecurityScheme">§ 5.3.3.8 BearerSecurityScheme</a> <a href="#ref-for-dfn-vocab-term-45" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-46" title="§ 5.3.3.9 PSKSecurityScheme">§ 5.3.3.9 PSKSecurityScheme</a> <a href="#ref-for-dfn-vocab-term-47" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-48" title="§ 5.3.3.10 OAuth2SecurityScheme">§ 5.3.3.10 OAuth2SecurityScheme</a> <a href="#ref-for-dfn-vocab-term-49" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocab-term-50" title="Reference 3">(3)</a> <a href="#ref-for-dfn-vocab-term-51" title="Reference 4">(4)</a> <a href="#ref-for-dfn-vocab-term-52" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-53" title="§ 5.3.4.1 Link">§ 5.3.4.1 Link</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-54" title="§ 5.3.4.2 Form">§ 5.3.4.2 Form</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-55" title="§ 5.3.4.3 ExpectedResponse">§ 5.3.4.3 ExpectedResponse</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-56" title="§ 5.3.4.4 AdditionalExpectedResponse">§ 5.3.4.4 AdditionalExpectedResponse</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-57" title="§ 5.4 Default Value Definitions">§ 5.4 Default Value Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-58" title="§ 6.2 Omitting Default Values">§ 6.2 Omitting Default Values</a> <a href="#ref-for-dfn-vocab-term-59" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-60" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-61" title="§ 6.3.3 version">§ 6.3.3 version</a> <a href="#ref-for-dfn-vocab-term-62" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-63" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> <a href="#ref-for-dfn-vocab-term-64" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-65" title="§ 6.3.5 properties">§ 6.3.5 properties</a> <a href="#ref-for-dfn-vocab-term-66" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-67" title="§ 6.3.6 actions">§ 6.3.6 actions</a> <a href="#ref-for-dfn-vocab-term-68" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-69" title="§ 6.3.7 events">§ 6.3.7 events</a> <a href="#ref-for-dfn-vocab-term-70" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-71" title="§ 6.3.8 links">§ 6.3.8 links</a> <a href="#ref-for-dfn-vocab-term-72" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-73" title="§ 6.3.9 forms">§ 6.3.9 forms</a> <a href="#ref-for-dfn-vocab-term-74" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocab-term-75" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-76" title="§ 6.3.10 Data Schemas">§ 6.3.10 Data Schemas</a> <a href="#ref-for-dfn-vocab-term-77" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-78" title="§ 7.1 Semantic Annotations">§ 7.1 Semantic Annotations</a> <a href="#ref-for-dfn-vocab-term-79" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-80" title="§ 7.1.2 Example II: State Annotations">§ 7.1.2 Example II: State Annotations</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-81" title="§ 7.2 Adding Protocol Bindings">§ 7.2 Adding Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-82" title="§ 8.3.1 Protocol Binding based on HTTP">§ 8.3.1 Protocol Binding based on HTTP</a> 
    </li><li>
      <a href="#ref-for-dfn-vocab-term-83" title="§ D. JSON-LD Context Usage">§ D. JSON-LD Context Usage</a> <a href="#ref-for-dfn-vocab-term-84" title="Reference 2">(2)</a> <a href="#ref-for-dfn-vocab-term-85" title="Reference 3">(3)</a> <a href="#ref-for-dfn-vocab-term-86" title="Reference 4">(4)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-wot-interface" aria-label="Links in this document to definition: WoT Interface">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-wot-interface" aria-label="Permalink for definition: WoT Interface. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-wot-interface-1" title="§ 8.2 Data Schemas">§ 8.2 Data Schemas</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-wot-runtime" aria-label="Links in this document to definition: WoT Runtime">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-wot-runtime" aria-label="Permalink for definition: WoT Runtime. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-wot-runtime-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-semantic-tag" aria-label="Links in this document to definition: Semantic Tag">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-semantic-tag" aria-label="Permalink for definition: Semantic Tag. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-semantic-tag-1" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> 
    </li><li>
      <a href="#ref-for-dfn-semantic-tag-2" title="§ 5.3.1.2 InteractionAffordance">§ 5.3.1.2 InteractionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-semantic-tag-3" title="§ 5.3.2.1 DataSchema">§ 5.3.2.1 DataSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-semantic-tag-4" title="§ 5.3.3.1 SecurityScheme">§ 5.3.3.1 SecurityScheme</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-semantic-annotation" aria-label="Links in this document to definition: Semantic Annotation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-semantic-annotation" aria-label="Permalink for definition: Semantic Annotation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-semantic-annotation-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-semantic-annotation-2" title="§ A.3 Webhook Event Example">§ A.3 Webhook Event Example</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-context-ext" aria-label="Links in this document to definition: TD Context Extension">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-context-ext" aria-label="Permalink for definition: TD Context Extension. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-context-ext-1" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-2" title="§ 5.3.1.6 VersionInfo">§ 5.3.1.6 VersionInfo</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-3" title="§ 5.3.2 Data Schema Vocabulary Definitions">§ 5.3.2 Data Schema Vocabulary Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-4" title="§ 5.3.3.1 SecurityScheme">§ 5.3.3.1 SecurityScheme</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-5" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-6" title="§ 6.3.3 version">§ 6.3.3 version</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-7" title="§ 7. TD Context Extensions">§ 7. TD Context Extensions</a> <a href="#ref-for-dfn-context-ext-8" title="Reference 2">(2)</a> <a href="#ref-for-dfn-context-ext-9" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-10" title="§ 7.1 Semantic Annotations">§ 7.1 Semantic Annotations</a> <a href="#ref-for-dfn-context-ext-11" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-12" title="§ 7.1.2 Example II: State Annotations">§ 7.1.2 Example II: State Annotations</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-13" title="§ 7.2 Adding Protocol Bindings">§ 7.2 Adding Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-14" title="§ 7.3 Adding Security Schemes">§ 7.3 Adding Security Schemes</a> <a href="#ref-for-dfn-context-ext-15" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-16" title="§ 8.3.2 Other Protocol Bindings">§ 8.3.2 Other Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-context-ext-17" title="§ A.3 Webhook Event Example">§ A.3 Webhook Event Example</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-inf-model" aria-label="Links in this document to definition: TD Information Model">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-inf-model" aria-label="Permalink for definition: TD Information Model. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-inf-model-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-2" title="§ 4. Namespaces">§ 4. Namespaces</a> <a href="#ref-for-dfn-inf-model-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-inf-model-4" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-5" title="§ 5. TD Information Model">§ 5. TD Information Model</a> <a href="#ref-for-dfn-inf-model-6" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-7" title="§ 5.1 Overview">§ 5.1 Overview</a> <a href="#ref-for-dfn-inf-model-8" title="Reference 2">(2)</a> <a href="#ref-for-dfn-inf-model-9" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-10" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-inf-model-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-inf-model-12" title="Reference 3">(3)</a> <a href="#ref-for-dfn-inf-model-13" title="Reference 4">(4)</a> <a href="#ref-for-dfn-inf-model-14" title="Reference 5">(5)</a> <a href="#ref-for-dfn-inf-model-15" title="Reference 6">(6)</a> <a href="#ref-for-dfn-inf-model-16" title="Reference 7">(7)</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-17" title="§ 5.4 Default Value Definitions">§ 5.4 Default Value Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-18" title="§ 6. TD Representation Format">§ 6. TD Representation Format</a> <a href="#ref-for-dfn-inf-model-19" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-20" title="§ 6.1 Mapping to JSON Types">§ 6.1 Mapping to JSON Types</a> <a href="#ref-for-dfn-inf-model-21" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-22" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-23" title="§ 10.2 Context Interception and Tampering">§ 10.2 Context Interception and Tampering</a> 
    </li><li>
      <a href="#ref-for-dfn-inf-model-24" title="§ D. JSON-LD Context Usage">§ D. JSON-LD Context Usage</a> <a href="#ref-for-dfn-inf-model-25" title="Reference 2">(2)</a> <a href="#ref-for-dfn-inf-model-26" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-processor" aria-label="Links in this document to definition: TD Processor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-processor" aria-label="Permalink for definition: TD Processor. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-td-processor-1" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-td-processor-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-td-processor-3" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-4" title="§ 4. Namespaces">§ 4. Namespaces</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-5" title="§ 5.3 Class Definitions">§ 5.3 Class Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-6" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-td-processor-7" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-8" title="§ 5.3.2 Data Schema Vocabulary Definitions">§ 5.3.2 Data Schema Vocabulary Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-9" title="§ 5.4 Default Value Definitions">§ 5.4 Default Value Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-10" title="§ 6. TD Representation Format">§ 6. TD Representation Format</a> <a href="#ref-for-dfn-td-processor-11" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-12" title="§ 6.2 Omitting Default Values">§ 6.2 Omitting Default Values</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-13" title="§ 6.3.2 Human-Readable Metadata">§ 6.3.2 Human-Readable Metadata</a> 
    </li><li>
      <a href="#ref-for-dfn-td-processor-14" title="§ 8.3.1 Protocol Binding based on HTTP">§ 8.3.1 Protocol Binding based on HTTP</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-serialization" aria-label="Links in this document to definition: TD Serialization">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-serialization" aria-label="Permalink for definition: TD Serialization. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-td-serialization-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-td-serialization-2" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-document" aria-label="Links in this document to definition: TD Document">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-document" aria-label="Permalink for definition: TD Document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-td-document-1" title="§ 4. Namespaces">§ 4. Namespaces</a> <a href="#ref-for-dfn-td-document-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-td-document-3" title="§ 7.1.2 Example II: State Annotations">§ 7.1.2 Example II: State Annotations</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-level" aria-label="Links in this document to definition: Levels of a TD">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-level" aria-label="Permalink for definition: Levels of a TD. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-thing-level" aria-label="Links in this document to definition: Thing Level">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-thing-level" aria-label="Permalink for definition: Thing Level. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-td-thing-level-1" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-td-thing-level-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-td-thing-level-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-td-thing-level-4" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-td-thing-level-5" title="§ 5.3.1.2 InteractionAffordance">§ 5.3.1.2 InteractionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-td-thing-level-6" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> <a href="#ref-for-dfn-td-thing-level-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-td-thing-level-8" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-td-thing-level-9" title="§ 6.3.4.1 Multiple Security Definitions">§ 6.3.4.1 Multiple Security Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-td-thing-level-10" title="§ 6.3.4.2 security in Forms">§ 6.3.4.2 security in Forms</a> 
    </li><li>
      <a href="#ref-for-dfn-td-thing-level-11" title="§ 6.3.9.1 uriVariables">§ 6.3.9.1 uriVariables</a> 
    </li><li>
      <a href="#ref-for-dfn-td-thing-level-12" title="§ E.1 Changes from the Candidate Recommendation 19 January 2023">§ E.1 Changes from the Candidate Recommendation 19 January 2023</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-affordance-level" aria-label="Links in this document to definition: Affordance Level">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-affordance-level" aria-label="Permalink for definition: Affordance Level. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-data-schema-level" aria-label="Links in this document to definition: Data Schema Level">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-data-schema-level" aria-label="Permalink for definition: Data Schema Level. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-td-forms-level" aria-label="Links in this document to definition: Forms Level">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-td-forms-level" aria-label="Permalink for definition: Forms Level. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-object" aria-label="Links in this document to definition: Object">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-object" aria-label="Permalink for definition: Object. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-object-1" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-object-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-object-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-object-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-object-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-object-6" title="Reference 6">(6)</a> <a href="#ref-for-dfn-object-7" title="Reference 7">(7)</a> <a href="#ref-for-dfn-object-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-object-9" title="Reference 9">(9)</a> <a href="#ref-for-dfn-object-10" title="Reference 10">(10)</a> <a href="#ref-for-dfn-object-11" title="Reference 11">(11)</a> <a href="#ref-for-dfn-object-12" title="Reference 12">(12)</a> <a href="#ref-for-dfn-object-13" title="Reference 13">(13)</a> <a href="#ref-for-dfn-object-14" title="Reference 14">(14)</a> <a href="#ref-for-dfn-object-15" title="Reference 15">(15)</a> <a href="#ref-for-dfn-object-16" title="Reference 16">(16)</a> <a href="#ref-for-dfn-object-17" title="Reference 17">(17)</a> <a href="#ref-for-dfn-object-18" title="Reference 18">(18)</a> 
    </li><li>
      <a href="#ref-for-dfn-object-19" title="§ 5.3.2.6 ObjectSchema">§ 5.3.2.6 ObjectSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-object-20" title="§ 6.1 Mapping to JSON Types">§ 6.1 Mapping to JSON Types</a> 
    </li><li>
      <a href="#ref-for-dfn-object-21" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-array" aria-label="Links in this document to definition: Array">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-array" aria-label="Permalink for definition: Array. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-array-1" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-array-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-3" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-array-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-array-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-array-6" title="Reference 4">(4)</a> <a href="#ref-for-dfn-array-7" title="Reference 5">(5)</a> <a href="#ref-for-dfn-array-8" title="Reference 6">(6)</a> <a href="#ref-for-dfn-array-9" title="Reference 7">(7)</a> <a href="#ref-for-dfn-array-10" title="Reference 8">(8)</a> <a href="#ref-for-dfn-array-11" title="Reference 9">(9)</a> <a href="#ref-for-dfn-array-12" title="Reference 10">(10)</a> <a href="#ref-for-dfn-array-13" title="Reference 11">(11)</a> <a href="#ref-for-dfn-array-14" title="Reference 12">(12)</a> <a href="#ref-for-dfn-array-15" title="Reference 13">(13)</a> <a href="#ref-for-dfn-array-16" title="Reference 14">(14)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-17" title="§ 5.3.1.2 InteractionAffordance">§ 5.3.1.2 InteractionAffordance</a> <a href="#ref-for-dfn-array-18" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-19" title="§ 5.3.1.3 PropertyAffordance">§ 5.3.1.3 PropertyAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-array-20" title="§ 5.3.1.4 ActionAffordance">§ 5.3.1.4 ActionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-array-21" title="§ 5.3.1.5 EventAffordance">§ 5.3.1.5 EventAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-array-22" title="§ 5.3.2.1 DataSchema">§ 5.3.2.1 DataSchema</a> <a href="#ref-for-dfn-array-23" title="Reference 2">(2)</a> <a href="#ref-for-dfn-array-24" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-25" title="§ 5.3.2.2 ArraySchema">§ 5.3.2.2 ArraySchema</a> <a href="#ref-for-dfn-array-26" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-27" title="§ 5.3.2.6 ObjectSchema">§ 5.3.2.6 ObjectSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-array-28" title="§ 5.3.3.1 SecurityScheme">§ 5.3.3.1 SecurityScheme</a> 
    </li><li>
      <a href="#ref-for-dfn-array-29" title="§ 5.3.3.4 ComboSecurityScheme">§ 5.3.3.4 ComboSecurityScheme</a> <a href="#ref-for-dfn-array-30" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-31" title="§ 5.3.3.10 OAuth2SecurityScheme">§ 5.3.3.10 OAuth2SecurityScheme</a> 
    </li><li>
      <a href="#ref-for-dfn-array-32" title="§ 5.3.4.1 Link">§ 5.3.4.1 Link</a> 
    </li><li>
      <a href="#ref-for-dfn-array-33" title="§ 5.3.4.2 Form">§ 5.3.4.2 Form</a> <a href="#ref-for-dfn-array-34" title="Reference 2">(2)</a> <a href="#ref-for-dfn-array-35" title="Reference 3">(3)</a> <a href="#ref-for-dfn-array-36" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-37" title="§ 5.4 Default Value Definitions">§ 5.4 Default Value Definitions</a> <a href="#ref-for-dfn-array-38" title="Reference 2">(2)</a> <a href="#ref-for-dfn-array-39" title="Reference 3">(3)</a> <a href="#ref-for-dfn-array-40" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-41" title="§ 6.1 Mapping to JSON Types">§ 6.1 Mapping to JSON Types</a> <a href="#ref-for-dfn-array-42" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-array-43" title="§ 7.1 Semantic Annotations">§ 7.1 Semantic Annotations</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-map" aria-label="Links in this document to definition: Map">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-map" aria-label="Permalink for definition: Map. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-map-1" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-map-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-map-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-map-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-map-6" title="Reference 6">(6)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-7" title="§ 5.3.1.1 Thing">§ 5.3.1.1 Thing</a> <a href="#ref-for-dfn-map-8" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-9" title="Reference 3">(3)</a> <a href="#ref-for-dfn-map-10" title="Reference 4">(4)</a> <a href="#ref-for-dfn-map-11" title="Reference 5">(5)</a> <a href="#ref-for-dfn-map-12" title="Reference 6">(6)</a> <a href="#ref-for-dfn-map-13" title="Reference 7">(7)</a> <a href="#ref-for-dfn-map-14" title="Reference 8">(8)</a> <a href="#ref-for-dfn-map-15" title="Reference 9">(9)</a> <a href="#ref-for-dfn-map-16" title="Reference 10">(10)</a> <a href="#ref-for-dfn-map-17" title="Reference 11">(11)</a> <a href="#ref-for-dfn-map-18" title="Reference 12">(12)</a> <a href="#ref-for-dfn-map-19" title="Reference 13">(13)</a> <a href="#ref-for-dfn-map-20" title="Reference 14">(14)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-21" title="§ 5.3.1.2 InteractionAffordance">§ 5.3.1.2 InteractionAffordance</a> <a href="#ref-for-dfn-map-22" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-23" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-24" title="§ 5.3.1.7 MultiLanguage">§ 5.3.1.7 MultiLanguage</a> <a href="#ref-for-dfn-map-25" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-26" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-27" title="§ 5.3.2.1 DataSchema">§ 5.3.2.1 DataSchema</a> <a href="#ref-for-dfn-map-28" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-29" title="§ 5.3.2.6 ObjectSchema">§ 5.3.2.6 ObjectSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-map-30" title="§ 5.3.3.1 SecurityScheme">§ 5.3.3.1 SecurityScheme</a> 
    </li><li>
      <a href="#ref-for-dfn-map-31" title="§ 6.1 Mapping to JSON Types">§ 6.1 Mapping to JSON Types</a> <a href="#ref-for-dfn-map-32" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-33" title="§ 6.3.2 Human-Readable Metadata">§ 6.3.2 Human-Readable Metadata</a> <a href="#ref-for-dfn-map-34" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-35" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> <a href="#ref-for-dfn-map-36" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-37" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-38" title="§ 6.3.5 properties">§ 6.3.5 properties</a> <a href="#ref-for-dfn-map-39" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-40" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-41" title="§ 6.3.6 actions">§ 6.3.6 actions</a> <a href="#ref-for-dfn-map-42" title="Reference 2">(2)</a> <a href="#ref-for-dfn-map-43" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-44" title="§ 6.3.7 events">§ 6.3.7 events</a> <a href="#ref-for-dfn-map-45" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-map-46" title="§ 7. TD Context Extensions">§ 7. TD Context Extensions</a> 
    </li><li>
      <a href="#ref-for-dfn-map-47" title="§ 9.3.2 Extension and Import">§ 9.3.2 Extension and Import</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-class" aria-label="Links in this document to definition: Class">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-class" aria-label="Permalink for definition: Class. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-class-1" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-class-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-3" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-class-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-class-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-class-6" title="Reference 4">(4)</a> <a href="#ref-for-dfn-class-7" title="Reference 5">(5)</a> <a href="#ref-for-dfn-class-8" title="Reference 6">(6)</a> <a href="#ref-for-dfn-class-9" title="Reference 7">(7)</a> <a href="#ref-for-dfn-class-10" title="Reference 8">(8)</a> <a href="#ref-for-dfn-class-11" title="Reference 9">(9)</a> <a href="#ref-for-dfn-class-12" title="Reference 10">(10)</a> <a href="#ref-for-dfn-class-13" title="Reference 11">(11)</a> <a href="#ref-for-dfn-class-14" title="Reference 12">(12)</a> <a href="#ref-for-dfn-class-15" title="Reference 13">(13)</a> <a href="#ref-for-dfn-class-16" title="Reference 14">(14)</a> <a href="#ref-for-dfn-class-17" title="Reference 15">(15)</a> <a href="#ref-for-dfn-class-18" title="Reference 16">(16)</a> <a href="#ref-for-dfn-class-19" title="Reference 17">(17)</a> <a href="#ref-for-dfn-class-20" title="Reference 18">(18)</a> <a href="#ref-for-dfn-class-21" title="Reference 19">(19)</a> <a href="#ref-for-dfn-class-22" title="Reference 20">(20)</a> <a href="#ref-for-dfn-class-23" title="Reference 21">(21)</a> <a href="#ref-for-dfn-class-24" title="Reference 22">(22)</a> <a href="#ref-for-dfn-class-25" title="Reference 23">(23)</a> <a href="#ref-for-dfn-class-26" title="Reference 24">(24)</a> <a href="#ref-for-dfn-class-27" title="Reference 25">(25)</a> <a href="#ref-for-dfn-class-28" title="Reference 26">(26)</a> <a href="#ref-for-dfn-class-29" title="Reference 27">(27)</a> <a href="#ref-for-dfn-class-30" title="Reference 28">(28)</a> <a href="#ref-for-dfn-class-31" title="Reference 29">(29)</a> <a href="#ref-for-dfn-class-32" title="Reference 30">(30)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-33" title="§ 5.3 Class Definitions">§ 5.3 Class Definitions</a> <a href="#ref-for-dfn-class-34" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-35" title="§ 5.3.1.3 PropertyAffordance">§ 5.3.1.3 PropertyAffordance</a> <a href="#ref-for-dfn-class-36" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-37" title="§ 5.3.1.4 ActionAffordance">§ 5.3.1.4 ActionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-class-38" title="§ 5.3.1.5 EventAffordance">§ 5.3.1.5 EventAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-class-39" title="§ 5.3.1.6 VersionInfo">§ 5.3.1.6 VersionInfo</a> 
    </li><li>
      <a href="#ref-for-dfn-class-40" title="§ 5.3.4.2.2 Response-related Terms Usage">§ 5.3.4.2.2 Response-related Terms Usage</a> 
    </li><li>
      <a href="#ref-for-dfn-class-41" title="§ 5.4 Default Value Definitions">§ 5.4 Default Value Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-class-42" title="§ 6. TD Representation Format">§ 6. TD Representation Format</a> 
    </li><li>
      <a href="#ref-for-dfn-class-43" title="§ 6.1 Mapping to JSON Types">§ 6.1 Mapping to JSON Types</a> <a href="#ref-for-dfn-class-44" title="Reference 2">(2)</a> <a href="#ref-for-dfn-class-45" title="Reference 3">(3)</a> <a href="#ref-for-dfn-class-46" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-47" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> <a href="#ref-for-dfn-class-48" title="Reference 2">(2)</a> <a href="#ref-for-dfn-class-49" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-50" title="§ 6.3.6 actions">§ 6.3.6 actions</a> 
    </li><li>
      <a href="#ref-for-dfn-class-51" title="§ 6.3.7 events">§ 6.3.7 events</a> 
    </li><li>
      <a href="#ref-for-dfn-class-52" title="§ 6.3.9.1 uriVariables">§ 6.3.9.1 uriVariables</a> 
    </li><li>
      <a href="#ref-for-dfn-class-53" title="§ 6.3.9.3 response">§ 6.3.9.3 response</a> 
    </li><li>
      <a href="#ref-for-dfn-class-54" title="§ 6.3.10 Data Schemas">§ 6.3.10 Data Schemas</a> 
    </li><li>
      <a href="#ref-for-dfn-class-55" title="§ 7. TD Context Extensions">§ 7. TD Context Extensions</a> 
    </li><li>
      <a href="#ref-for-dfn-class-56" title="§ 7.1 Semantic Annotations">§ 7.1 Semantic Annotations</a> <a href="#ref-for-dfn-class-57" title="Reference 2">(2)</a> <a href="#ref-for-dfn-class-58" title="Reference 3">(3)</a> <a href="#ref-for-dfn-class-59" title="Reference 4">(4)</a> <a href="#ref-for-dfn-class-60" title="Reference 5">(5)</a> <a href="#ref-for-dfn-class-61" title="Reference 6">(6)</a> 
    </li><li>
      <a href="#ref-for-dfn-class-62" title="§ 7.3 Adding Security Schemes">§ 7.3 Adding Security Schemes</a> 
    </li><li>
      <a href="#ref-for-dfn-class-63" title="§ D. JSON-LD Context Usage">§ D. JSON-LD Context Usage</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-signature" aria-label="Links in this document to definition: Signature">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-signature" aria-label="Permalink for definition: Signature. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-signature-1" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-signature-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-3" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-signature-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-signature-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-signature-6" title="Reference 4">(4)</a> <a href="#ref-for-dfn-signature-7" title="Reference 5">(5)</a> <a href="#ref-for-dfn-signature-8" title="Reference 6">(6)</a> <a href="#ref-for-dfn-signature-9" title="Reference 7">(7)</a> <a href="#ref-for-dfn-signature-10" title="Reference 8">(8)</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-11" title="§ 6.3.1 Thing Root Object">§ 6.3.1 Thing Root Object</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-12" title="§ 6.3.3 version">§ 6.3.3 version</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-13" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> <a href="#ref-for-dfn-signature-14" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-15" title="§ 6.3.5 properties">§ 6.3.5 properties</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-16" title="§ 6.3.6 actions">§ 6.3.6 actions</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-17" title="§ 6.3.7 events">§ 6.3.7 events</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-18" title="§ 6.3.8 links">§ 6.3.8 links</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-19" title="§ 6.3.9 forms">§ 6.3.9 forms</a> 
    </li><li>
      <a href="#ref-for-dfn-signature-20" title="§ 6.3.10 Data Schemas">§ 6.3.10 Data Schemas</a> <a href="#ref-for-dfn-signature-21" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-simple-type" aria-label="Links in this document to definition: Simple Type">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-simple-type" aria-label="Permalink for definition: Simple Type. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-simple-type-1" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-simple-type-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-simple-type-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-simple-type-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-simple-type-5" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-simple-type-6" title="§ 6.1 Mapping to JSON Types">§ 6.1 Mapping to JSON Types</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-assignment-function" aria-label="Links in this document to definition: Assignment Function">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-assignment-function" aria-label="Permalink for definition: Assignment Function. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-assignment-function-1" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-assignment-function-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-assignment-function-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-assignment-function-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-assignment-function-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-assignment-function-6" title="Reference 6">(6)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-type-function" aria-label="Links in this document to definition: Type Function">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-type-function" aria-label="Permalink for definition: Type Function. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-type-function-1" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-type-function-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-type-function-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-instance-relation" aria-label="Links in this document to definition: Instance Relation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-instance-relation" aria-label="Permalink for definition: Instance Relation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-instance-relation-1" title="§ 3. Terminology">§ 3. Terminology</a> 
    </li><li>
      <a href="#ref-for-dfn-instance-relation-2" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-parameterized-classes" aria-label="Links in this document to definition: Parameterized Classes">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-parameterized-classes" aria-label="Permalink for definition: Parameterized Classes. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-subclass" aria-label="Links in this document to definition: Subclass">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-subclass" aria-label="Permalink for definition: Subclass. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-subclass-1" title="§ 5.3.1.3 PropertyAffordance">§ 5.3.1.3 PropertyAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-2" title="§ 5.3.1.4 ActionAffordance">§ 5.3.1.4 ActionAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-3" title="§ 5.3.1.5 EventAffordance">§ 5.3.1.5 EventAffordance</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-4" title="§ 5.3.2.2 ArraySchema">§ 5.3.2.2 ArraySchema</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-5" title="§ 5.3.2.3 BooleanSchema">§ 5.3.2.3 BooleanSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-6" title="§ 5.3.2.4 NumberSchema">§ 5.3.2.4 NumberSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-7" title="§ 5.3.2.5 IntegerSchema">§ 5.3.2.5 IntegerSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-8" title="§ 5.3.2.6 ObjectSchema">§ 5.3.2.6 ObjectSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-9" title="§ 5.3.2.7 StringSchema">§ 5.3.2.7 StringSchema</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-10" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> <a href="#ref-for-dfn-subclass-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-subclass-12" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-13" title="§ 6.3.10 Data Schemas">§ 6.3.10 Data Schemas</a> <a href="#ref-for-dfn-subclass-14" title="Reference 2">(2)</a> <a href="#ref-for-dfn-subclass-15" title="Reference 3">(3)</a> <a href="#ref-for-dfn-subclass-16" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-subclass-17" title="§ 7.3 Adding Security Schemes">§ 7.3 Adding Security Schemes</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-default-value" aria-label="Links in this document to definition: Default Value">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-default-value" aria-label="Permalink for definition: Default Value. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-default-value-1" title="§ 3. Terminology">§ 3. Terminology</a> <a href="#ref-for-dfn-default-value-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-3" title="§ 5.1 Overview">§ 5.1 Overview</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-4" title="§ 5.2 Preliminaries">§ 5.2 Preliminaries</a> <a href="#ref-for-dfn-default-value-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-default-value-6" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-7" title="§ 5.3.4.2.2 Response-related Terms Usage">§ 5.3.4.2.2 Response-related Terms Usage</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-8" title="§ 5.4 Default Value Definitions">§ 5.4 Default Value Definitions</a> <a href="#ref-for-dfn-default-value-9" title="Reference 2">(2)</a> <a href="#ref-for-dfn-default-value-10" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-11" title="§ 6.2 Omitting Default Values">§ 6.2 Omitting Default Values</a> <a href="#ref-for-dfn-default-value-12" title="Reference 2">(2)</a> <a href="#ref-for-dfn-default-value-13" title="Reference 3">(3)</a> <a href="#ref-for-dfn-default-value-14" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-15" title="§ 6.3.4 securityDefinitions and security">§ 6.3.4 securityDefinitions and security</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-16" title="§ 6.3.4.1 Multiple Security Definitions">§ 6.3.4.1 Multiple Security Definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-17" title="§ 8.3.1 Protocol Binding based on HTTP">§ 8.3.1 Protocol Binding based on HTTP</a> <a href="#ref-for-dfn-default-value-18" title="Reference 2">(2)</a> <a href="#ref-for-dfn-default-value-19" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-20" title="§ 8.3.2 Other Protocol Bindings">§ 8.3.2 Other Protocol Bindings</a> 
    </li><li>
      <a href="#ref-for-dfn-default-value-21" title="§ B. JSON Schema for TD Instance Validation">§ B. JSON Schema for TD Instance Validation</a> <a href="#ref-for-dfn-default-value-22" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>