<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.7.27" />
<meta charset="utf-8" />
<meta name="generator" content="ReSpec 24.34.0" />
<meta name="viewport" content=
"width=device-width, initial-scale=1, shrink-to-fit=no" />
<style>
<![CDATA[
  /* --- EXAMPLES --- */
  span.example-title {
    text-transform: none;
  }
  aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
  }
  div.illegal-example { color: red }
  div.illegal-example p { color: black }
  aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
  }

  aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
  }
  aside.example div.example span.example-title {
    color: #999;
  }
]]>
</style>

<style>
<![CDATA[
  /* --- ISSUES/NOTES --- */
  .issue-label {
    text-transform: initial;
  }

  .warning > p:first-child { margin-top: 0 }
  .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
  }
  span.warning { padding: .1em .5em .15em; }

  .issue.closed span.issue-number {
    text-decoration: line-through;
  }

  .warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
  }

  .warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 1.3em;
    float: left;
    padding-right: .3em;
    margin-top: -0.3em;
  }

  li.task-list-item {
    list-style: none;
  }

  input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
  }

  .issue a.respec-gh-label {
  padding: 5px;
  margin: 0 2px 0 2px;
  font-size: 10px;
  text-transform: none;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  position: relative;
  bottom: 2px;
  border: none;
  }

  .issue a.respec-label-dark {
  color: #fff;
  background-color: #000;
  }

  .issue a.respec-label-light {
  color: #000;
  background-color: #fff;
  }
]]>
</style>
<title>Web of Things (WoT) Thing Description</title>

<style id="respec-mainstyle">
<![CDATA[
  /*****************************************************************
  * ReSpec 3 CSS
  * Robin Berjon - http://berjon.com/
  *****************************************************************/

  @keyframes pop {
  0% {
    transform: scale(1, 1);
  }
  25% {
    transform: scale(1.25, 1.25);
    opacity: 0.75;
  }
  100% {
    transform: scale(1, 1);
  }
  }

  /* Override code highlighter background */
  .hljs {
  background: transparent !important;
  }

  /* --- INLINES --- */
  h1 abbr,
  h2 abbr,
  h3 abbr,
  h4 abbr,
  h5 abbr,
  h6 abbr,
  a abbr {
  border: none;
  }

  dfn {
  font-weight: bold;
  }

  a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
  }

  a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
  }

  a.bibref {
  text-decoration: none;
  }

  .respec-offending-element:target {
  animation: pop 0.25s ease-in-out 0s 1;
  }

  .respec-offending-element,
  a[href].respec-offending-element {
  text-decoration: red wavy underline;
  }
  @supports not (text-decoration: red wavy underline) {
  .respec-offending-element:not(pre) {
    display: inline-block;
  }
  .respec-offending-element {
    /* Red squiggly line */
    background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=)
      bottom repeat-x;
  }
  }

  #references :target {
  background: #eaf3ff;
  animation: pop 0.4s ease-in-out 0s 1;
  }

  cite .bibref {
  font-style: normal;
  }

  code {
  color: #c83500;
  }

  th code {
  color: inherit;
  }

  a[href].orcid {
    padding-left: 4px;
    padding-right: 4px;
  }

  a[href].orcid > svg {
    margin-bottom: -2px;
  }

  /* --- TOC --- */

  .toc a,
  .tof a {
  text-decoration: none;
  }

  a .secno,
  a .figno {
  color: #000;
  }

  ul.tof,
  ol.tof {
  list-style: none outside none;
  }

  .caption {
  margin-top: 0.5em;
  font-style: italic;
  }

  /* --- TABLE --- */

  table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
  }

  .simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
  }

  .simple th a {
  color: #fff;
  padding: 3px 5px;
  text-align: left;
  }

  .simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
  }

  .simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
  }

  .simple tr:nth-child(even) {
  background: #f0f6ff;
  }

  /* --- DL --- */

  .section dd > p:first-child {
  margin-top: 0;
  }

  .section dd > p:last-child {
  margin-bottom: 0;
  }

  .section dd {
  margin-bottom: 1em;
  }

  .section dl.attrs dd,
  .section dl.eldef dd {
  margin-bottom: 0;
  }

  #issue-summary > ul,
  .respec-dfn-list {
  column-count: 2;
  }

  #issue-summary li,
  .respec-dfn-list li {
  list-style: none;
  }

  details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
  }

  details.respec-tests-details > * {
  padding-right: 2em;
  }

  details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: 0.3em;
  background-color: white;
  padding-bottom: 0.5em;
  }

  details.respec-tests-details[open] > summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
  }

  details.respec-tests-details > ul {
  width: 100%;
  margin-top: -0.3em;
  }

  details.respec-tests-details > li {
  padding-left: 1em;
  }

  a[href].self-link:hover {
  opacity: 1;
  text-decoration: none;
  background-color: transparent;
  }

  h2,
  h3,
  h4,
  h5,
  h6 {
  position: relative;
  }

  aside.example .marker > a.self-link {
  color: inherit;
  }

  h2 > a.self-link,
  h3 > a.self-link,
  h4 > a.self-link,
  h5 > a.self-link,
  h6 > a.self-link {
  border: none;
  color: inherit;
  font-size: 83%;
  height: 2em;
  left: -1.6em;
  opacity: 0.5;
  position: absolute;
  text-align: center;
  text-decoration: none;
  top: 0;
  transition: opacity 0.2s;
  width: 2em;
  }

  h2 > a.self-link::before,
  h3 > a.self-link::before,
  h4 > a.self-link::before,
  h5 > a.self-link::before,
  h6 > a.self-link::before {
  content: "§";
  display: block;
  }

  @media (max-width: 767px) {
  dd {
    margin-left: 0;
  }

  /* Don't position self-link in headings off-screen */
  h2 > a.self-link,
  h3 > a.self-link,
  h4 > a.self-link,
  h5 > a.self-link,
  h6 > a.self-link {
    left: auto;
    top: auto;
  }
  }

  @media print {
  .removeOnSave {
    display: none;
  }
  }
]]>
</style>

<style>
<![CDATA[
  a[href].internalDFN {
    color: inherit;
    border-bottom: 1px solid #99c;
    text-decoration: none;
  }

  .example {
                border-color: #EA1252;
                background: #FEF11E;
                counter-increment: example;
                overflow: auto;
                clear: both;
  }

  .with-default .with-default-control {
    margin-top: 1em;
    margin-bottom: 1em;
  }

  .with-default pre.selected {
    margin-top: 0;
    margin-bottom: 1em;
    height: auto;
  }

  .with-default pre {
    margin-top: 0;
    margin-bottom: 0;
    height: 0;
  }
]]>
</style>

<script>
<![CDATA[
    document.addEventListener('DOMContentLoaded', () => {
        // let ReSpec do syntax highlighting first
        document.respecIsReady.then(() => {
            document.querySelectorAll('.with-default').forEach(n => {
                let wo = n.querySelector('pre:nth-of-type(1)');
                let w = n.querySelector('pre:nth-of-type(2)');
                let cbox = n.querySelector('.with-default-control input[type="checkbox"]');

                w.classList.add('selected');
                cbox.checked = true;

                cbox.addEventListener('change', e => {
                    if (e.target.checked) {
                        // with default
                        w.classList.add('selected');
                        wo.classList.remove('selected');
                    } else {
                        // without
                        w.classList.remove('selected');
                        wo.classList.add('selected');
                    }
                });
            });
        });
    });
]]>
</script>
<style>
<![CDATA[
  /* example tab selection */
  .ds-selector-tabs {
    padding-bottom: 2em;
  }
  .ds-selector-tabs .selectors {
    padding: 0;
    border-bottom: 1px solid #ccc;
    height: 28px;
  }
  .ds-selector-tabs .selectors button {
    display: inline-block;
    min-width: 54px;
    text-align: center;
    font-size: 11px;
    font-weight: bold;
    height: 27px;
    padding: 0 8px;
    line-height: 27px;
    transition: all,0.218s;
    border-top-right-radius: 2px;
    border-top-left-radius: 2px;
    color: #666;
    border: 1px solid transparent;
  }
  .ds-selector-tabs .selectors button:first-child {
    margin-left: 2px;
  }
  .ds-selector-tabs .selectors button.selected {
    color: #202020 !important;
    border: 1px solid #ccc;
    border-bottom: 1px solid #fff !important;
  }
  .ds-selector-tabs .selectors button:hover {
    background-color: transparent;
    color: #202020;
    cursor: pointer;
  }
  .ds-selector-tabs pre, .ds-selector-tabs table {
    display: none;
  }
  .ds-selector-tabs pre.selected, .ds-selector-tabs table.selected {
    display: block;
  }
  a.playground {
    display: inline-block;
    width: 150px;
    border: 1px solid transparent;
    border-top-right-radius: 2px;
    border-top-left-radius: 2px;
    background-color: rgb(192, 192, 192);
    text-decoration: none;
    font-size: 13px;
    margin-bottom: 10px;
  }
  a[href].playground {
    padding: 4px 0 3px 8px;
    border-bottom: none;
    text-decoration: none;
    color: #666;
  }
]]>
</style>

<style>
<![CDATA[
  .rfc2119-assertion {
  background-color: rgb(230,230,230)
  }
  #td-default-in-pop {
  background-color: yellow;
  }
  #td-default-alg-pop {
  background-color: yellow;
  }
  #td-default-format-pop {
  background-color: yellow;
  }
  #separator {
  background-color: yellow;
  }
  #td-security-oauth2-implicit-flow {
  background-color: yellow;
  }
  #td-security-oauth2-password-client-flow {
  background-color: yellow;
  }
  #td-security-pop-format-extensions {
  background-color: yellow;
  }
  #td-vocab-alg--PoPSecurityScheme {
  background-color: yellow;
  }
  #td-vocab-format--PoPSecurityScheme {
  background-color: yellow;
  }
  #td-vocab-identity--CertSecurityScheme {
  background-color: yellow;
  }
  #td-vocab-identity--PublicSecurityScheme {
  background-color: yellow;
  }
  #td-vocab-in--PoPSecurityScheme {
  background-color: yellow;
  }
  #td-vocab-name--PoPSecurityScheme {
  background-color: yellow;
  }
  #td-vocab-scheme--SecurityScheme_cert {
  background-color: yellow;
  }
  #td-vocab-scheme--SecurityScheme_pop {
  background-color: yellow;
  }
  #td-vocab-scheme--SecurityScheme_public {
  background-color: yellow;
  }
  #td-writeall-consumer {
  background-color: yellow;
  }

  .at-risk {
  background-color: yellow;
  }

]]>
</style>
<link rel="canonical" href=
"https://www.w3.org/TR/wot-thing-description/" />
<style>
<![CDATA[
  /*

  github.com style (c) Vasily Polovnyov <vast@whiteants.net>

  */

  .hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
  }

  .hljs-comment,
  .hljs-quote {
  color: #998;
  font-style: italic;
  }

  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-subst {
  color: #333;
  font-weight: bold;
  }

  .hljs-number,
  .hljs-literal,
  .hljs-variable,
  .hljs-template-variable,
  .hljs-tag .hljs-attr {
  color: #008080;
  }

  .hljs-string,
  .hljs-doctag {
  color: #d14;
  }

  .hljs-title,
  .hljs-section,
  .hljs-selector-id {
  color: #900;
  font-weight: bold;
  }

  .hljs-subst {
  font-weight: normal;
  }

  .hljs-type,
  .hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
  }

  .hljs-tag,
  .hljs-name,
  .hljs-attribute {
  color: #000080;
  font-weight: normal;
  }

  .hljs-regexp,
  .hljs-link {
  color: #009926;
  }

  .hljs-symbol,
  .hljs-bullet {
  color: #990073;
  }

  .hljs-built_in,
  .hljs-builtin-name {
  color: #0086b3;
  }

  .hljs-meta {
  color: #999;
  font-weight: bold;
  }

  .hljs-deletion {
  background: #fdd;
  }

  .hljs-addition {
  background: #dfd;
  }

  .hljs-emphasis {
  font-style: italic;
  }

  .hljs-strong {
  font-weight: bold;
  }
]]>
</style>

<style>
<![CDATA[
  var {
  position: relative;
  cursor: pointer;
  }

  var[data-type]::before,
  var[data-type]::after {
  position: absolute;
  left: 50%;
  top: -6px;
  opacity: 0;
  transition: opacity 0.4s;
  pointer-events: none;
  }

  /* the triangle or arrow or caret or whatever */
  var[data-type]::before {
  content: "";
  transform: translateX(-50%);
  border-width: 4px 6px 0 6px;
  border-style: solid;
  border-color: transparent;
  border-top-color: #000;
  }

  /* actual text */
  var[data-type]::after {
  content: attr(data-type);
  transform: translateX(-50%) translateY(-100%);
  background: #000;
  text-align: center;
  /* additional styling */
  font-family: "Dank Mono", "Fira Code", monospace;
  font-style: normal;
  padding: 6px;
  border-radius: 3px;
  color: #daca88;
  text-indent: 0;
  font-weight: normal;
  }

  var[data-type]:hover::after,
  var[data-type]:hover::before {
  opacity: 1;
  }
]]>
</style>

<script id="initialUserConfig" type="application/json">
<![CDATA[
  {
  "specStatus": "CR",
  "crEnd": "2019-12-03",
  "previousMaturity": "CR",
  "previousPublishDate": "2019-05-16",
  "implementationReportURI": "https://w3c.github.io/wot-thing-description/testing/report.html",
  "processVersion": 2019,
  "shortName": "wot-thing-description",
  "copyrightStart": 2017,
  "noLegacyStyle": true,
  "inlineCSS": true,
  "noIDLIn": true,
  "format": "markdown",
  "wg": "Web of Things Working Group",
  "wgURI": "https://www.w3.org/WoT/WG/",
  "charterDisclosureURI": "https://www.w3.org/2004/01/pp-impl/95969/status",
  "wgPublicList": "public-wot-wg",
  "edDraftURI": "https://w3c.github.io/wot-thing-description/",
  "github": "https://github.com/w3c/wot-thing-description",
  "issueBase": "https://github.com/w3c/wot-thing-description/issues",
  "editors": [
    {
      "name": "Sebastian Kaebisch",
      "w3cid": "43064",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    },
    {
      "name": "Takuki Kamiya",
      "w3cid": "29376",
      "company": "Fujitsu Laboratories of America",
      "companyURL": "https://www.fujitsu.com/"
    },
    {
      "name": "Michael McCool",
      "w3cid": "93137",
      "company": "Intel",
      "companyURL": "https://www.intel.com/"
    },
    {
      "name": "Victor Charpenay",
      "w3cid": "84448",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    },
    {
      "name": "Matthias Kovatsch",
      "w3cid": "75998",
      "company": "Huawei",
      "companyURL": "https://www.huawei.com/"
    }
  ],
  "localBiblio": {
    "JSON-SCHEMA": {
      "title": "JSON Schema Validation: A Vocabulary for Structural Validation of JSON",
      "href": "https://tools.ietf.org/html/draft-handrews-json-schema-validation-01",
      "authors": [
        "Austin Wright",
        "Henry Andrews",
        "Geraint Luff"
      ],
      "status": "Internet-Draft",
      "date": "19 March 2018",
      "publisher": "IETF",
      "id": "json-schema"
    },
    "OPENAPI": {
      "title": "OpenAPI Specification: Version 3.0.1",
      "href": "https://swagger.io/specification/",
      "authors": [
        "Darrel Miller",
        "Jason Harmon",
        "Jeremy Whitlock",
        "Kris Hahn",
        "Marsh Gardiner",
        "Mike Ralphson",
        "Rob Dolin",
        "Ron Ratovsky",
        "Tony Tam"
      ],
      "publisher": "OpenAPI Initiative, Linux Foundation",
      "date": "7 December 2017",
      "id": "openapi"
    },
    "SEMVER": {
      "title": "Semantic Versioning 2.0.0",
      "href": "https://semver.org/",
      "authors": [
        "Tom Preston-Werner"
      ],
      "date": "26 December 2017",
      "id": "semver"
    },
    "WOT-ARCHITECTURE": {
      "title": "Web of Things (WoT) Architecture",
      "href": "https://www.w3.org/TR/wot-architecture/",
      "authors": [
        "Matthias Kovatsch",
        "Ryuichi Matsukura",
        "Michael Lagally",
        "Toru Kawaguchi",
        "Kunihiko Toumura",
        "Kazuo Kajimoto"
      ],
      "publisher": "W3C",
      "date": "November 2019",
      "id": "wot-architecture"
    },
    "WOT-SECURITY-GUIDELINES": {
      "title": "Web of Things (WoT) Security and Privacy Guidelines",
      "href": "https://www.w3.org/TR/wot-security/",
      "authors": [
        "Michael McCool",
        "Elena Reshetova"
      ],
      "publisher": "W3C",
      "date": "November 2019",
      "id": "wot-security-guidelines"
    },
    "MQTT": {
      "title": "MQTT Version 3.1.1",
      "href": "http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html",
      "authors": [
        "Andrew Banks",
        "Rahul Gupta"
      ],
      "publisher": "OASIS",
      "date": "10 December 2015",
      "status": "OASIS Standard Incorporating Approved Errata 01",
      "id": "mqtt"
    },
    "ACE": {
      "title": "Authentication and Authorization for Constrained Environments (ACE) using the OAuth 2.0 Framework (ACE-OAuth)",
      "href": "https://tools.ietf.org/html/draft-ietf-ace-oauth-authz-24",
      "authors": [
        "L. Seitz",
        "G. Selander",
        "E. Wahlstroem",
        "S. Erdtman",
        "H. Tschofenig"
      ],
      "publisher": "IETF",
      "date": "27 March 2019",
      "status": "Internet-Draft",
      "id": "ace"
    },
    "RIJGERSBERG": {
      "href": "http://www.semantic-web-journal.net/content/ontology-units-measure-and-related-concepts",
      "authors": [
        "Hajo Rijgersberg",
        "Mark van Assem",
        "Jan Top"
      ],
      "title": "Ontology of Units of Measure and Related Concepts",
      "publisher": "Semantic Web journal, IOS Press",
      "date": "2013",
      "id": "rijgersberg"
    },
    "LDML": {
      "title": "Unicode Technical Standard #35: Unicode Locale Data Markup Language (LDML)",
      "href": "https://unicode.org/reports/tr35/",
      "authors": [
        "Mark Davis",
        "CLDR Contributors"
      ],
      "id": "ldml"
    }
  },
  "otherLinks": [
    {
      "key": "Participate",
      "data": [
        {
          "value": "GitHub w3c/wot-thing-description",
          "href": "https://github.com/w3c/wot-thing-description/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-thing-description/issues/"
        },
        {
          "value": "Commit history",
          "href": "https://github.com/w3c/wot-thing-description/commits/"
        },
        {
          "value": "Pull requests",
          "href": "https://github.com/w3c/wot-thing-description/pulls/"
        }
      ]
    },
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-thing-description/graphs/contributors"
        }
      ]
    },
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on GitHub",
          "href": "https://github.com/w3c/wot-thing-description/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-thing-description/issues"
        }
      ]
    }
  ],
  "publishISODate": "2019-11-06T00:00:00.000Z",
  "generatedSubtitle": "Candidate Recommendation 6 November 2019"
  }
]]>
</script>
<meta name="description" content=
"This document describes a formal model and a common representation for a Web of Things (WoT) Thing Description. A Thing Description describes the metadata and interfaces of Things, where a Thing is an abstraction of a physical or virtual entity that provides interactions to and participates in the Web of Things. Thing Descriptions provide a set of interactions based on a small vocabulary that makes it possible both to integrate diverse devices and to allow diverse applications to interoperate. Thing Descriptions, by default, are encoded in a JSON format that also allows JSON-LD processing. The latter provides a powerful foundation to represent knowledge about Things in a machine-understandable way. A Thing Description instance can be hosted by the Thing itself or hosted externally when a Thing has resource restrictions (e.g., limited memory space) or when a Web of Things-compatible legacy device is retrofitted with a Thing Description." />
<link rel="stylesheet" href=
"https://www.w3.org/StyleSheets/TR/2016/W3C-CR" />
<style type='text/css'>
.diff-old-a {
  font-size: smaller;
  color: red;
}

.diff-new { background-color: yellow; }
.diff-chg { background-color: lime; }
.diff-new:before,
.diff-new:after
    { content: "\2191" }
.diff-chg:before, .diff-chg:after
    { content: "\2195" }
.diff-old { text-decoration: line-through; background-color: #FBB; }
.diff-old:before,
.diff-old:after
    { content: "\2193" }
:focus { border: thin red solid}
</style>
</head>
<body class="h-entry toc-inline">
<div class="head">
<a class="logo" href= "https://www.w3.org/">
<img alt="W3C" width="72" height="48" src= "https://www.w3.org/StyleSheets/TR/2016/logos/W3C" />
</a>
<h1 id="title" class="title p-name">
Web
of
Things
(WoT)
Thing
Description
</h1>
<h2>
W3C
Candidate
Recommendation
<del class="diff-old">16
May
</del>
<time class="dt-published" datetime="2019-11-06">
<ins class="diff-chg">6
November
</ins>
2019
</time>
</h2>
<dl>
<dt>
This
version:
</dt>
<dd>
<del class="diff-old">https://www.w3.org/TR/2019/CR-wot-thing-description-20190516/
</del>
<a class="u-url" href= "https://www.w3.org/TR/2019/CR-wot-thing-description-20191106/">
<ins class="diff-chg">https://www.w3.org/TR/2019/CR-wot-thing-description-20191106/
</ins>
</a>
</dd>
<dt>
Latest
published
version:
</dt>
<dd>
<a href= "https://www.w3.org/TR/wot-thing-description/">
https://www.w3.org/TR/wot-thing-description/
</a>
</dd>
<dt>
Latest
editor's
draft:
</dt>
<dd>
<a href= "https://w3c.github.io/wot-thing-description/">
https://w3c.github.io/wot-thing-description/
</a>
</dd>
<dt>
Implementation
report:
</dt>
<dd>
<a href= "https://w3c.github.io/wot-thing-description/testing/report.html">
https://w3c.github.io/wot-thing-description/testing/report.html
</a>
</dd>
<dt>
Previous
version:
</dt>
<dd>
<del class="diff-old">https://www.w3.org/TR/2018/WD-wot-thing-description-20181021/
</del>
<a href= "https://www.w3.org/TR/2019/CR-wot-thing-description-20190516/">
<ins class="diff-chg">https://www.w3.org/TR/2019/CR-wot-thing-description-20190516/
</ins>
</a>
</dd>
<dt>
Editors:
</dt>
<dd class="p-author h-card vcard" data-editor-id="43064">
<span class="p-name fn">
Sebastian
Kaebisch
</span>
(
<a class= "p-org org h-org h-card" href="https://www.siemens.com/">
Siemens
AG
</a>
)
</dd>
<dd class="p-author h-card vcard" data-editor-id="29376">
<span class="p-name fn">
Takuki
Kamiya
</span>
(
<a class= "p-org org h-org h-card" href="https://www.fujitsu.com/">
Fujitsu
Laboratories
of
<del class="diff-old">America,
Inc.
</del>
<ins class="diff-chg">America
</ins>
</a>
)
</dd>
<dd class="p-author h-card vcard" data-editor-id="93137">
<span class="p-name fn">
Michael
McCool
</span>
(
<a class= "p-org org h-org h-card" href= "https://www.intel.com/">
Intel
</a>
)
</dd>
<dd class="p-author h-card vcard" data-editor-id="84448">
<span class="p-name fn">
Victor
Charpenay
</span>
(
<a class= "p-org org h-org h-card" href="https://www.siemens.com/">
Siemens
AG
</a>
)
</dd>
<dd class="p-author h-card vcard" data-editor-id="75998">
<span class="p-name fn">
<ins class="diff-new">Matthias
Kovatsch
</ins></span><ins class="diff-new">
(
</ins><a class= "p-org org h-org h-card" href= "https://www.huawei.com/"><ins class="diff-new">
Huawei
</ins></a><ins class="diff-new">
)
</ins></dd>
<dt>
Participate:
</dt>
<dd>
<a href="https://github.com/w3c/wot-thing-description/">
GitHub
w3c/wot-thing-description
</a>
</dd>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/issues/">
File
a
bug
</a>
</dd>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/commits/">
Commit
history
</a>
</dd>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/pulls/">
Pull
requests
</a>
</dd>
<dt>
Contributors:
</dt>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/graphs/contributors">
In
the
GitHub
repository
</a>
</dd>
<dt>
Repository:
</dt>
<dd>
<a href="https://github.com/w3c/wot-thing-description/">
We
are
on
GitHub
</a>
</dd>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/issues">
File
a
bug
</a>
</dd>
</dl>
<p class="copyright">
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">
Copyright
</a>
©
2017-2019
<a href="https://www.w3.org/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
</a>
<sup>
®
</sup>
(
<a href= "https://www.csail.mit.edu/">
<abbr title= "Massachusetts Institute of Technology">
MIT
</abbr>
</a>,
<a href= "https://www.ercim.eu/">
<abbr title= "European Research Consortium for Informatics and Mathematics">
ERCIM
</abbr>
</a>,
<a href="https://www.keio.ac.jp/">
Keio
</a>,
<a href= "https://ev.buaa.edu.cn/">
Beihang
</a>
).
W3C
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">
liability
</a>,
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">
trademark
</a>
and
<a rel="license" href= "https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">
permissive
document
license
</a>
rules
apply.
</p>
<hr title="Separator for header" />
</div>
<section id="abstract" class="introductory">
<h2>
Abstract
</h2>
<p>
This
document
describes
a
formal
model
and
a
common
representation
for
a
Web
of
Things
(WoT)
Thing
Description.
A
Thing
Description
describes
the
metadata
and
interfaces
of
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>,
where
a
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
is
an
abstraction
of
a
physical
or
virtual
entity
that
provides
interactions
to
and
participates
in
the
Web
of
Things.
Thing
Descriptions
provide
a
set
of
interactions
based
on
a
small
vocabulary
that
makes
it
possible
both
to
integrate
diverse
devices
and
to
allow
diverse
applications
to
interoperate.
Thing
Descriptions,
by
default,
are
encoded
in
a
JSON
format
that
also
allows
JSON-LD
processing.
The
latter
provides
a
powerful
foundation
to
represent
knowledge
about
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Things
</a>
in
a
machine-understandable
way.
A
Thing
Description
instance
can
be
hosted
by
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
itself
or
hosted
externally
when
a
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
has
resource
restrictions
(e.g.,
limited
memory
space)
or
when
a
Web
of
Things-compatible
legacy
device
is
retrofitted
with
a
Thing
Description.
</p>
</section>
<section id="sotd" class="introductory">
<h2>
Status
of
This
Document
</h2>
<p>
<em>
This
section
describes
the
status
of
this
document
at
the
time
of
its
publication.
Other
documents
may
supersede
this
document.
A
list
of
current
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
publications
and
the
latest
revision
of
this
technical
report
can
be
found
in
the
<a href= "https://www.w3.org/TR/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
technical
reports
index
</a>
at
https://www.w3.org/TR/.
</em>
</p>
<p>
The
following
<span class="at-risk">
<ins class="diff-new">at-risk
</ins>
features
<del class="diff-old">are
considered
at
risk
of
removal
</del>
</span>
<ins class="diff-chg">(marked
in
yellow
throughout
this
specification)
may
be
removed
</ins>
due
to
<del class="diff-old">potentially
</del>
insufficient
implementation
experience
<del class="diff-old">(reports).
</del>
<a href= "https://w3c.github.io/wot-thing-description/testing/report.html">
<ins class="diff-chg">reported
</ins></a><ins class="diff-chg">
and/or
comments
received
during
the
CR
period:
</ins>
</p>
<ul>
<li>
Whole
sections
related
to
the
security
schemes
described
in
<del class="diff-old">§&nbsp;
5.3.3.5
APIKeySecurityScheme
,
</del>
<a href="#certsecurityscheme" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3.3.7
</bdi>
<code>
CertSecurityScheme
</code>
</a>,
<del class="diff-old">§&nbsp;
5.3.3.8
PSKSecurityScheme
,
</del>
<a href= "#publicsecurityscheme" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3.3.9
</bdi>
<code>
PublicSecurityScheme
</code>
</a>,
<ins class="diff-new">and
</ins>
<a href="#popsecurityscheme" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3.3.10
</bdi>
<code>
PoPSecurityScheme
</code>
<del class="diff-old">and
§&nbsp;
5.3.3.11
OAuth2SecurityScheme
</del>
</a>.
</li>
<li>
Vocabulary
terms
<ins class="diff-new">and
assertions
related
to
the
</ins>
<code>
<del class="diff-old">proxy
in
§&nbsp;
5.3.3.1
SecurityScheme
,
qop
in
§&nbsp;
5.3.3.4
</del>
<ins class="diff-chg">implicit
</ins></code>,
<code>
<del class="diff-old">DigestSecurityScheme
</del>
<ins class="diff-chg">password
</ins></code>,
and
<code>
<del class="diff-old">scopes
</del>
<ins class="diff-chg">client
</ins>
</code>
<del class="diff-old">term
</del>
<ins class="diff-chg">flows
</ins>
in
<a href="#oauth2securityscheme" class= "sec-ref">
§&nbsp;
<del class="diff-old">5.3.4.2
</del>
<bdi class="secno">
<ins class="diff-chg">5.3.3.11
</ins>
</bdi>
<code>
<del class="diff-old">Form
</del>
<ins class="diff-chg">OAuth2SecurityScheme
</ins>
</code>
</a>.
</li>
<li>
All
default
values
related
to
the
above
in
<a href= "#sec-default-values" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.4
</bdi>
Default
Value
Definitions
</a>.
</li>
<del class="diff-old">Text
or
table
entries
highlighted
with
a
yellow
background
indicate
an
at-risk
feature
</del>
<li>
<ins class="diff-chg">A
</ins><a href="#td-writeall-consumer"><ins class="diff-chg">
behavioral
assertion
</ins></a>
for
<del class="diff-old">which
insufficient
implementation
experience
currently
exists.
In
each
such
case
the
annotation
"This
feature
is
at
risk"
is
attached.
When
an
entire
section
is
at
risk
the
annotation
"
This
section
is
at
risk
"
is
placed
at
the
start
of
the
section
and
highlighted
with
a
yellow
background.
When
an
entire
section
is
at
risk
individual
items
within
</del>
<code>
<ins class="diff-chg">writeallproperties
</ins></code>
that
<del class="diff-old">section
are
not
highlighted
or
annotated.
The
Working
Group
seeks
implementation
feedback,
having
set
the
requirement
of
at
least
two
implementations
of
each
feature
as
the
exit
criteria
for
the
Candidate
Recommendation
phase.
The
group
aims
to
obtain
reports
from
one
TD
producer
and
one
TD
consumer
for
each
feature
if
applicable.
For
details,
including
definitions
</del>
<ins class="diff-chg">allows
rejection
</ins>
of
<del class="diff-old">implementation,
TD
producer,
and
TD
consumer,
see
the
draft
implementation
report
.
</del>
<ins class="diff-chg">incomplete
writes.
</ins></li></ul>
<p>
This
document
was
published
by
the
<a href= "https://www.w3.org/WoT/WG/">
Web
of
Things
Working
Group
</a>
as
a
Candidate
Recommendation.
This
document
is
intended
to
become
a
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Recommendation.
</p>
<p>
<a href= "https://github.com/w3c/wot-thing-description/issues">
GitHub
Issues
</a>
are
preferred
for
discussion
of
this
specification.
Alternatively,
you
can
send
comments
to
our
mailing
list.
Please
send
them
to
<a href= "mailto:public-wot-wg@w3.org">
public-wot-wg@w3.org
</a>
(
<a href= "mailto:public-wot-wg-request@w3.org?subject=subscribe">
subscribe
</a>,
<a href= "https://lists.w3.org/Archives/Public/public-wot-wg/">
archives
</a>
).
</p>
<p>
<abbr title="World Wide Web Consortium">
W3C
</abbr>
publishes
a
Candidate
Recommendation
to
indicate
that
the
document
is
believed
to
be
stable
and
to
encourage
implementation
by
the
developer
community.
This
Candidate
Recommendation
is
expected
to
advance
to
Proposed
Recommendation
no
earlier
than
<del class="diff-old">13
June
</del>
<ins class="diff-chg">3
December
</ins>
2019.
</p>
<p>
Please
see
the
Working
Group's
<a href= "https://w3c.github.io/wot-thing-description/testing/report.html">
implementation
report
</a>.
</p>
<p>
Publication
as
a
Candidate
Recommendation
does
not
imply
endorsement
by
the
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
Membership.
This
is
a
draft
document
and
may
be
updated,
replaced
or
obsoleted
by
other
documents
at
any
time.
It
is
inappropriate
to
cite
this
document
as
other
than
work
in
progress.
</p>
<p>
This
document
was
produced
by
a
group
operating
under
the
<a href="https://www.w3.org/Consortium/Patent-Policy/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
<abbr title="World Wide Web Consortium">
W3C
</abbr>
maintains
a
<a rel="disclosure" href= "https://www.w3.org/2004/01/pp-impl/95969/status">
public
list
of
any
patent
disclosures
</a>
made
in
connection
with
the
deliverables
of
the
group;
that
page
also
includes
instructions
for
disclosing
a
patent.
An
individual
who
has
actual
knowledge
of
a
patent
which
the
individual
believes
contains
<a href= "https://www.w3.org/Consortium/Patent-Policy/#def-essential">
Essential
Claim(s)
</a>
must
disclose
the
information
in
accordance
with
<a href= "https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">
section
6
of
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
</p>
<p>
This
document
is
governed
by
the
<a id="w3c_process_revision" href="https://www.w3.org/2019/Process-20190301/">
1
March
2019
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Process
Document
</a>.
</p>
</section>
<nav id="toc">
<h2 class="introductory" id="table-of-contents">
Table
of
Contents
</h2>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#introduction">
<bdi class="secno">
1.
</bdi>
Introduction
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#conformance">
<bdi class="secno">
2.
</bdi>
Conformance
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#terminology">
<bdi class="secno">
3.
</bdi>
Terminology
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#namespaces">
<bdi class="secno">
4.
</bdi>
Namespaces
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-vocabulary-definition">
<bdi class="secno">
5.
</bdi>
TD
Information
Model
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href="#overview">
<bdi class= "secno">
5.1
</bdi>
Overview
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#preliminary-definitions">
<bdi class="secno">
5.2
</bdi>
Preliminaries
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#class-definitions">
<bdi class="secno">
5.3
</bdi>
Class
Definitions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#sec-core-vocabulary-definition">
<bdi class="secno">
5.3.1
</bdi>
Core
Vocabulary
Definitions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href="#thing">
<bdi class= "secno">
5.3.1.1
</bdi>
<code>
Thing
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#interactionaffordance">
<bdi class="secno">
5.3.1.2
</bdi>
<code>
InteractionAffordance
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#propertyaffordance">
<bdi class="secno">
5.3.1.3
</bdi>
<code>
PropertyAffordance
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#actionaffordance">
<bdi class="secno">
5.3.1.4
</bdi>
<code>
ActionAffordance
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#eventaffordance">
<bdi class="secno">
5.3.1.5
</bdi>
<code>
EventAffordance
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#versioninfo">
<bdi class="secno">
5.3.1.6
</bdi>
<code>
VersionInfo
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#multilanguage">
<bdi class="secno">
5.3.1.7
</bdi>
<code>
MultiLanguage
</code>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-data-schema-vocabulary-definition">
<bdi class= "secno">
5.3.2
</bdi>
Data
Schema
Vocabulary
Definitions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#dataschema">
<bdi class="secno">
5.3.2.1
</bdi>
<code>
DataSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#arrayschema">
<bdi class="secno">
5.3.2.2
</bdi>
<code>
ArraySchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#booleanschema">
<bdi class="secno">
5.3.2.3
</bdi>
<code>
BooleanSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#numberschema">
<bdi class="secno">
5.3.2.4
</bdi>
<code>
NumberSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#integerschema">
<bdi class="secno">
5.3.2.5
</bdi>
<code>
IntegerSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#objectschema">
<bdi class="secno">
5.3.2.6
</bdi>
<code>
ObjectSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#stringschema">
<bdi class="secno">
5.3.2.7
</bdi>
<code>
StringSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#nullschema">
<bdi class="secno">
5.3.2.8
</bdi>
<code>
NullSchema
</code>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-vocabulary-definition">
<bdi class= "secno">
5.3.3
</bdi>
Security
Vocabulary
Definitions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#securityscheme">
<bdi class="secno">
5.3.3.1
</bdi>
<code>
SecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#nosecurityscheme">
<bdi class="secno">
5.3.3.2
</bdi>
<code>
NoSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#basicsecurityscheme">
<bdi class="secno">
5.3.3.3
</bdi>
<code>
BasicSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#digestsecurityscheme">
<bdi class="secno">
5.3.3.4
</bdi>
<code>
DigestSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#apikeysecurityscheme">
<bdi class="secno">
5.3.3.5
</bdi>
<code>
APIKeySecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#bearersecurityscheme">
<bdi class="secno">
5.3.3.6
</bdi>
<code>
BearerSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#certsecurityscheme">
<bdi class="secno">
5.3.3.7
</bdi>
<code>
CertSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#psksecurityscheme">
<bdi class="secno">
5.3.3.8
</bdi>
<code>
PSKSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#publicsecurityscheme">
<bdi class="secno">
5.3.3.9
</bdi>
<code>
PublicSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#popsecurityscheme">
<bdi class="secno">
5.3.3.10
</bdi>
<code>
PoPSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#oauth2securityscheme">
<bdi class="secno">
5.3.3.11
</bdi>
<code>
OAuth2SecurityScheme
</code>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-hypermedia-vocabulary-definition">
<bdi class= "secno">
5.3.4
</bdi>
Hypermedia
Controls
Vocabulary
Definitions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href="#link">
<bdi class= "secno">
5.3.4.1
</bdi>
<code>
Link
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href="#form">
<bdi class= "secno">
5.3.4.2
</bdi>
<code>
Form
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#expectedresponse">
<bdi class="secno">
5.3.4.3
</bdi>
<code>
ExpectedResponse
</code>
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-default-values">
<bdi class="secno">
5.4
</bdi>
Default
Value
Definitions
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-td-serialization">
<bdi class="secno">
6.
</bdi>
TD
Representation
Format
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#td-basic-types-mapping">
<bdi class="secno">
6.1
</bdi>
Mapping
to
JSON
Types
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#omitting-default-values">
<bdi class="secno">
6.2
</bdi>
Omitting
Default
Values
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#td-class-serialization">
<bdi class="secno">
6.3
</bdi>
Information
Model
Serialization
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#sec-thing-as-a-whole-json">
<bdi class="secno">
6.3.1
</bdi>
Thing
Root
Object
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#titles-descriptions-serialization-json">
<bdi class= "secno">
6.3.2
</bdi>
Human-Readable
Metadata
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#version-serialization-json">
<bdi class="secno">
6.3.3
</bdi>
<code>
version
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#security-serialization-json">
<bdi class="secno">
6.3.4
</bdi>
<code>
securityDefinitions
</code>
and
<code>
security
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#property-serialization-json">
<bdi class="secno">
6.3.5
</bdi>
<code>
properties
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#action-serialization-json">
<bdi class="secno">
6.3.6
</bdi>
<code>
actions
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#event-serialization-json">
<bdi class="secno">
6.3.7
</bdi>
<code>
events
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#link-serialization-json">
<bdi class="secno">
6.3.8
</bdi>
<code>
links
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#form-serialization-json">
<bdi class="secno">
6.3.9
</bdi>
<code>
forms
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#data-schema-serialization-json">
<bdi class="secno">
6.3.10
</bdi>
Data
Schemas
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#identification">
<bdi class="secno">
6.4
</bdi>
Identification
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-context-extensions">
<bdi class="secno">
7.
</bdi>
TD
Context
Extensions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#semantic-annotations">
<bdi class="secno">
7.1
</bdi>
Semantic
Annotations
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#adding-protocol-bindings">
<bdi class="secno">
7.2
</bdi>
Adding
Protocol
Bindings
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#adding-security-schemes">
<bdi class="secno">
7.3
</bdi>
Adding
Security
Schemes
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href="#behavior">
<bdi class= "secno">
8.
</bdi>
Behavioral
Assertions
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#behavior-security">
<bdi class="secno">
8.1
</bdi>
Security
Configurations
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#behavior-data">
<bdi class="secno">
8.2
</bdi>
Data
Schemas
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#protocol-bindings">
<bdi class="secno">
8.3
</bdi>
Protocol
Bindings
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#http-binding-assertions">
<bdi class="secno">
8.3.1
</bdi>
<del class="diff-old">HTTP
</del>
Protocol
Binding
<ins class="diff-new">based
on
HTTP
</ins>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#other-protocol-bindings">
<bdi class="secno">
8.3.2
</bdi>
Other
Protocol
Bindings
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration">
<bdi class="secno">
9.
</bdi>
Security
and
Privacy
Considerations
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-context">
<bdi class="secno">
9.1
</bdi>
Context
Dereferencing
Privacy
Risk
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-id">
<bdi class="secno">
9.2
</bdi>
Immutable
Identifiers
Privacy
Risk
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-fingerprint">
<bdi class= "secno">
9.3
</bdi>
Fingerprinting
Privacy
Risk
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-global-id-risk">
<bdi class= "secno">
9.4
</bdi>
<ins class="diff-new">Globally
Unique
Identifier
Privacy
Risk
</ins></a></li><li class="tocline"><a class="tocxref" href= "#sec-security-consideration-TD-tampering"><bdi class= "secno"><ins class="diff-new">
9.5
</ins></bdi>
TD
Interception
and
Tampering
Security
Risk
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-context-tampering">
<bdi class= "secno">
<del class="diff-old">9.5
</del>
<ins class="diff-chg">9.6
</ins>
</bdi>
Context
Interception
and
Tampering
Security
Risk
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-inferencing">
<bdi class= "secno">
<del class="diff-old">9.6
</del>
<ins class="diff-chg">9.7
</ins>
</bdi>
Inferencing
of
Personally
Identifiable
Information
Privacy
Risk
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#iana-section">
<bdi class="secno">
10.
</bdi>
IANA
Considerations
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#media-type-section">
<bdi class="secno">
10.1
</bdi>
<code>
application/td+json
</code>
Media
Type
Registration
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#content-format-section">
<bdi class="secno">
10.2
</bdi>
CoAP
Content-Format
Registration
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#example-serialization">
<bdi class="secno">
A.
</bdi>
Example
Thing
Description
Instances
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#myLampThing-example-serialization">
<bdi class="secno">
A.1
</bdi>
MyLampThing
Example
with
CoAP
Protocol
Binding
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#myLightSensor-example-serialization">
<bdi class="secno">
A.2
</bdi>
MyLightSensor
Example
with
MQTT
Protocol
Binding
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#webhook-example-serialization">
<bdi class="secno">
A.3
</bdi>
Webhook
Event
Example
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#json-schema-for-validation">
<bdi class="secno">
B.
</bdi>
JSON
Schema
for
TD
Instance
Validation
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#thing-templates">
<bdi class="secno">
C.
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Templates
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#thing-template-examples">
<bdi class="secno">
C.1
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Template
Examples
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#lamp-thing-template">
<bdi class="secno">
C.1.1
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Template:
Lamp
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#buzzer-thing-template">
<bdi class="secno">
C.1.2
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Template:
Buzzer
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#json-ld-ctx-usage">
<bdi class="secno">
D.
</bdi>
<del class="diff-old">Transformation
to
RDF
D.1
Thing
Description
</del>
JSON-LD
Context
<ins class="diff-new">Usage
</ins>
</a>
</li>
<li class="tocline">
<del class="diff-old">D.2
Thing
Description
Ontology
</del>
<a class="tocxref" href="#changes">
<bdi class= "secno">
E.
</bdi>
Recent
Specification
Changes
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#changes-from-first-candidate-recommendation">
<bdi class= "secno">
E.1
</bdi>
Changes
from
<del class="diff-old">Third
Public
Working
Draft
</del>
<ins class="diff-chg">First
Candidate
Recommendation
</ins>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#changes-from-third-public-working-draft-0">
<bdi class= "secno">
E.2
</bdi>
Changes
from
<del class="diff-old">Second
</del>
<ins class="diff-chg">Third
</ins>
Public
Working
Draft
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#acknowledgements">
<bdi class="secno">
F.
</bdi>
Acknowledgements
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#references">
<bdi class="secno">
G.
</bdi>
References
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#normative-references">
<bdi class="secno">
G.1
</bdi>
Normative
references
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#informative-references">
<bdi class="secno">
G.2
</bdi>
Informative
references
</a>
</li>
</ol>
</li>
</ol>
</nav>
<section id="introduction" class="informative">
<h2 id="x1-introduction">
<bdi class="secno">
1.
</bdi>
Introduction
<a class="self-link" aria-label="§" href= "#introduction">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
The
WoT
Thing
Description
(TD)
is
a
central
building
block
in
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Web
of
Things
(WoT)
and
can
be
considered
as
the
entry
point
of
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
(much
like
the
<i>
index.html
</i>
of
a
Web
site).
A
TD
instance
has
four
main
components:
textual
metadata
about
the
<a href= "#thing">
Thing
</a>
itself,
a
set
of
<a href= "#interactionaffordance">
Interaction
Affordances
</a>
that
indicate
how
the
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
can
be
used,
<a href= "#sec-data-schema-vocabulary-definition">
schemas
</a>
for
the
data
exchanged
with
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
for
machine-understandability,
and,
finally,
<a href="#sec-hypermedia-vocabulary-definition">
Web
links
</a>
to
express
any
formal
or
informal
relation
to
other
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>
or
documents
on
the
Web.
</p>
<p>
The
<a href="#dfn-interaction-model" class="internalDFN" data-link-type="dfn">
Interaction
Model
</a>
of
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
WoT
defines
three
types
of
<a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn">
Interaction
Affordances
</a>:
Properties
(
<a href="#propertyaffordance">
<code>
PropertyAffordance
</code>
</a>
class)
can
be
used
for
sensing
and
controlling
parameters,
such
as
getting
the
current
value
or
setting
an
operation
state.
Actions
(
<a href="#actionaffordance">
<code>
ActionAffordance
</code>
</a>
class)
model
invocation
of
physical
(and
hence
time-consuming)
processes,
but
can
also
be
used
to
abstract
RPC-like
calls
of
existing
platforms.
Events
(
<a href= "#eventaffordance">
<code>
EventAffordance
</code>
</a>
class)
are
used
for
the
push
model
of
communication
where
notifications,
discrete
events,
or
streams
of
values
are
sent
asynchronously
to
the
receiver.
See
[
<cite>
<del class="diff-old">wot-architecture
</del>
<a class="bibref" href="#bib-wot-architecture" title="Web of Things (WoT) Architecture" data-link-type= "biblio">
<ins class="diff-chg">WOT-ARCHITECTURE
</ins>
</a>
</cite>
]
for
details.
</p>
<p>
In
general,
the
TD
provides
metadata
for
different
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Bindings
</a>
identified
by
URI
schemes
[
<cite>
<del class="diff-old">iana-uri-schemes
</del>
<a class="bibref" href="#bib-rfc3986" title= "Uniform Resource Identifier (URI): Generic Syntax" data-link-type= "biblio">
<ins class="diff-chg">RFC3986
</ins>
</a>
</cite>
]
(e.g.,
<code>
http
</code>,
<code>
coap
</code>,
<del class="diff-old">etc.),
</del>
<ins class="diff-chg">etc.
[
</ins><cite><a class="bibref" href= "#bib-iana-uri-schemes" title= "Uniform Resource Identifier (URI) Schemes" data-link-type= "biblio"><ins class="diff-chg">
IANA-URI-SCHEMES
</ins></a></cite><ins class="diff-chg">
]),
</ins>
content
types
based
on
media
types
<ins class="diff-new">[
</ins><cite><a class="bibref" href="#bib-rfc2046" title= "Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types" data-link-type="biblio"><ins class="diff-new">
RFC2046
</ins></a></cite><ins class="diff-new">
]
</ins>
(e.g.,
<code>
application/json
</code>,
<code>
application/xml
</code>,
<code>
application/cbor
</code>,
<code>
application/exi
<del class="diff-old">etc.)
</del>
</code>,
<ins class="diff-chg">etc.
</ins>
[
<cite>
<del class="diff-old">iana-media-types
</del>
<a class="bibref" href="#bib-iana-media-types" title= "Media Types" data-link-type= "biblio">
<ins class="diff-chg">IANA-MEDIA-TYPES
</ins>
</a>
</cite>
<del class="diff-old">],
</del>
<ins class="diff-chg">]),
</ins>
and
security
mechanisms
(for
authentication,
authorization,
confidentiality,
etc.).
Serialization
of
TD
instances
is
based
on
JSON
[
<cite>
<del class="diff-old">rfc8259
</del>
<a class= "bibref" href="#bib-rfc8259" title= "The JavaScript Object Notation (JSON) Data Interchange Format" data-link-type="biblio">
<ins class="diff-chg">RFC8259
</ins>
</a>
</cite>
],
where
JSON
names
refer
to
terms
of
the
TD
vocabulary,
as
defined
in
this
specification
document.
In
addition
the
JSON
serialization
of
TDs
follows
the
syntax
of
JSON-LD
1.1
[
<cite>
<del class="diff-old">json-ld11
</del>
<a class="bibref" href= "#bib-json-ld11" title="JSON-LD 1.1" data-link-type= "biblio">
<ins class="diff-chg">JSON-LD11
</ins>
</a>
</cite>
]
to
enable
extensions
and
rich
semantic
processing.
</p>
<p>
<a href="#simple-thing-description-sample">
Example
1
</a>
shows
a
TD
instance
and
illustrates
the
<a href="#dfn-interaction-model" class="internalDFN" data-link-type="dfn">
Interaction
Model
</a>
with
Properties,
Actions,
and
Events
by
describing
a
lamp
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
with
the
title
<i>
MyLampThing
</i>.
</p>
<aside class="example" id="simple-thing-description-sample">
<div class="marker">
<a class="self-link" href= "#simple-thing-description-sample">
Example
<bdi>
1
</bdi>
</a>
<span class="example-title">:
Thing
Description
Sample
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {<span class=
"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>, <span class=
"hljs-attr">"in"</span>:<span class="hljs-string">"header"</span>}
    },
    <span class="hljs-attr">"security"</span>: [<span class=
"hljs-string">"basic_sc"</span>],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span> : {
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{<span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>}]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span> : {
            <span class="hljs-attr">"forms"</span>: [{<span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>}]
        }
    },
    <span class="hljs-attr">"events"</span>:{
        <span class="hljs-attr">"overheating"</span>:{
            <span class="hljs-attr">"data"</span>: {<span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>},
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class=
"hljs-attr">"subprotocol"</span>: <span class=
"hljs-string">"longpoll"</span>
            }]
        }
    }
}
</code>
</pre>
</aside>
<p>
From
this
TD
example,
we
know
there
exists
one
<a href= "#propertyaffordance">
Property
affordance
</a>
with
the
title
<i>
status
</i>.
In
addition,
information
is
provided
to
indicate
that
this
Property
is
accessible
via
(the
secure
form
of)
the
HTTP
protocol
with
a
GET
method
at
the
URI
<code>
https://mylamp.example.com/status
</code>
(announced
within
the
<code>
forms
</code>
structure
by
the
<code>
href
</code>
member),
and
will
return
a
string-based
status
value.
The
use
of
the
GET
method
is
not
stated
explicitly,
but
is
one
of
the
default
assumptions
defined
by
this
document.
</p>
<p>
In
a
similar
manner,
an
<a href="#actionaffordance">
Action
affordance
</a>
is
specified
to
toggle
the
switch
status
using
the
POST
method
on
the
<code>
https://mylamp.example.com/toggle
</code>
resource,
where
POST
is
again
a
default
assumption
for
invoking
Actions.
</p>
<p>
The
<a href="#eventaffordance">
Event
affordance
</a>
enables
a
mechanism
for
asynchronous
messages
to
be
sent
by
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>.
Here,
a
subscription
to
be
notified
upon
a
possible
overheating
event
of
the
lamp
can
be
obtained
by
using
HTTP
with
its
long
polling
subprotocol
on
<code>
https://mylamp.example.com/oh
</code>.
</p>
<p>
This
example
also
specifies
the
<code>
basic
</code>
security
scheme,
requiring
a
username
and
password
for
access.
Note
that
a
security
scheme
is
first
given
a
name
in
a
<code>
securityDefinition
</code>
and
then
activated
by
specifying
that
name
in
a
<code>
security
</code>
section.
In
combination
with
the
use
of
the
HTTP
protocol
this
example
demonstrates
the
use
of
HTTP
Basic
Authentication.
Specification
of
at
least
one
security
scheme
at
the
top
level
is
mandatory,
and
gives
the
default
access
requirements
for
every
resource.
However,
security
schemes
can
also
be
specified
per-form,
with
configurations
given
at
the
form
level
overriding
configurations
given
at
the
<code>
Thing
</code>
level,
allowing
for
the
specification
of
fine-grained
access
control.
It
is
also
possible
to
use
a
special
<code>
nosec
</code>
security
scheme
to
indicate
that
no
access
control
mechanisms
are
used.
Additional
examples
will
be
provided
later.
</p>
<p>
The
Thing
Description
offers
the
possibility
to
add
contextual
definitions
in
some
namespace.
This
mechanism
can
be
used
to
integrate
additional
semantics
to
the
content
of
the
Thing
Description
instance,
provided
that
formal
knowledge,
<del class="diff-old">e.g.
</del>
<ins class="diff-chg">e.g.,
</ins>
logic
rules
for
a
specific
domain
of
application,
can
be
found
under
the
given
namespace.
Contextual
information
can
also
help
specify
some
configurations
and
behavior
of
the
underlying
communication
protocols
declared
in
the
<code>
forms
</code>
field.
<a href= "#thing-description-full-serialization">
Example
2
</a>
extends
the
TD
sample
from
Example
1
by
introducing
a
second
<del class="diff-old">definition
</del>
<ins class="diff-chg">defintion
</ins>
in
the
<code>
@context
</code>
to
declare
the
prefix
<code>
saref
</code>
as
referring
to
<del class="diff-old">the
</del>
<a href="https://w3id.org/saref">
SAREF
<del class="diff-old">vocabulary
namespace
</del>
</a>,
<ins class="diff-chg">the
Smart&nbsp;Appliance
Reference
Ontology
</ins>
[
<cite>
<del class="diff-old">smartM2M
</del>
<a class="bibref" href="#bib-smartm2m" title= "ETSI TS 103 264 V2.1.1 (2017-03): SmartM2M; Smart Appliances; Reference Ontology and oneM2M Mapping" data-link-type="biblio">
<ins class="diff-chg">SMARTM2M
</ins>
</a>
</cite>
].
<del class="diff-old">The
SAREF
vocabulary
</del>
<ins class="diff-chg">This
IoT
ontology
</ins>
includes
terms
<del class="diff-old">to
describe
lighting
devices
and
other
home
automation
devices
that
one
can
embed
in
a
TD
</del>
<ins class="diff-chg">interpreted
</ins>
as
semantic
labels
<del class="diff-old">in
</del>
<ins class="diff-chg">that
can
be
set
as
values
of
</ins>
the
<code>
@type
</code>
<del class="diff-old">property.
</del>
<ins class="diff-chg">field,
giving
the
semantics
of
</ins><a href="#dfn-thing" class="internalDFN" data-link-type= "dfn"><ins class="diff-chg">
Things
</ins></a><ins class="diff-chg">
and
their
</ins><a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Interaction
Affordances
</ins></a>.
In
the
<del class="diff-old">present
example,
</del>
<ins class="diff-chg">example
below,
</ins>
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
is
labelled
with
<code>
saref:LightSwitch
</code>,
the
<del class="diff-old">form
of
the
</del>
<code>
status
</code>
<del class="diff-old">property
affordance
</del>
<a href= "#dfn-property" class="internalDFN" data-link-type= "dfn">
<ins class="diff-chg">Property
</ins></a>
is
labelled
with
<code>
<del class="diff-old">saref:GetCommand
,
the
form
of
the
toggle
action
affordance
with
saref:ToggleCommand
</del>
<ins class="diff-chg">saref:OnOffState
</ins>
</code>
and
the
<del class="diff-old">form
the
</del>
<code>
<del class="diff-old">overheating
</del>
<ins class="diff-chg">toggle
</ins>
</code>
<del class="diff-old">event
affordance
</del>
<a href="#dfn-action" class= "internalDFN" data-link-type="dfn">
<ins class="diff-chg">Action
</ins></a>
with
<code>
<del class="diff-old">saref:NotifyCommand
</del>
<ins class="diff-chg">saref:ToggleCommand
</ins>
</code>.
</p>
<aside class="example" id="thing-description-full-serialization">
<div class="marker">
<a class="self-link" href= "#thing-description-full-serialization">
Example
<bdi>
2
</bdi>
</a>
<span class="example-title">:
Thing
Description
with
TD
Context
Extension
for
semantic
annotations
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        { <span class="hljs-attr">"saref"</span>: <span class=
"hljs-string">"https://w3id.org/saref#"</span> }
    ],
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
<del class="diff-old">    : &lt;span class=
</del>
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"@type"</span>: <span class=
"hljs-string">"saref:LightSwitch"</span>,
    <span class=
"hljs-attr">"securityDefinitions"</span>: {<span class=
"hljs-attr">"basic_sc"</span>: {
        <span class="hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>,
        <span class="hljs-attr">"in"</span>: <span class=
"hljs-string">"header"</span>
    }},
    <span class="hljs-attr">"security"</span>: [<span class=
"hljs-string">"basic_sc"</span>],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"@type"</span>: <span class=
<ins class="diff-new">"hljs-string">"saref:OnOffState"</span>,
</ins>
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{
<del class="diff-old">                &lt;span class=
"hljs-attr"&gt;"@type",
</del>
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"@type"</span>: <span class=
<ins class="diff-new">"hljs-string">"saref:ToggleCommand"</span>,
</ins>
            <span class="hljs-attr">"forms"</span>: [{
<del class="diff-old">                &lt;span class=
"hljs-attr"&gt;"@type",
</del>
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {<span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>},
            <span class="hljs-attr">"forms"</span>: [{
<del class="diff-old">                &lt;span class=
"hljs-attr"&gt;"@type",
</del>
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>
            }]
        }
    }
}
</code>
</pre>
</aside>
<p>
The
declaration
mechanism
inside
some
<code>
@context
</code>
is
specified
by
JSON-LD.
A
TD
instance
complies
to
version
1.1
of
<del class="diff-old">this
</del>
<ins class="diff-chg">that
</ins>
specification
[
<cite>
<a class="bibref" href="#bib-json-ld11" title= "JSON-LD 1.1" data-link-type="biblio">
json-ld11
</a>
</cite>
].
<del class="diff-old">The
</del>
<ins class="diff-chg">Hence,
a
</ins>
TD
instance
can
be
also
processed
as
an
RDF
document
<del class="diff-old">(details
are
given
in
</del>
<ins class="diff-chg">(for
details
about
semantic
processing,
please
refer
to
Appendix
</ins><a href= "#json-ld-ctx-usage" class="sec-ref">
§&nbsp;
<bdi class= "secno">
D.
</bdi>
<del class="diff-old">Transformation
to
RDF
</del>
<ins class="diff-chg">JSON-LD
Context
Usage
</ins></a><ins class="diff-chg">
and
the
documentation
under
the
namespace
IRIs,
e.g.,
</ins><a href= "https://www.w3.org/2019/wot/td"><ins class="diff-chg">
https://www.w3.org/2019/wot/td
</ins>
</a>
).
</p>
</section>
<section id="conformance">
<h2 id="x2-conformance">
<bdi class="secno">
2.
</bdi>
Conformance
<a class="self-link" aria-label="§" href= "#conformance">
</a>
</h2>
<p>
As
well
as
sections
marked
as
non-normative,
all
authoring
guidelines,
diagrams,
examples,
and
notes
in
this
specification
are
non-normative.
Everything
else
in
this
specification
is
normative.
</p>
<p>
The
key
words
<em class="rfc2119">
MAY
</em>,
<em class= "rfc2119">
MUST
</em>,
<em class="rfc2119">
MUST
NOT
</em>,
<em class= "rfc2119">
RECOMMENDED
</em>,
<em class="rfc2119">
SHOULD
</em>,
and
<em class="rfc2119">
SHOULD
NOT
</em>
in
this
document
are
to
be
interpreted
as
described
in
<a href= "https://tools.ietf.org/html/bcp14">
BCP
14
</a>
[
<cite>
<a class= "bibref" href="#bib-rfc2119" title= "Key words for use in RFCs to Indicate Requirement Levels" data-link-type="biblio">
RFC2119
</a>
</cite>
]
[
<cite>
<a class= "bibref" href="#bib-rfc8174" title= "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words" data-link-type="biblio">
RFC8174
</a>
</cite>
]
when,
and
only
when,
they
appear
in
all
capitals,
as
shown
here.
</p>
<p>
A
Thing
Description
instance
complies
with
this
specification
if
it
follows
the
normative
statements
in
<a href= "#sec-vocabulary-definition" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.
</bdi>
TD
Information
Model
</a>
and
<a href= "#sec-td-serialization" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.
</bdi>
TD
Representation
Format
</a>
regarding
Thing
Description
serialization.
</p>
<p>
A
JSON
Schema
[
<cite>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a class="bibref" href="#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio">
<ins class="diff-chg">JSON-SCHEMA
</ins>
</a>
</cite>
]
to
validate
Thing
Description
instances
is
provided
in
Appendix
<a href= "#json-schema-for-validation" class="sec-ref">
§&nbsp;
<bdi class= "secno">
B.
</bdi>
JSON
Schema
for
TD
Instance
Validation
</a>.
</p>
<del class="diff-old">A
set
of
SHACL
shapes
[
SHACL
]
is
provided
under
the
TD
namespace
IRI
as
an
alternative
to
validate
Thing
Description
instances
after
transformation
to
RDF.
See
Appendix
§&nbsp;
D.
Transformation
to
RDF
.
</del>
</section>
<section id="terminology" class="informative">
<h2 id="x3-terminology">
<bdi class="secno">
3.
</bdi>
Terminology
<a class="self-link" aria-label="§" href= "#terminology">
</a>
</h2>
<p>
<em>
<ins class="diff-new">This
section
is
non-normative.
</ins></em></p>
<p>
The
fundamental
WoT
terminology
such
as
<dfn data-dfn-type="dfn" data-plurals="things" id="dfn-thing">
Thing
</dfn>,
<dfn data-dfn-type="dfn" data-plurals="consumers" id= "dfn-consumer">
Consumer
</dfn>,
<dfn data-dfn-type="dfn" data-plurals="thing descriptions" id="dfn-thing-description">
Thing
Description
</dfn>
(
<dfn data-dfn-type="dfn" id="dfn-td">
TD
</dfn>
),
<dfn data-dfn-type="dfn" id="dfn-interaction-model">
Interaction
Model
</dfn>,
<dfn data-dfn-type="dfn" data-plurals= "interaction affordances" id= "dfn-interaction-affordance">
Interaction
Affordance
</dfn>,
<dfn data-dfn-type="dfn" data-plurals="properties" id= "dfn-property">
Property
</dfn>,
<dfn data-dfn-type="dfn" data-plurals="actions" id="dfn-action">
Action
</dfn>,
<dfn data-dfn-type="dfn" data-plurals="events" id= "dfn-event">
Event
</dfn>,
<dfn data-dfn-type="dfn" data-plurals= "protocol bindings" id="dfn-protocol-binding">
Protocol
Binding
</dfn>,
<dfn data-dfn-type="dfn" data-plurals="servients" id="dfn-servient">
Servient
</dfn>,
<dfn data-dfn-type="dfn" id= "dfn-wot-interface">
WoT
Interface
</dfn>,
<dfn data-dfn-type="dfn" id="dfn-wot-runtime">
WoT
Runtime
</dfn>,
etc.
is
defined
in
<a href= "https://www.w3.org/TR/wot-architecture/#terminology">
Section
3
</a>
of
the
WoT
Architecture
specification
[
<cite>
<a class="bibref" href="#bib-wot-architecture" title= "Web of Things (WoT) Architecture" data-link-type= "biblio">
WOT-ARCHITECTURE
</a>
</cite>
].
</p>
<p>
In
addition,
this
specification
introduces
the
following
definitions:
</p>
<dl>
<dt>
<dfn id="dfn-context-ext" data-dfn-type="dfn" data-plurals= "td context extensions">
TD
Context
Extension
</dfn>
</dt>
<dd>
A
mechanism
to
extend
<a href="#dfn-thing-description" class= "internalDFN" data-link-type="dfn">
Thing
Descriptions
</a>
with
additional
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>.
It
is
the
basis
for
semantic
annotations
and
extensions
to
core
mechanisms
such
as
Protocol
Bindings,
Security
Schemes,
and
Data
Schemas.
</dd>
<dt>
<dfn id="dfn-inf-model" data-dfn-type="dfn">
TD
Information
Model
</dfn>
</dt>
<dd>
Set
of
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
definitions
constructed
from
pre-defined
<a href= "#dfn-vocab" class="internalDFN" data-link-type= "dfn">
Vocabularies
</a>
on
which
constraints
apply,
thus
defining
the
semantics
of
these
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabularies
</a>.
Class
definitions
are
typically
expressed
in
terms
of
a
<a href="#dfn-signature" class= "internalDFN" data-link-type="dfn">
Signature
</a>
(a
set
of
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
)
and
functions
over
that
<a href= "#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signature
</a>.&nbsp;The
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
also
includes
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Values
</a>,
defined
as
a
global
function
over
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Classes
</a>.
</dd>
<dt>
<dfn id="dfn-td-processor" data-dfn-type="dfn" data-plurals= "td processors">
TD
Processor
</dfn>
</dt>
<dd>
A
system
that
can
serialize
some
internal
representation
of
a
<a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn">
Thing&nbsp;Description
</a>
in
a
given
format
<del class="diff-old">and
</del>
<ins class="diff-chg">and/or
</ins>
deserialize
it
from
that
format.
A
<a href= "#dfn-td-processor" class="internalDFN" data-link-type="dfn">
TD
Processor
</a>
must
detect
semantically
inconsistent
<a href= "#dfn-thing-description" class="internalDFN" data-link-type= "dfn">
Thing
Descriptions
</a>,
that
is,
<a href= "#dfn-thing-description" class="internalDFN" data-link-type= "dfn">
Thing
Descriptions
</a>
that
cannot
satisfy
constraints
on
the
<a href="#dfn-instance-relation" class="internalDFN" data-link-type="dfn">
Instance
Relation
</a>
of
the
<code>
Thing
</code>
class.
For
that
purpose,
a
<a href= "#dfn-td-processor" class="internalDFN" data-link-type= "dfn">
TD&nbsp;Processor
</a>
may
compute
canonical
forms
of
<a href= "#dfn-thing-description" class="internalDFN" data-link-type= "dfn">
Thing
Descriptions
</a>
in
which
all
possible
<a href= "#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Values
</a>
are
assigned.
A
<a href= "#dfn-td-processor" class="internalDFN" data-link-type="dfn">
TD
Processor
</a>
is
typically
a
sub-system
of
a
<a href= "#dfn-wot-runtime" class="internalDFN" data-link-type="dfn">
WoT
Runtime
</a>.
<ins class="diff-new">Implementations
of
a
TD
Processor
may
be
a
TD
producer
only
(able
to
serialize
to
TD
Documents)
or
a
TD
consumer
only
(able
to
deserialize
from
TD
Documents).
</ins>
</dd>
<dt>
<dfn id="dfn-td-serialization" data-dfn-type= "dfn">
TD&nbsp;Serialization
</dfn>
or
<dfn id="dfn-td-document" data-dfn-type="dfn" data-plurals= "td documents">
TD&nbsp;Document
</dfn>
</dt>
<dd>
Textual
or
binary
representation
of
<a href= "#dfn-thing-description" class="internalDFN" data-link-type= "dfn">
Thing
Descriptions
</a>
that
can
be
stored
and
exchanged
between
<a href="#dfn-servient" class="internalDFN" data-link-type= "dfn">
Servients
</a>.
A
<a href="#dfn-td-serialization" class= "internalDFN" data-link-type="dfn">
TD
Serialization
</a>
follows
a
given
representation
format,
identified
by
a
media
type
when
exchanged
over
the
network.
The
default
representation
format
for
<a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn">
Thing
Descriptions
</a>
is
JSON-based
as
defined
by
this
specification.
</dd>
<dt>
<dfn id="dfn-vocab" data-dfn-type="dfn" data-plurals= "vocabularies">
Vocabulary
</dfn>
</dt>
<dd>
A
collection
of
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>,
identified
by
a
namespace
IRI.
</dd>
<dt>
<dfn id="dfn-term" data-dfn-type="dfn" data-plurals= "terms">
Term
</dfn>
and
<dfn id="dfn-vocab-term" data-dfn-type="dfn" data-plurals="vocabulary terms">
Vocabulary
Term
</dfn>
</dt>
<dd>
A
character
string.
When
a
<a href="#dfn-term" class= "internalDFN" data-link-type="dfn">
Term
</a>
is
part
of
a
<a href= "#dfn-vocab" class="internalDFN" data-link-type= "dfn">
Vocabulary
</a>,
<del class="diff-old">i.e.
</del>
<ins class="diff-chg">i.e.,
</ins>
prefixed
by
a
namespace
IRI,
it
is
called
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>.
For
the
sake
of
readability,
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>
present
in
this
document
are
always
written
in
a
compact
form
and
not
as
full
IRIs.
<del class="diff-old">See
Appendix
§&nbsp;
D.1
Thing
Description
JSON-LD
Context
for
a
mapping
to
full
IRIs.
</del>
</dd>
</dl>
<p>
These
definitions
are
further
developed
in
<a href= "#preliminary-definitions" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.2
</bdi>
Preliminaries
</a>.
</p>
</section>
<section class="normative" id="namespaces">
<h2 id="x4-namespaces">
<bdi class="secno">
4.
</bdi>
Namespaces
<a class="self-link" aria-label="§" href= "#namespaces">
</a>
</h2>
<p>
The
version
of
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
defined
in
<a href= "#sec-vocabulary-definition" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.
</bdi>
TD
Information
Model
</a>
of
this
specification
is
identified
by
the
following
IRI:
</p>
<p>
<code>
https://www.w3.org/2019/wot/td/v1
</code>
</p>
<p>
This
<del class="diff-old">IRI,
</del>
<ins class="diff-chg">IRI
[
</ins><cite><a class="bibref" href="#bib-rfc3987" title= "Internationalized Resource Identifiers (IRIs)" data-link-type= "biblio"><ins class="diff-chg">
RFC3987
</ins></a></cite><ins class="diff-chg">
],
</ins>
which
is
also
a
<del class="diff-old">URI,
</del>
<ins class="diff-chg">URI
[
</ins><cite><a class= "bibref" href="#bib-rfc3986" title= "Uniform Resource Identifier (URI): Generic Syntax" data-link-type= "biblio"><ins class="diff-chg">
RFC3986
</ins></a></cite><ins class="diff-chg">
],
</ins>
can
be
dereferenced
to
obtain
a
<a href="https://www.w3.org/2019/wot/td/v1">
JSON-LD
context
file
</a>
[
<cite>
<a class="bibref" href="#bib-json-ld11" title= "JSON-LD 1.1" data-link-type="biblio">
json-ld11
</a>
</cite>
],
allowing
the
compact
strings
in
<a href="#dfn-td-document" class= "internalDFN" data-link-type="dfn">
TD
Documents
</a>
to
be
expanded
to
full
IRI-based
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>.
However,
this
processing
is
only
required
when
transforming
JSON-based
<a href= "#dfn-td-document" class="internalDFN" data-link-type="dfn">
TD
Documents
</a>
to
RDF,
an
optional
feature
of
<a href= "#dfn-td-processor" class="internalDFN" data-link-type= "dfn">
TD&nbsp;Processor
</a>
implementations.
<del class="diff-old">See
§&nbsp;
D.1
Thing
Description
JSON-LD
Context
for
more
details
on
this
aspect.
</del>
</p>
<p>
In
the
present
specification,
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>
are
always
presented
in
their
compact
form.
Their
expanded
form
can
be
accessed
under
the
namespace
IRI
of
the
<a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn">
Vocabulary
</a>
they
belong
to.
These
namespaces
follow
the
structure
of
<a href= "#class-definitions" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3
</bdi>
Class
Definitions
</a>.
Each
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>
used
in
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type= "dfn">
TD&nbsp;Information
Model
</a>
has
its
own
namespace
IRI,
as
follows:
</p>
<table class="def">
<thead>
<tr>
<th>
Vocabulary
</th>
<th>
Namespace
IRI
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Core
</td>
<td>
<code>
https://www.w3.org/2019/wot/td#
</code>
</td>
</tr>
<tr>
<td>
Data
Schema
</td>
<td>
<code>
https://www.w3.org/2019/wot/json-schema#
</code>
</td>
</tr>
<tr>
<td>
Security
</td>
<td>
<code>
https://www.w3.org/2019/wot/security#
</code>
</td>
</tr>
<tr>
<td>
Hypermedia
Controls
</td>
<td>
<code>
https://www.w3.org/2019/wot/hypermedia#
</code>
</td>
</tr>
</tbody>
</table>
<p>
The
<a href="#dfn-vocab" class="internalDFN" data-link-type= "dfn">
Vocabularies
</a>
are
independent
from
each
other.
They
may
be
reused
and
extended
in
other
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
specifications.
Every
breaking
change
in
the
design
of
a
<a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn">
Vocabulary
</a>
will
require
the
assignment
of
a
new
year-based
namespace
URI.
Note
that
to
maintain
the
general
coherence
of
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>,
the
associated
JSON-LD
context
file
is
versioned
such
that
every
version
has
its
own
URI
(
<code>
v1
</code>,
<code>
v1.1
</code>,
<code>
v2
</code>,
...)
to
also
identify
non-breaking
changes,
in
particular
the
addition
of
new
<a href="#dfn-term" class= "internalDFN" data-link-type="dfn">
Terms
</a>.
</p>
<p>
Because
a
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>
under
some
namespace
IRI
can
only
undergo
non-breaking
changes,
its
content
can
be
safely
cached
or
embedded
in
applications.
One
advantage
of
exposing
relatively
static
content
under
a
namespace
IRI
is
to
optimize
payload
sizes
of
messages
exchanged
between
constrained
devices.
It
also
avoids
any
privacy
leakage
resulting
from
devices
accessing
publicly
available
vocabularies
from
private
networks
(see
also
<a href= "#sec-security-consideration-context" class= "sec-ref">
§&nbsp;
<bdi class="secno">
9.1
</bdi>
Context
Dereferencing
Privacy
Risk
</a>
).
</p>
</section>
<section id="sec-vocabulary-definition" class="normative">
<h2 id="x5-td-information-model">
<bdi class="secno">
5.
</bdi>
TD
Information
Model
<a class="self-link" aria-label="§" href= "#sec-vocabulary-definition">
</a>
</h2>
<p>
This
section
introduces
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>.
The
<a href="#dfn-inf-model" class="internalDFN" data-link-type= "dfn">
TD
Information
Model
</a>
serves
as
the
conceptual
basis
for
the
processing
of
Thing
Descriptions
and
their
serialization,
which
is
described
separately
in
<a href="#sec-td-serialization" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.
</bdi>
TD
Representation
Format
</a>.
</p>
<section id="overview">
<h3 id="x5-1-overview">
<bdi class="secno">
5.1
</bdi>
Overview
<a class="self-link" aria-label="§" href= "#overview">
</a>
</h3>
<p>
The
<a href="#dfn-inf-model" class="internalDFN" data-link-type= "dfn">
TD
Information
Model
</a>
is
built
upon
the
following,
independent
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabularies
</a>:
</p>
<ul>
<li>
the
<em>
core
</em>
TD
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>,
which
reflects
the
<a href= "#dfn-interaction-model" class="internalDFN" data-link-type= "dfn">
Interaction
Model
</a>
with
the
<a href="#dfn-property" class= "internalDFN" data-link-type="dfn">
Properties
</a>,
<a href= "#dfn-action" class="internalDFN" data-link-type="dfn">
Actions
</a>,
and
<a href="#dfn-event" class="internalDFN" data-link-type= "dfn">
Events
</a>
<a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn">
Interaction
Affordances
</a>
[
<cite>
<a class="bibref" href="#bib-wot-architecture" title= "Web of Things (WoT) Architecture" data-link-type= "biblio">
WOT-ARCHITECTURE
</a>
</cite>
]
</li>
<li>
the
<em>
Data
Schema
</em>
<a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn">
Vocabulary
</a>,
including
(a
subset
of)
the
terms
defined
by
JSON
Schema
[
<cite>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a class= "bibref" href="#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio">
<ins class="diff-chg">JSON-SCHEMA
</ins>
</a>
</cite>
]
</li>
<li>
the
<em>
WoT
Security
</em>
<a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn">
Vocabulary
</a>,
identifying
security
mechanisms
and
requirements
for
their
configuration
</li>
<li>
the
<em>
Hypermedia
Controls
</em>
<a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn">
Vocabulary
</a>,
encoding
the
main
principles
of
RESTful
communication
using
Web
links
and
forms
</li>
</ul>
<p>
Each
of
these
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabularies
</a>
is
essentially
a
set
of
<a href="#dfn-term" class="internalDFN" data-link-type= "dfn">
Terms
</a>
that
can
be
used
to
build
data
structures,
interpreted
as
objects
in
the
traditional
object-oriented
sense.
Objects
are
instances
of
classes
and
have
properties.
In
the
context
of
<abbr title="World Wide Web Consortium">
W3C
</abbr>
WoT,
they
denote
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>
and
their
<a href= "#dfn-interaction-affordance" class="internalDFN" data-link-type= "dfn">
Interaction
Affordances
</a>.
A
formal
definition
of
objects
is
given
in
<a href="#preliminary-definitions" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.2
</bdi>
Preliminaries
</a>.
The
main
elements
of
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
are
then
presented
in
<a href="#class-definitions" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3
</bdi>
Class
Definitions
</a>.
Certain
object
properties
may
be
omitted
in
a
TD
when
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Values
</a>
exist.
A
list
of
defaults
is
given
in
<a href="#sec-default-values" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.4
</bdi>
Default
Value
Definitions
</a>.
</p>
<p>
The
UML
diagram
shown
next
gives
an
overview
of
the
<a href= "#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>.
It
represents
all
classes
as
tables
and
the
associations
that
exist
between
classes,
starting
from
the
class
<a href="#thing">
<code>
Thing
</code>
</a>,
as
directed
arrows.
For
the
sake
of
readability,
the
diagram
was
split
in
four
parts,
one
for
each
of
the
four
base
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabularies
</a>.
</p>
<figure id="td-core-model">
<img src="visualization/td.png" alt= "UML diagram of the TD&nbsp;information model for the TD core vocabulary" height="1008" width="1344" />
<figcaption>
Figure
<bdi class="figno">
1
</bdi>
<span class= "fig-title">
TD
core
vocabulary
</span>
</figcaption>
</figure>
<hr />
<figure id="td-data-schema-model">
<img src= "visualization/json-schema.png" alt= "UML diagram of the TD&nbsp;information model for the Data schema vocabulary" height="1179" width="2057" />
<figcaption>
Figure
<bdi class="figno">
2
</bdi>
<span class= "fig-title">
<del class="diff-old">JSON
</del>
<ins class="diff-chg">Data
</ins>
schema
vocabulary
</span>
</figcaption>
</figure>
<hr />
<figure id="td-security-model">
<img src= "visualization/wot-security.png" alt= "UML diagram of the TD&nbsp;information model for the WoT security vocabulary" height="1330" width="1978" />
<figcaption>
Figure
<bdi class="figno">
3
</bdi>
<span class= "fig-title">
WoT
security
vocabulary
</span>
</figcaption>
</figure>
<hr />
<figure id="hypermedia-model">
<img src= "visualization/hypermedia.png" alt= "UML diagram of the TD&nbsp;information model for the hypermedia controls vocabulary" height="375" width="1705" />
<figcaption>
Figure
<bdi class="figno">
4
</bdi>
<span class= "fig-title">
Hypermedia
controls
vocabulary
</span>
</figcaption>
</figure>
</section>
<section id="preliminary-definitions">
<h3 id="x5-2-preliminaries">
<bdi class="secno">
5.2
</bdi>
Preliminaries
<a class="self-link" aria-label="§" href= "#preliminary-definitions">
</a>
</h3>
<p>
To
provide
a
model
that
can
be
easily
<del class="diff-old">processes
</del>
<ins class="diff-chg">processed
</ins>
by
both,
simple
rules
on
a
tree-based
document
(i.e.,
raw
JSON
processing)
and
rich
Semantic
Web
tooling
(i.e.,
JSON-LD
processing),
this
document
defines
the
following
formal
preliminaries
to
construct
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type= "dfn">
TD
Information
Model
</a>
accordingly.
</p>
<p>
All
definitions
in
this
section
refer
to
<em>
sets
</em>,
which
intuitively
are
collections
of
elements
that
can
themselves
be
sets.
All
arbitrarily
complex
data
structures
can
be
defined
in
terms
of
sets.
In
particular,
an
<dfn data-dfn-type="dfn" data-plurals="objects" id="dfn-object">
Object
</dfn>
is
a
data
structure
recursively
defined
as
follows:
</p>
<ul>
<li>
a
<a href="#dfn-term" class="internalDFN" data-link-type= "dfn">
Term
</a>,
which
may
or
may
not
belong
to
a
<a href= "#dfn-vocab" class="internalDFN" data-link-type= "dfn">
Vocabulary
</a>,
is
an
<a href="#dfn-object" class= "internalDFN" data-link-type="dfn">
Object
</a>.
</li>
<li>
a
set
of
name-value
pairs
where
the
name
is
a
<a href= "#dfn-term" class="internalDFN" data-link-type="dfn">
Term
</a>
and
the
value
is
another
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>,
is
also
an
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>.
</li>
</ul>
<p>
Though
this
definition
does
not
prevent
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Objects
</a>
to
include
multiple
name-value
pairs
with
the
same
name,
they
are
generally
not
considered
in
this
specification.
An
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
whose
elements
only
have
numbers
as
names
is
called
an
<dfn data-dfn-type="dfn" data-plurals="arrays" id="dfn-array">
Array
</dfn>.
Similarly,
an
<a href="#dfn-object" class="internalDFN" data-link-type= "dfn">
Object
</a>
whose
elements
only
have
<a href="#dfn-term" class="internalDFN" data-link-type="dfn">
Term
</a>
s
(that
do
not
belong
to
any
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>
)
as
names
is
called
a
<dfn data-dfn-type="dfn" data-plurals="maps" id= "dfn-map">
Map
</dfn>.
All
names
appearing
in
some
name-value
pair
in
a
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
are
assumed
to
be
<em>
unique
</em>
within
the
scope
of
the
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>.
</p>
<p>
Moreover,
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
s
can
be
instances
of
some
<dfn data-dfn-type="dfn" data-plurals="classes" id= "dfn-class">
Class
</dfn>.
A
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>,
which
is
denoted
by
a
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>,
is
first
defined
by
a
set
of
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
called
a
<dfn data-dfn-type="dfn" data-plurals="signatures" id="dfn-signature">
Signature
</dfn>.
A
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
whose
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
is
empty
is
called
a
<dfn data-dfn-type="dfn" data-plurals="simple types" id= "dfn-simple-type">
Simple
Type
</dfn>.
</p>
<p>
The
<a href="#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signature
</a>
of
a
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
allows
to
construct
two
functions
that
further
define
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Classes
</a>:
an
<dfn data-dfn-type="dfn" id= "dfn-assignment-function">
Assignment
Function
</dfn>
and
a
<dfn data-dfn-type="dfn" id="dfn-type-function">
Type
Function
</dfn>.
The
<a href="#dfn-assignment-function" class= "internalDFN" data-link-type="dfn">
Assignment
Function
</a>
of
a
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
takes
a
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
of
the
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
's
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
as
input
and
returns
either
<code>
true
</code>
or
<code>
false
</code>
as
output.
Intuitively,
the
<a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn">
Assignment
Function
</a>
indicates
whether
an
element
of
the
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
is
mandatory
or
optional
when
instantiating
the
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>.
The
<a href="#dfn-type-function" class="internalDFN" data-link-type="dfn">
Type
Function
</a>
of
a
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
also
takes
a
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
of
the
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
's
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
as
input
and
returns
another
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
as
output.
These
functions
are
<em>
partial
</em>:
their
domain
is
limited
to
the
<a href="#dfn-signature" class= "internalDFN" data-link-type="dfn">
Signature
</a>
of
the
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
being
defined.
</p>
<p>
On
the
basis
of
these
two
functions,
an
<dfn data-dfn-type="dfn" id="dfn-instance-relation">
Instance
Relation
</dfn>
can
be
defined
for
a
pair
composed
of
an
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
and
a
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>.
This
relation
is
defined
as
constraints
to
be
satisfied.
That
is,
an
<a href= "#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
is
an
instance
of
a
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
if
the
two
following
constraints
are
<em>
both
</em>
satisfied:
</p>
<ul>
<li>
if
for
every
<a href="#dfn-term" class="internalDFN" data-link-type="dfn">
Term
</a>
for
which
the
<a href= "#dfn-assignment-function" class="internalDFN" data-link-type= "dfn">
Assignment
Function
</a>
of
the
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
returns
<code>
true
</code>,
the
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
includes
a
name-value
pair
with
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
as
name.
</li>
<li>
if
for
every
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
in
the
<a href= "#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signature
</a>
of
the
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
used
as
name
in
some
name-value
pair
of
the
<a href="#dfn-object" class="internalDFN" data-link-type= "dfn">
Object
</a>,
the
value
of
that
pair
is
an
instance
of
the
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
returned
by
the
<a href="#dfn-type-function" class= "internalDFN" data-link-type="dfn">
Type
Function
</a>
of
the
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
for
the
given
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>.
</li>
</ul>
<p>
According
to
the
definition
above,
an
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
would
be
an
instance
of
every
<a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn">
Simple
Type
</a>,
regardless
of
its
structure.
Instead,
another
definition
for
the
<a href= "#dfn-instance-relation" class="internalDFN" data-link-type= "dfn">
Instance
Relation
</a>
is
introduced
for
<a href= "#dfn-simple-type" class="internalDFN" data-link-type="dfn">
Simple
Types
</a>:
an
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
is
an
instance
of
a
<a href= "#dfn-simple-type" class="internalDFN" data-link-type="dfn">
Simple
Type
</a>
if
it
is
a
<a href="#dfn-term" class="internalDFN" data-link-type="dfn">
Term
</a>
with
a
given
lexical
form
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
true
</code>,
<code>
false
</code>
for
the
<code>
boolean
</code>
type,
<code>
1
</code>,
<code>
2
</code>,
<code>
3
</code>,
...
for
the
<code>
unsignedInt
</code>
type,
<del class="diff-old">etc).
</del>
<ins class="diff-chg">etc.).
</ins>
</p>
<p>
Moreover,
additional
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Classes
</a>,
called
<dfn data-dfn-type="dfn" id="dfn-parameterized-classes">
Parameterized
Classes
</dfn>,
can
be
derived
from
the
generic
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
and
<a href="#dfn-array" class= "internalDFN" data-link-type="dfn">
Array
</a>
structures.
An
<a href="#dfn-object" class="internalDFN" data-link-type= "dfn">
Object
</a>
is
a
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
of
some
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>,
that
is,
an
instance
of
the
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
type
<em>
parameterized
</em>
with
some
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>,
if
it
is
a
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
such
that
the
value
in
all
the
name-value
pairs
it
contains
is
an
instance
of
this
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>.
The
same
applies
to
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Arrays
</a>.
</p>
<p>
Finally,
a
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
is
a
<dfn data-dfn-type="dfn" data-plurals="subclasses" id="dfn-subclass">
Subclass
</dfn>
of
some
other
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
if
every
instance
of
the
former
is
also
an
instance
of
the
latter.
</p>
<p>
Given
all
definitions
above,
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
is
to
be
understood
as
a
set
of
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
definitions,
which
include
a
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
name
(a
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
),
a
<a href= "#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signature
</a>
(a
set
of
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>
),
an
<a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn">
Assignment
Function
</a>,
and
a
<a href= "#dfn-type-function" class="internalDFN" data-link-type="dfn">
Type
Function
</a>.
These
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
definitions
are
provided
as
tables
in
<a href="#class-definitions" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3
</bdi>
Class
Definitions
</a>.
For
each
table,
the
values
"mandatory"
(respectively,
"optional")
in
the
assignment
column
indicates
that
the
<a href="#dfn-assignment-function" class= "internalDFN" data-link-type="dfn">
Assignment
Function
</a>
returns
<code>
true
</code>
(respectively,
<code>
false
</code>
)
for
the
corresponding
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>.
</p>
<p>
By
convention,
<a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn">
Simple
Types
</a>
are
denoted
by
names
starting
with
lowercase.
The
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD&nbsp;Information
Model
</a>
references
the
following
<a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn">
Simple&nbsp;Types
</a>
defined
in
XML
Schema
[
<cite>
<del class="diff-old">xmlschema11-2-20120405
</del>
<a class="bibref" href="#bib-xmlschema11-2-20120405" title= "W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes" data-link-type="biblio">
<ins class="diff-chg">XMLSCHEMA11-2-20120405
</ins>
</a>
</cite>
]:
<code>
string
</code>,
<code>
anyURI
</code>,
<code>
dateTime
</code>,
<code>
integer
</code>,
<code>
unsignedInt
</code>,
<code>
double
</code>,
and
<code>
boolean
</code>.
Their
definition
<del class="diff-old">(i.e.
</del>
<ins class="diff-chg">(i.e.,
</ins>
the
specification
of
their
lexical
form)
is
outside
of
the
scope
of
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>.
</p>
<p>
In
addition,
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
defines
a
global
function
on
pairs
of
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>.
The
function
takes
a
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
name
and
another
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
as
input
and
returns
an
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>.
If
the
returned
<a href= "#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
is
different
from
<code>
null
</code>,
it
represents
the
<dfn data-dfn-type="dfn" data-plurals="default values" id= "dfn-default-value">
Default
Value
</dfn>
for
some
assignment
on
the
input
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
in
an
instance
of
the
input
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>.
This
function
allows
to
relax
the
constraint
defined
above
on
the
<a href="#dfn-assignment-function" class="internalDFN" data-link-type="dfn">
Assignment
Function
</a>:
an
<a href= "#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
is
an
instance
of
a
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
if
it
includes
all
mandatory
assignments
<em>
or
</em>
if
<a href="#dfn-default-value" class= "internalDFN" data-link-type="dfn">
Default
Value
</a>
exist
for
the
missing
assignments.
All
<a href="#dfn-default-value" class= "internalDFN" data-link-type="dfn">
Default
Values
</a>
are
given
in
the
table
of
<a href="#sec-default-values" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.4
</bdi>
Default
Value
Definitions
</a>.
In
each
table
of
<a href="#class-definitions" class="sec-ref">
§&nbsp;
<bdi class="secno">
5.3
</bdi>
Class
Definitions
</a>,
the
assignment
column
contains
the
value
"with
default"
if
a
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Value
</a>
is
available
for
the
corresponding
combination
of
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
and
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
in
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>.
</p>
<p>
The
formalization
introduced
here
does
not
consider
the
possible
relation
between
<a href="#dfn-object" class="internalDFN" data-link-type="dfn">
Objects
</a>
as
abstract
data
structures
and
physical
world
objects
such
as
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Things
</a>.
However,
care
was
given
to
the
possibility
of
re-interpreting
all
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
involved
in
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
as
RDF
resources,
so
as
to
integrate
them
in
a
larger
model
of
the
physical
world
(an
ontology).
<del class="diff-old">This
aspect
is
dealt
with
in
Appendix
§&nbsp;
D.2
Thing
Description
Ontology
</del>
<ins class="diff-chg">For
details
about
semantic
processing,
please
refer
to
the
documentation
under
the
namespace
IRIs,
e.g.,
</ins><a href= "https://www.w3.org/2019/wot/td"><ins class="diff-chg">
https://www.w3.org/2019/wot/td
</ins>
</a>.
</p>
</section>
<section id="class-definitions">
<h3 id="x5-3-class-definitions">
<bdi class="secno">
5.3
</bdi>
Class
Definitions
<a class="self-link" aria-label="§" href= "#class-definitions">
</a>
</h3>
<p>
<span class="rfc2119-assertion" id="td-processor">
A
<a href= "#dfn-td-processor" class="internalDFN" data-link-type="dfn">
TD
Processor
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
<del class="diff-old">be
able
to
detect
that
a
TD
does
not
meet
</del>
<ins class="diff-chg">satisfy
the
</ins><a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
instantiation
constraints
on
all
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Classes
</a>
defined
in
<a href="#sec-core-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.1
</bdi>
Core
Vocabulary
Definitions
</a>,
<a href="#sec-data-schema-vocabulary-definition" class="sec-ref">
§&nbsp;
<bdi class="secno">
5.3.2
</bdi>
Data
Schema
Vocabulary
Definitions
</a>,
<a href= "#sec-security-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.3
</bdi>
Security
Vocabulary
Definitions
</a>,
and
<a href= "#sec-hypermedia-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.4
</bdi>
Hypermedia
Controls
Vocabulary
Definitions
</a>.
</span>
</p>
<section id="sec-core-vocabulary-definition">
<h4 id="x5-3-1-core-vocabulary-definitions">
<bdi class= "secno">
5.3.1
</bdi>
Core
Vocabulary
Definitions
<a class="self-link" aria-label="§" href="#sec-core-vocabulary-definition">
</a>
</h4>
<section id="thing">
<h5 id="x5-3-1-1-thing">
<bdi class="secno">
5.3.1.1
</bdi>
<code>
Thing
</code>
<a class="self-link" aria-label="§" href= "#thing">
</a>
</h5>
<p>
An
abstraction
of
a
physical
or
a
virtual
entity
whose
metadata
and
interfaces
are
described
by
a
WoT
Thing
Description,
whereas
a
virtual
entity
is
the
composition
of
one
or
more
Things.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-at-context--Thing">
<td>
<code>
@context
</code>
</td>
<td>
JSON-LD
keyword
to
define
short-hand
names
called
terms
that
are
used
throughout
a
TD
document.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-at-type--Thing">
<td>
<code>
@type
</code>
</td>
<td>
JSON-LD
keyword
to
label
the
object
with
semantic
tags
(or
types).
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-id--Thing">
<td>
<code>
id
</code>
</td>
<td>
<del class="diff-old">unique
identifier
</del>
<ins class="diff-chg">Identifier
</ins>
of
the
Thing
<del class="diff-old">(URI,
e.g.
custom
URN).
</del>
<ins class="diff-chg">in
form
of
a
URI
[
</ins><cite><a class= "bibref" href="#bib-rfc3986" title= "Uniform Resource Identifier (URI): Generic Syntax" data-link-type= "biblio"><ins class="diff-chg">
RFC3986
</ins></a></cite><ins class="diff-chg">
]
(e.g.,
stable
URI,
temporary
and
mutable
URI,
URI
with
local
IP
address,
URN,
etc.).
</ins>
</td>
<td>
<del class="diff-old">mandatory
</del>
<ins class="diff-chg">optional
</ins>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-title--Thing">
<td>
<code>
title
</code>
</td>
<td>
Provides
a
human-readable
title
(e.g.,
display
a
text
for
UI
representation)
based
on
a
default
language.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-titles--Thing">
<td>
<code>
titles
</code>
</td>
<td>
Provides
multi-language
human-readable
titles
(e.g.,
display
a
text
for
UI
representation
in
different
languages).
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-description--Thing">
<td>
<code>
description
</code>
</td>
<td>
Provides
additional
(human-readable)
information
based
on
a
default
language.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-descriptions--Thing">
<td>
<code>
descriptions
</code>
</td>
<td>
Can
be
used
to
support
(human-readable)
information
in
different
languages.
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-version--Thing">
<td>
<code>
version
</code>
</td>
<td>
Provides
version
information.
</td>
<td>
optional
</td>
<td>
<a href="#versioninfo">
<code>
VersionInfo
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-created--Thing">
<td>
<code>
created
</code>
</td>
<td>
Provides
information
when
the
TD
instance
was
created.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#dateTime">
<code>
dateTime
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-modified--Thing">
<td>
<code>
modified
</code>
</td>
<td>
Provides
information
when
the
TD
instance
was
last
modified.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#dateTime">
<code>
dateTime
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-support--Thing">
<td>
<code>
support
</code>
</td>
<td>
Provides
information
about
the
TD
maintainer
as
URI
scheme
(e.g.,
<code>
mailto
</code>
[
<cite>
<a class="bibref" href= "#bib-rfc6068" title="The 'mailto' URI Scheme" data-link-type= "biblio">
RFC6068
</a>
</cite>
],
<code>
tel
</code>
[
<cite>
<a class= "bibref" href="#bib-rfc3966" title= "The tel URI for Telephone Numbers" data-link-type= "biblio">
RFC3966
</a>
</cite>
],
<del class="diff-old">https).
</del>
<code>
<ins class="diff-chg">https
</ins></code><ins class="diff-chg">
).
</ins>
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-base--Thing">
<td>
<code>
base
</code>
</td>
<td>
Define
the
base
URI
that
is
used
for
all
relative
URI
references
throughout
a
TD
document.
In
TD
instances,
all
relative
URIs
are
resolved
relative
to
the
base
URI
using
the
algorithm
defined
in
[
<cite>
<a class="bibref" href="#bib-rfc3986" title= "Uniform Resource Identifier (URI): Generic Syntax" data-link-type= "biblio">
RFC3986
</a>
</cite>
].
<br />
<br />
<code>
base
</code>
does
not
affect
the
URIs
used
in
<code>
@context
</code>
and
the
IRIs
<del class="diff-old">[
RFC3987
]
</del>
used
within
Linked
Data
[
<cite>
<a class="bibref" href="#bib-linked-data" title= "Linked Data Design Issues" data-link-type= "biblio">
LINKED-DATA
</a>
</cite>
]
graphs
that
are
relevant
when
semantic
processing
is
applied
to
TD
instances.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-properties--Thing">
<td>
<code>
properties
</code>
</td>
<td>
All
Property-based
<del class="diff-old">interaction
affordance
</del>
<a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn">
<ins class="diff-chg">Interaction
Affordances
</ins></a>
of
the
Thing.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
of
<a href= "#propertyaffordance">
<code>
PropertyAffordance
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-actions--Thing">
<td>
<code>
actions
</code>
</td>
<td>
All
Action-based
<del class="diff-old">interaction
affordance
</del>
<a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn">
<ins class="diff-chg">Interaction
Affordances
</ins></a>
of
the
Thing.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
of
<a href= "#actionaffordance">
<code>
ActionAffordance
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-events--Thing">
<td>
<code>
events
</code>
</td>
<td>
All
Event-based
<del class="diff-old">interaction
affordance
</del>
<a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn">
<ins class="diff-chg">Interaction
Affordances
</ins></a>
of
the
Thing.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
of
<a href= "#eventaffordance">
<code>
EventAffordance
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-links--Thing">
<td>
<code>
links
</code>
</td>
<td>
Provides
Web
links
to
arbitrary
resources
that
relate
to
the
specified
Thing
Description.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
<a href="#link">
<code>
Link
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-forms--Thing">
<td>
<code>
forms
</code>
</td>
<td>
Set
of
form
hypermedia
controls
that
describe
how
an
operation
can
be
performed.
Forms
are
serializations
of
Protocol
Bindings.
In
this
version
of
TD,
all
operations
that
can
be
described
at
the
Thing
level
are
concerning
how
to
interact
with
the
Thing's
<a href="#propertyaffordance">
<del class="diff-old">property
affordances
</del>
<ins class="diff-chg">Properties
</ins>
</a>
collectively
at
once.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
<a href="#form">
<code>
Form
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-security--Thing">
<td>
<code>
security
</code>
</td>
<td>
Set
of
security
definition
names,
chosen
from
those
defined
in
<del class="diff-old">securityDefinitions.
</del>
<code>
<ins class="diff-chg">securityDefinitions
</ins></code>.
These
must
all
be
satisfied
for
access
to
resources.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-securityDefinitions--Thing">
<td>
<code>
securityDefinitions
</code>
</td>
<td>
Set
of
named
security
configurations
(definitions
only).
Not
actually
applied
unless
names
are
used
in
a
<code>
security
<del class="diff-old">section.
</del>
</code>
<ins class="diff-chg">name-value
pair.
</ins>
</td>
<td>
mandatory
</td>
<td>
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
of
<a href= "#securityscheme">
<code>
SecurityScheme
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
<span class="rfc2119-assertion" id= "td-context-ns-thing-mandatory">
The
<code>
@context
</code>
name-value
pair
<em class="rfc2119" title="MUST">
MUST
</em>
contain
the
anyURI
<code>
https://www.w3.org/2019/wot/td/v1
</code>
either
directly
when
of
type
<code>
anyURI
</code>
or
as
first
element
when
of
type
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>.
</span>
<span class="rfc2119-assertion" id= "td-context-ns-thing-optional">
When
<code>
@context
</code>
is
an
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>,
the
anyURI
<code>
https://www.w3.org/2019/wot/td/v1
</code>
<em class="rfc2119" title="MAY">
MAY
</em>
be
followed
by
elements
of
type
<code>
anyURI
</code>
or
type
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
in
any
order,
while
it
is
<em class= "rfc2119" title="RECOMMENDED">
RECOMMENDED
</em>
to
include
only
one
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
with
all
the
name-value
pairs
in
the
<code>
@context
</code>
<a href= "#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>.
</span>
<span class="rfc2119-assertion" id= "td-context-ns-thing-map-of-namespaces">
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Maps
</a>
contained
in
an
<code>
@context
</code>
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
<em class="rfc2119" title= "MAY">
MAY
</em>
contain
name-value
pairs,
where
the
value
is
a
namespace
identifier
of
type
<code>
anyURI
</code>
and
the
name
a
<a href="#dfn-term" class="internalDFN" data-link-type= "dfn">
Term
</a>
or
prefix
denoting
that
namespace.
</span>
<span class="rfc2119-assertion" id= "td-context-default-language">
One
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
contained
in
an
<code>
@context
</code>
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
<em class="rfc2119" title= "SHOULD">
SHOULD
</em>
contain
a
name-value
pair
that
defines
the
default
language
for
the
Thing
Description,
where
the
name
is
the
<a href="#dfn-term" class="internalDFN" data-link-type= "dfn">
Term
</a>
<code>
@language
</code>
and
the
value
is
a
well-formed
language
tag
as
defined
by
[
<cite>
<a class="bibref" href="#bib-bcp47" title="Tags for Identifying Languages" data-link-type="biblio">
BCP47
</a>
</cite>
]
(e.g.,
<code>
en
</code>,
<code>
de-AT
</code>,
<code>
gsw-CH
</code>,
<code>
zh-Hans
</code>,
<code>
zh-Hant-HK
</code>,
<code>
sl-nedis
</code>
).
</span>
</p>
<p>
The
computation
of
the
base
direction
of
all
human-readable
text
strings
is
defined
by
the
following
set
of
rules:
</p>
<ul>
<li>
<span class="rfc2119-assertion" id= "td-context-default-language-direction-heuristic">
If
no
language
tag
is
given,
the
base
direction
<em class="rfc2119" title= "SHOULD">
SHOULD
</em>
be
inferred
through
first-strong
heuristics
or
detection
algorithms
such
as
the
CLDR
Likely
Subtags
[
<cite>
<a class="bibref" href="#bib-ldml" title= "Unicode Technical Standard #35: Unicode Locale Data Markup Language (LDML)" data-link-type="biblio">
LDML
</a>
</cite>
].
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "td-context-default-language-direction-inference">
Outside
of
<code>
MultiLanguage
</code>
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Maps
</a>,
the
base
direction
<em class= "rfc2119" title="MAY">
MAY
</em>
be
inferred
from
the
language
tag
of
the
default
language.
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "td-context-ns-multilanguage-text-direction-infer">
Inside
of
<code>
MultiLanguage
</code>
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Maps
</a>,
the
base
direction
of
each
value
of
the
name-value
pairs
<em class="rfc2119" title="MAY">
MAY
</em>
be
inferred
from
the
language
tag
given
in
the
corresponding
name.
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "td-context-default-language-direction-script">
In
cases
where
a
language
can
be
written
in
more
than
one
script
with
different
base
directions,
the
corresponding
language
tag
given
in
<code>
@language
</code>
or
<code>
MultiLanguage
</code>
<a href= "#dfn-map" class="internalDFN" data-link-type="dfn">
Maps
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
include
a
script
subtag,
so
that
an
appropriate
base
direction
can
be
inferred.
</span>
An
example
is
Azeri,
which
is
written
LTR
when
Latin
script
is
used
(specified
using
<code>
az-Latn
</code>
)
and
RTL
when
Arabic
script
is
used
(specified
using
<code>
az-Arab
</code>
).
</li>
</ul>
<p>
<a href="#dfn-td-processor" class="internalDFN" data-link-type= "dfn">
TD
Processors
</a>
should
be
aware
of
certain
special
cases
when
processing
bidirectional
text.
They
should
take
care
to
use
bidi
isolation
when
presenting
strings
to
users,
particularly
when
embedding
in
surrounding
text
(e.g.,
for
Web
user
interface).
Mixed
direction
text
can
occur
in
any
language,
even
when
the
language
is
properly
identified.
</p>
<p>
TD
producers
should
attempt
to
provide
mixed
direction
strings
in
a
way
that
can
be
displayed
successfully
by
a
naive
user
agent.
For
example,
if
an
RTL
string
begins
with
an
LTR
run
(such
as
a
number
or
a
brand
or
trade
name
in
Latin
script),
including
an
RLM
character
at
the
start
of
the
string
or
wrapping
opposite
direction
runs
in
bidi
controls
can
assist
in
proper
display.
</p>
<p>
<em>
Strings
on
the
Web:
Language
and
Direction
Metadata
</em>
[
<cite>
<a class="bibref" href="#bib-string-meta" title= "Strings on the Web: Language and Direction Metadata" data-link-type="biblio">
string-meta
</a>
</cite>
]
provides
some
guidance
and
illustrates
a
number
of
pitfalls
when
using
bidirectional
text.
</p>
<p id="meta-interactions-of-thing">
In
addition
to
the
explicitly
provided
<a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn">
Interaction
Affordances
</a>
in
the
<code>
properties
</code>,
<code>
actions
</code>,
and
<code>
events
</code>
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Arrays
</a>,
a
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
can
also
provide
meta-interactions,
which
are
indicated
by
<code>
Form
</code>
instances
in
its
optional
<code>
forms
</code>
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>.
<span class= "rfc2119-assertion" id="td-op-for-thing">
When
the
<code>
forms
</code>
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
a
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
instance
contains
<code>
Form
</code>
instances,
the
string
values
assigned
to
the
name
<code>
op
</code>,
either
directly
or
within
an
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>,
<em class= "rfc2119" title="MUST">
MUST
</em>
be
one
of
the
following
<em>
<del class="diff-old">operation
</del>
<ins class="diff-chg">opteration
</ins>
types
</em>:
<code>
readallproperties
</code>,
<code>
writeallproperties
</code>,
<code>
readmultipleproperties
</code>,
or
<code>
writemultipleproperties
</code>.
</span>
(See
<a href= "#td-forms-readall-example">
an
example
</a>
for
an
usage
of
<code>
form
</code>
in
a
Thing
instance.)
</p>
<p>
The
data
schema
for
each
of
these
meta-interactions
is
constructed
by
combining
the
data
schemas
of
each
<code>
PropertyAffordance
</code>
instance
in
a
single
<code>
ObjectSchema
</code>
instance,
where
the
<code>
properties
</code>
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
of
the
<code>
ObjectSchema
</code>
instance
contains
each
data
schema
of
the
<code>
PropertyAffordances
</code>
identified
by
the
name
of
the
corresponding
<code>
PropertyAffordances
</code>
instance.
</p>
<p>
If
not
specified
otherwise
(e.g.,
through
a
<a href= "#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extension
</a>
),
the
request
data
of
the
<code>
readmultipleproperties
</code>
operation
is
an
<a href= "#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
that
contains
the
intended
<code>
PropertyAffordances
</code>
instance
names,
which
is
serialized
to
the
content
type
specified
by
the
<code>
Form
</code>
instance.
</p>
</section>
<section id="interactionaffordance">
<h5 id="x5-3-1-2-interactionaffordance">
<bdi class= "secno">
5.3.1.2
</bdi>
<code>
InteractionAffordance
</code>
<a class= "self-link" aria-label="§" href="#interactionaffordance">
</a>
</h5>
<p>
Metadata
of
a
Thing
that
shows
the
possible
choices
to
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumers
</a>,
thereby
suggesting
how
<a href="#dfn-consumer" class="internalDFN" data-link-type="dfn">
Consumers
</a>
may
interact
with
the
Thing.
There
are
many
types
of
potential
affordances,
but
<abbr title="World Wide Web Consortium">
W3C
</abbr>
WoT
defines
three
types
of
Interaction
Affordances:
Properties,
Actions,
and
Events.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-at-type--InteractionAffordance">
<td>
<code>
@type
</code>
</td>
<td>
JSON-LD
keyword
to
label
the
object
with
semantic
tags
(or
types).
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-title--InteractionAffordance">
<td>
<code>
title
</code>
</td>
<td>
Provides
a
human-readable
title
(e.g.,
display
a
text
for
UI
representation)
based
on
a
default
language.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-titles--InteractionAffordance">
<td>
<code>
titles
</code>
</td>
<td>
Provides
multi-language
human-readable
titles
(e.g.,
display
a
text
for
UI
representation
in
different
languages).
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-description--InteractionAffordance">
<td>
<code>
description
</code>
</td>
<td>
Provides
additional
(human-readable)
information
based
on
a
default
language.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-descriptions--InteractionAffordance">
<td>
<code>
descriptions
</code>
</td>
<td>
Can
be
used
to
support
(human-readable)
information
in
different
languages.
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-forms--InteractionAffordance">
<td>
<code>
forms
</code>
</td>
<td>
Set
of
form
hypermedia
controls
that
describe
how
an
operation
can
be
performed.
Forms
are
serializations
of
Protocol
Bindings.
</td>
<td>
mandatory
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
<a href="#form">
<code>
Form
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-uriVariables--InteractionAffordance">
<td>
<code>
uriVariables
</code>
</td>
<td>
Define
URI
template
variables
as
collection
based
on
DataSchema
declarations.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
of
<a href= "#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
InteractionAffordance
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href= "#propertyaffordance">
<code>
<del class="diff-old">ActionAffordance
</del>
<ins class="diff-chg">PropertyAffordance
</ins>
</code>
</a>
</li>
<li>
<a href= "#actionaffordance">
<code>
<del class="diff-old">PropertyAffordance
</del>
<ins class="diff-chg">ActionAffordance
</ins>
</code>
</a>
</li>
<li>
<a href= "#eventaffordance">
<code>
EventAffordance
</code>
</a>
</li>
</ul>
</section>
<section id="propertyaffordance">
<h5 id="x5-3-1-3-propertyaffordance">
<bdi class= "secno">
5.3.1.3
</bdi>
<code>
PropertyAffordance
</code>
<a class= "self-link" aria-label="§" href="#propertyaffordance">
</a>
</h5>
<p>
An
Interaction
Affordance
that
exposes
state
of
the
Thing.
This
state
can
then
be
retrieved
(read)
and
optionally
updated
(write).
Things
can
also
choose
to
make
Properties
observable
by
pushing
the
new
state
after
a
change.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-observable--PropertyAffordance">
<td>
<code>
observable
</code>
</td>
<td>
A
hint
that
indicates
whether
Servients
hosting
the
Thing
and
Intermediaries
should
provide
a
Protocol
Binding
that
supports
the
<code>
observeproperty
</code>
operation
for
this
Property.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
</tbody>
</table>
<div class="note" role="note" id="issue-container-generatedID">
<div role="heading" class="note-title marker" id="h-note" aria-level="6">
<span>
Note
</span>
</div>
<p class="">
Property
instances
are
also
instances
of
the
class
<a href="#dataschema" class="sec-ref">
DataSchema
</a>.
Therefore,
it
can
contain
the
<code>
type
</code>,
<code>
unit
</code>,
<code>
readOnly
</code>
and
<code>
writeOnly
</code>
members,
among
others.
</p>
</div>
<p>
<code>
PropertyAffordance
</code>
is
a
<a href="#dfn-subclass" class="internalDFN" data-link-type="dfn">
Subclass
</a>
of
the
<code>
InteractionAffordance
</code>
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
and
the
<code>
DataSchema
</code>
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>.
<span class="rfc2119-assertion" id= "td-op-for-property">
When
a
Form
instance
is
within
a
<code>
PropertyAffordance
</code>
<del class="diff-old">Class
,
</del>
<ins class="diff-chg">instance,
</ins>
the
value
assigned
to
<code>
op
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
one
of
<code>
readproperty
</code>,
<code>
writeproperty
</code>,
<code>
observeproperty
</code>,
<code>
unobserveproperty
</code>
or
an
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
containing
a
combination
of
these
terms.
</span>
</p>
</section>
<section id="actionaffordance">
<h5 id="x5-3-1-4-actionaffordance">
<bdi class="secno">
5.3.1.4
</bdi>
<code>
ActionAffordance
</code>
<a class="self-link" aria-label="§" href="#actionaffordance">
</a>
</h5>
<p>
An
Interaction
Affordance
that
allows
to
invoke
a
function
of
the
Thing,
which
manipulates
state
(e.g.,
toggling
a
lamp
on
or
off)
or
triggers
a
process
on
the
Thing
(e.g.,
<del class="diff-old">dimm
</del>
<ins class="diff-chg">dim
</ins>
a
lamp
over
time).
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-input--ActionAffordance">
<td>
<code>
input
</code>
</td>
<td>
Used
to
define
the
input
data
schema
of
the
<del class="diff-old">action.
</del>
<ins class="diff-chg">Action.
</ins>
</td>
<td>
optional
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-output--ActionAffordance">
<td>
<code>
output
</code>
</td>
<td>
Used
to
define
the
output
data
schema
of
the
<del class="diff-old">action.
</del>
<ins class="diff-chg">Action.
</ins>
</td>
<td>
optional
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-safe--ActionAffordance">
<td>
<code>
safe
</code>
</td>
<td>
Signals
if
the
<del class="diff-old">action
</del>
<ins class="diff-chg">Action
</ins>
is
safe
(=true)
or
not.
Used
to
signal
if
there
is
no
internal
state
(cf.
resource
state)
is
changed
when
invoking
an
Action.
In
that
case
responses
can
be
cached
as
example.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-idempotent--ActionAffordance">
<td>
<code>
idempotent
</code>
</td>
<td>
Indicates
whether
the
<del class="diff-old">action
</del>
<ins class="diff-chg">Action
</ins>
is
idempotent
(=true)
or
not.
Informs
whether
the
<del class="diff-old">action
</del>
<ins class="diff-chg">Action
</ins>
can
be
called
repeatedly
with
the
same
result,
if
present,
based
on
the
same
input.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
<code>
ActionAffordance
</code>
is
a
<a href="#dfn-subclass" class="internalDFN" data-link-type="dfn">
Subclass
</a>
of
the
<code>
InteractionAffordance
</code>
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>.
<span class= "rfc2119-assertion" id="td-op-for-action">
When
a
Form
instance
is
within
an
<del class="diff-old">instance
of
the
</del>
<code>
ActionAffordance
</code>
<del class="diff-old">Class
,
</del>
<ins class="diff-chg">instance,
</ins>
the
value
assigned
to
op
<em class="rfc2119" title="MUST">
MUST
</em>
be
<code>
invokeaction
</code>.
</span>
</p>
</section>
<section id="eventaffordance">
<h5 id="x5-3-1-5-eventaffordance">
<bdi class="secno">
5.3.1.5
</bdi>
<code>
EventAffordance
</code>
<a class="self-link" aria-label="§" href="#eventaffordance">
</a>
</h5>
<p>
An
Interaction
Affordance
that
describes
an
event
source,
which
asynchronously
pushes
event
data
to
<a href="#dfn-consumer" class= "internalDFN" data-link-type="dfn">
Consumers
</a>
(e.g.,
overheating
alerts).
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-subscription--EventAffordance">
<td>
<code>
subscription
</code>
</td>
<td>
Defines
data
that
needs
to
be
passed
upon
subscription,
e.g.,
filters
or
message
format
for
setting
up
Webhooks.
</td>
<td>
optional
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-data--EventAffordance">
<td>
<code>
data
</code>
</td>
<td>
Defines
the
data
schema
of
the
Event
instance
messages
pushed
by
the
Thing.
</td>
<td>
optional
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-cancellation--EventAffordance">
<td>
<code>
cancellation
</code>
</td>
<td>
Defines
any
data
that
needs
to
be
passed
to
cancel
a
subscription,
e.g.,
a
specific
message
to
remove
a
Webhook.
</td>
<td>
optional
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
<code>
EventAffordance
</code>
is
a
<a href="#dfn-subclass" class= "internalDFN" data-link-type="dfn">
Subclass
</a>
of
the
<code>
InteractionAffordance
</code>
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>.
<span class= "rfc2119-assertion" id="td-op-for-event">
When
a
Form
instance
is
within
an
<del class="diff-old">instance
of
the
</del>
<code>
EventAffordance
</code>
<del class="diff-old">Class
,
</del>
<ins class="diff-chg">instance,
</ins>
the
value
assigned
to
<code>
op
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
either
<code>
subscribeevent
</code>,
<code>
unsubscribeevent
</code>,
or
both
terms
within
an
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>.
</span>
</p>
</section>
<section id="versioninfo">
<h5 id="x5-3-1-6-versioninfo">
<bdi class="secno">
5.3.1.6
</bdi>
<code>
VersionInfo
</code>
<a class="self-link" aria-label="§" href= "#versioninfo">
</a>
</h5>
<p>
Metadata
of
a
Thing
that
provides
version
information
about
the
TD
document.
If
required,
additional
version
information
such
as
firmware
and
hardware
version
(term
definitions
outside
of
the
TD
namespace)
can
be
extended
via
the
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extension
</a>
mechanism.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-instance--VersionInfo">
<td>
<code>
instance
</code>
</td>
<td>
Provides
a
version
<del class="diff-old">identicator
</del>
<ins class="diff-chg">indicator
</ins>
of
this
TD
instance.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
It
is
recommended
that
the
values
within
instances
of
the
<code>
VersionInfo
</code>
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
follow
the
semantic
versioning
pattern,
where
a
sequence
of
three
numbers
separated
by
a
dot
indicates
the
major
version,
minor
version,
and
patch
version,
respectively.
See
[
<cite>
<del class="diff-old">SemVer
</del>
<a class="bibref" href="#bib-semver" title="Semantic Versioning 2.0.0" data-link-type= "biblio">
<ins class="diff-chg">SEMVER
</ins>
</a>
</cite>
]
for
details.
</p>
</section>
<section id="multilanguage">
<h5 id="x5-3-1-7-multilanguage">
<bdi class="secno">
5.3.1.7
</bdi>
<code>
MultiLanguage
</code>
<a class="self-link" aria-label="§" href= "#multilanguage">
</a>
</h5>
<p>
A
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
providing
a
set
of
human-readable
texts
in
different
languages
identified
by
language
tags
described
in
[
<cite>
<a class= "bibref" href="#bib-bcp47" title="Tags for Identifying Languages" data-link-type="biblio">
BCP47
</a>
</cite>
].
See
<a href= "#titles-descriptions-serialization-json" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3.2
</bdi>
Human-Readable
Metadata
</a>
for
example
usages
of
this
container
in
a
Thing
Description
instance.
</p>
<p>
<span class="rfc2119-assertion" id= "td-multilanguage-language-tag">
Each
name
of
the
<code>
MultiLanguage
</code>
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
a
language
tag
as
defined
in
[
<cite>
<a class= "bibref" href="#bib-bcp47" title="Tags for Identifying Languages" data-link-type="biblio">
BCP47
</a>
</cite>
].
</span>
<span class= "rfc2119-assertion" id="td-multilanguage-value">
Each
value
of
the
<code>
MultiLanguage
</code>
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
of
type
<code>
string
</code>.
</span>
</p>
</section>
</section>
<section id="sec-data-schema-vocabulary-definition">
<h4 id="x5-3-2-data-schema-vocabulary-definitions">
<bdi class= "secno">
5.3.2
</bdi>
Data
Schema
Vocabulary
Definitions
<a class= "self-link" aria-label="§" href= "#sec-data-schema-vocabulary-definition">
</a>
</h4>
<p>
The
data
schema
definition
is
reflecting
a
very
common
subset
of
the
terms
defined
by
JSON
Schema
[
<cite>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a class="bibref" href= "#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio">
<ins class="diff-chg">JSON-SCHEMA
</ins>
</a>
</cite>
].
It
is
noted
that
data
schema
definitions
within
Thing
Description
instances
are
not
limited
to
this
defined
subset
and
<del class="diff-old">MAY
</del>
<ins class="diff-chg">may
</ins>
use
additional
terms
found
in
JSON
<del class="diff-old">Schema.
In
that
case,
it
is
recommended
to
use
</del>
<ins class="diff-chg">Schema
using
</ins>
a
<a href="#dfn-context-ext" class= "internalDFN" data-link-type="dfn">
TD
Context
Extension
</a>
for
the
additional
terms
as
described
in
<a href="#sec-context-extensions" class="sec-ref">
§&nbsp;
<bdi class="secno">
7.
</bdi>
TD
Context
Extensions
</a>,
otherwise
these
terms
are
semantically
ignored
by
<a href="#dfn-td-processor" class="internalDFN" data-link-type= "dfn">
TD
Processors
</a>
<del class="diff-old">(also
see
§&nbsp;
D.
Transformation
</del>
<ins class="diff-chg">(for
details
about
semantic
processing,
please
refer
</ins>
to
<del class="diff-old">RDF
</del>
<ins class="diff-chg">the
documentation
under
the
namespace
IRIs,
e.g.,
</ins><a href= "https://www.w3.org/2019/wot/td"><ins class="diff-chg">
https://www.w3.org/2019/wot/td
</ins>
</a>
).
</p>
<section id="dataschema">
<h5 id="x5-3-2-1-dataschema">
<bdi class="secno">
5.3.2.1
</bdi>
<code>
DataSchema
</code>
<a class="self-link" aria-label="§" href= "#dataschema">
</a>
</h5>
<p>
Metadata
that
describes
the
data
format
used.
It
can
be
used
for
validation.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-at-type--DataSchema">
<td>
<code>
@type
</code>
</td>
<td>
JSON-LD
keyword
to
label
the
object
with
semantic
tags
(or
types)
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-title--DataSchema">
<td>
<code>
title
</code>
</td>
<td>
Provides
a
human-readable
title
(e.g.,
display
a
text
for
UI
representation)
based
on
a
default
language.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-titles--DataSchema">
<td>
<code>
titles
</code>
</td>
<td>
Provides
multi-language
human-readable
titles
(e.g.,
display
a
text
for
UI
representation
in
different
languages).
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-description--DataSchema">
<td>
<code>
description
</code>
</td>
<td>
Provides
additional
(human-readable)
information
based
on
a
default
language.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-descriptions--DataSchema">
<td>
<code>
descriptions
</code>
</td>
<td>
Can
be
used
to
support
(human-readable)
information
in
different
languages.
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-type--DataSchema">
<td>
<code>
type
</code>
</td>
<td>
Assignment
of
JSON-based
data
types
compatible
with
JSON
Schema
(one
of
boolean,
integer,
number,
string,
object,
array,
or
null).
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
object
</code>,
<code>
array
</code>,
<code>
string
</code>,
<code>
number
</code>,
<code>
integer
</code>,
<code>
boolean
</code>,
or
<code>
null
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-const--DataSchema">
<td>
<code>
const
</code>
</td>
<td>
Provides
a
constant
value.
</td>
<td>
optional
</td>
<td>
any
type
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-unit--DataSchema">
<td>
<code>
unit
</code>
</td>
<td>
Provides
unit
information
that
is
used,
e.g.,
in
international
science,
engineering,
and
business.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-oneOf--DataSchema">
<td>
<code>
oneOf
</code>
</td>
<td>
Used
to
ensure
that
the
data
is
valid
against
one
of
the
specified
schemas
in
the
array.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
<a href= "#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-enum--DataSchema">
<td>
<code>
enum
</code>
</td>
<td>
Restricted
set
of
values
provided
as
an
array.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
any
type
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-readOnly--DataSchema">
<td>
<code>
readOnly
</code>
</td>
<td>
Boolean
value
that
is
a
hint
to
indicate
whether
a
property
interaction
/
value
is
read
only
(=true)
or
not
(=false).
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-writeOnly--DataSchema">
<td>
<code>
writeOnly
</code>
</td>
<td>
Boolean
value
that
is
a
hint
to
indicate
whether
a
property
interaction
/
value
is
write
only
(=true)
or
not
(=false).
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-format--DataSchema">
<td>
<code>
format
</code>
</td>
<td>
Allows
validation
based
on
a
format
pattern
such
as
"date-time",
"email",
"uri",
etc.
(Also
see
below.)
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
DataSchema
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href="#arrayschema">
<code>
<del class="diff-old">ObjectSchema
</del>
<ins class="diff-chg">ArraySchema
</ins>
</code>
</a>
</li>
<li>
<a href="#booleanschema">
<code>
<del class="diff-old">StringSchema
</del>
<ins class="diff-chg">BooleanSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#numberschema">
<code>
NumberSchema
</code>
</a>
</li>
<li>
<a href="#integerschema">
<code>
<del class="diff-old">NullSchema
</del>
<ins class="diff-chg">IntegerSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#objectschema">
<code>
<del class="diff-old">BooleanSchema
</del>
<ins class="diff-chg">ObjectSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#stringschema">
<code>
<del class="diff-old">IntegerSchema
</del>
<ins class="diff-chg">StringSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#nullschema">
<code>
<del class="diff-old">ArraySchema
</del>
<ins class="diff-chg">NullSchema
</ins>
</code>
</a>
</li>
</ul>
<p>
The
<code>
format
</code>
string
values
are
known
from
a
fixed
set
of
values
and
their
corresponding
format
rules
defined
in
[
<cite>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a class="bibref" href="#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio">
<ins class="diff-chg">JSON-SCHEMA
</ins>
</a>
</cite>
]
(Section
7.3
Defined
Formats
in
particular).
<span class="rfc2119-assertion" id= "td-format-validation-known-values">
Servients
<em class="rfc2119" title="MAY">
MAY
</em>
use
the
<code>
format
</code>
value
to
perform
additional
validation
accordingly.
</span>
<span class= "rfc2119-assertion" id="td-format-validation-other-values">
When
a
value
that
is
not
found
in
the
known
set
of
values
is
assigned
to
<code>
format
</code>,
such
a
validation
<em class="rfc2119" title= "SHOULD">
SHOULD
</em>
succeed.
</span>
</p>
</section>
<section id="arrayschema">
<h5 id="x5-3-2-2-arrayschema">
<bdi class="secno">
5.3.2.2
</bdi>
<code>
ArraySchema
</code>
<a class="self-link" aria-label="§" href= "#arrayschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<a href="#dfn-array" class= "internalDFN" data-link-type="dfn">
Array
</a>.
This
<a href= "#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
array
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-items--ArraySchema">
<td>
<code>
items
</code>
</td>
<td>
Used
to
define
the
characteristics
of
an
array.
</td>
<td>
optional
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
or
<a href= "#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-minItems--ArraySchema">
<td>
<code>
minItems
</code>
</td>
<td>
Defines
the
minimum
number
of
items
that
have
to
be
in
the
array.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt">
<code>
unsignedInt
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-maxItems--ArraySchema">
<td>
<code>
maxItems
</code>
</td>
<td>
Defines
the
maximum
number
of
items
that
have
to
be
in
the
array.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt">
<code>
unsignedInt
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="booleanschema">
<h5 id="x5-3-2-3-booleanschema">
<bdi class="secno">
5.3.2.3
</bdi>
<code>
BooleanSchema
</code>
<a class="self-link" aria-label="§" href= "#booleanschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<code>
boolean
</code>.
This
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
boolean
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
</p>
</section>
<section id="numberschema">
<h5 id="x5-3-2-4-numberschema">
<bdi class="secno">
5.3.2.4
</bdi>
<code>
NumberSchema
</code>
<a class="self-link" aria-label="§" href= "#numberschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<code>
number
</code>.
This
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
number
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-minimum--NumberSchema">
<td>
<code>
minimum
</code>
</td>
<td>
Specifies
a
minimum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double">
<code>
double
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-maximum--NumberSchema">
<td>
<code>
maximum
</code>
</td>
<td>
Specifies
a
maximum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double">
<code>
double
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="integerschema">
<h5 id="x5-3-2-5-integerschema">
<bdi class="secno">
5.3.2.5
</bdi>
<code>
IntegerSchema
</code>
<a class="self-link" aria-label="§" href= "#integerschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<code>
integer
</code>.
This
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
integer
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-minimum--IntegerSchema">
<td>
<code>
minimum
</code>
</td>
<td>
Specifies
a
minimum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer">
<code>
integer
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-maximum--IntegerSchema">
<td>
<code>
maximum
</code>
</td>
<td>
Specifies
a
maximum
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer">
<code>
integer
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="objectschema">
<h5 id="x5-3-2-6-objectschema">
<bdi class="secno">
5.3.2.6
</bdi>
<code>
ObjectSchema
</code>
<a class="self-link" aria-label="§" href= "#objectschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<code>
object
</code>.
This
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
object
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-properties--ObjectSchema">
<td>
<code>
properties
</code>
</td>
<td>
Data
schema
nested
definitions.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
of
<a href= "#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-required--ObjectSchema">
<td>
<code>
required
</code>
</td>
<td>
Defines
which
members
of
the
object
type
are
mandatory.
</td>
<td>
optional
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="stringschema">
<h5 id="x5-3-2-7-stringschema">
<bdi class="secno">
5.3.2.7
</bdi>
<code>
StringSchema
</code>
<a class="self-link" aria-label="§" href= "#stringschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<code>
string
</code>.
This
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
string
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
</p>
</section>
<section id="nullschema">
<h5 id="x5-3-2-8-nullschema">
<bdi class="secno">
5.3.2.8
</bdi>
<code>
NullSchema
</code>
<a class="self-link" aria-label="§" href= "#nullschema">
</a>
</h5>
<p>
Metadata
describing
data
of
type
<code>
null
</code>.
This
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
is
indicated
by
the
value
<code>
null
</code>
assigned
to
<code>
type
</code>
in
<code>
DataSchema
</code>
instances.
This
Subclass
describes
only
one
acceptable
value,
namely
<code>
null
</code>.
It
can
be
used
as
part
of
a
<code>
oneOf
</code>
declaration,
where
it
is
used
to
indicate,
that
the
data
can
also
be
<code>
null
</code>.
</p>
</section>
</section>
<section id="sec-security-vocabulary-definition">
<h4 id="x5-3-3-security-vocabulary-definitions">
<bdi class= "secno">
5.3.3
</bdi>
Security
Vocabulary
Definitions
<a class= "self-link" aria-label="§" href= "#sec-security-vocabulary-definition">
</a>
</h4>
<p>
This
specification
provides
a
selection
of
well-established
security
mechanisms
that
are
directly
built
into
protocols
eligible
as
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn">
Protocol
Bindings
</a>
for
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
WoT
or
are
widely
in
use
with
those
protocols.
The
current
set
of
HTTP
security
schemes
is
partly
based
on
<a href= "https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#securitySchemeObject">
OpenAPI
3.0.1
</a>
(see
also
[
<cite>
<a class="bibref" href= "#bib-openapi" title="OpenAPI Specification: Version 3.0.1" data-link-type="biblio">
OPENAPI
</a>
</cite>
]).
However
while
the
HTTP
security
schemes,
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>,
and
syntax
given
in
this
specification
share
many
similarities
with
OpenAPI,
they
are
not
compatible.
</p>
<section id="securityscheme">
<h5 id="x5-3-3-1-securityscheme">
<bdi class="secno">
5.3.3.1
</bdi>
<code>
SecurityScheme
</code>
<a class="self-link" aria-label="§" href="#securityscheme">
</a>
</h5>
<p>
Metadata
describing
the
configuration
of
a
security
mechanism.
<span class="rfc2119-assertion" id="td-security-scheme-name">
The
value
assigned
to
the
name
<code>
scheme
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
defined
within
a
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>
included
in
the
<a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn">
Thing
Description
</a>,
either
in
the
standard
<a href="#dfn-vocab" class="internalDFN" data-link-type= "dfn">
Vocabulary
</a>
defined
in
<a href= "#sec-vocabulary-definition" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.
</bdi>
TD
Information
Model
</a>
or
in
a
<a href= "#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extension
</a>.
</span>
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-at-type--SecurityScheme">
<td>
<code>
@type
</code>
</td>
<td>
JSON-LD
keyword
to
label
the
object
with
semantic
tags
(or
types).
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-scheme--SecurityScheme">
<td>
<code>
scheme
</code>
</td>
<td>
Identification
of
the
security
mechanism
being
configured.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
nosec
</code>,
<code>
basic
</code>,
<code>
cert
</code>,
<code>
digest
</code>,
<code>
bearer
</code>,
<code>
pop
</code>,
<code>
psk
</code>,
<code>
public
</code>,
<code>
oauth2
</code>,
or
<code>
apikey
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-description--SecurityScheme">
<td>
<code>
description
</code>
</td>
<td>
Provides
additional
(human-readable)
information
based
on
a
default
language.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-descriptions--SecurityScheme">
<td>
<code>
descriptions
</code>
</td>
<td>
Can
be
used
to
support
(human-readable)
information
in
different
languages.
</td>
<td>
optional
</td>
<td>
<a href="#multilanguage">
<code>
MultiLanguage
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-proxy--SecurityScheme">
<td>
<code>
proxy
</code>
</td>
<td>
URI
of
the
proxy
server
this
security
configuration
provides
access
to.
If
not
given,
the
corresponding
security
configuration
is
for
the
endpoint.
<del class="diff-old">This
feature
is
at
risk.
</del>
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
SecurityScheme
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href= "#nosecurityscheme">
<code>
<del class="diff-old">PublicSecurityScheme
</del>
<ins class="diff-chg">NoSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#basicsecurityscheme">
<code>
<del class="diff-old">PoPSecurityScheme
</del>
<ins class="diff-chg">BasicSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#digestsecurityscheme">
<code>
<del class="diff-old">APIKeySecurityScheme
</del>
<ins class="diff-chg">DigestSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#apikeysecurityscheme">
<code>
<del class="diff-old">DigestSecurityScheme
</del>
<ins class="diff-chg">APIKeySecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#bearersecurityscheme">
<code>
<del class="diff-old">BasicSecurityScheme
</del>
<ins class="diff-chg">BearerSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#certsecurityscheme">
<code>
<del class="diff-old">PSKSecurityScheme
</del>
<ins class="diff-chg">CertSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#psksecurityscheme">
<code>
<del class="diff-old">OAuth2SecurityScheme
</del>
<ins class="diff-chg">PSKSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#publicsecurityscheme">
<code>
<del class="diff-old">BearerSecurityScheme
</del>
<ins class="diff-chg">PublicSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#popsecurityscheme">
<code>
<del class="diff-old">CertSecurityScheme
</del>
<ins class="diff-chg">PoPSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#oauth2securityscheme">
<code>
<del class="diff-old">NoSecurityScheme
</del>
<ins class="diff-chg">OAuth2SecurityScheme
</ins>
</code>
</a>
</li>
</ul>
</section>
<section id="nosecurityscheme">
<h5 id="x5-3-3-2-nosecurityscheme">
<bdi class="secno">
5.3.3.2
</bdi>
<code>
NoSecurityScheme
</code>
<a class="self-link" aria-label="§" href="#nosecurityscheme">
</a>
</h5>
<p>
A
security
configuration
corresponding
to
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
<code>
nosec
</code>
(i.e.,
<code>
"scheme":
"nosec"
</code>
),
indicating
there
is
no
authentication
or
other
mechanism
required
to
access
the
resource.
</p>
</section>
<section id="basicsecurityscheme">
<h5 id="x5-3-3-3-basicsecurityscheme">
<bdi class= "secno">
5.3.3.3
</bdi>
<code>
BasicSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#basicsecurityscheme">
</a>
</h5>
<p>
Basic
<del class="diff-old">authentication
</del>
<ins class="diff-chg">Authentication
[
</ins><cite><a class="bibref" href= "#bib-rfc7617" title="The 'Basic' HTTP Authentication Scheme" data-link-type="biblio"><ins class="diff-chg">
RFC7617
</ins></a></cite><ins class="diff-chg">
]
</ins>
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
<code>
basic
</code>
(i.e.,
<code>
"scheme":
"basic"
</code>
),
using
an
unencrypted
username
and
password.
This
scheme
should
be
used
with
some
other
security
mechanism
providing
confidentiality,
for
example,
TLS.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-in--BasicSecurityScheme">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
header
</code>,
<code>
query
</code>,
<code>
body
</code>,
or
<code>
cookie
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-name--BasicSecurityScheme">
<td>
<code>
name
</code>
</td>
<td>
Name
for
query,
header,
or
cookie
parameters.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="digestsecurityscheme">
<h5 id="x5-3-3-4-digestsecurityscheme">
<bdi class= "secno">
5.3.3.4
</bdi>
<code>
DigestSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#digestsecurityscheme">
</a>
</h5>
<p>
Digest
<del class="diff-old">authentication
</del>
<ins class="diff-chg">Access
Authentication
[
</ins><cite><a class="bibref" href= "#bib-rfc7616" title="HTTP Digest Access Authentication" data-link-type="biblio"><ins class="diff-chg">
RFC7616
</ins></a></cite><ins class="diff-chg">
]
</ins>
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
<code>
digest
</code>
(i.e.,
<code>
"scheme":
"digest"
</code>
).
This
scheme
is
similar
to
basic
authentication
but
with
added
features
to
avoid
man-in-the-middle
attacks.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-qop--DigestSecurityScheme">
<td>
<code>
qop
</code>
</td>
<td>
Quality
of
protection.
<del class="diff-old">This
feature
is
at
risk.
</del>
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
auth
</code>,
or
<code>
auth-int
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-in--DigestSecurityScheme">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
header
</code>,
<code>
query
</code>,
<code>
body
</code>,
or
<code>
cookie
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-name--DigestSecurityScheme">
<td>
<code>
name
</code>
</td>
<td>
Name
for
query,
header,
or
cookie
parameters.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="apikeysecurityscheme">
<h5 id="x5-3-3-5-apikeysecurityscheme">
<bdi class= "secno">
5.3.3.5
</bdi>
<code>
APIKeySecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#apikeysecurityscheme">
</a>
<del class="diff-old">This
section
is
at
risk.
</del>
</h5>
<p>
API
key
authentication
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
<code>
apikey
</code>
(i.e.,
<code>
"scheme":
"apikey"
</code>
).
This
is
for
the
case
where
the
access
token
is
opaque
and
is
not
using
a
standard
token
format.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-in--APIKeySecurityScheme">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
header
</code>,
<code>
query
</code>,
<code>
body
</code>,
or
<code>
cookie
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-name--APIKeySecurityScheme">
<td>
<code>
name
</code>
</td>
<td>
Name
for
query,
header,
or
cookie
parameters.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="bearersecurityscheme">
<h5 id="x5-3-3-6-bearersecurityscheme">
<bdi class= "secno">
5.3.3.6
</bdi>
<code>
BearerSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#bearersecurityscheme">
</a>
</h5>
<p>
Bearer
<del class="diff-old">token
authentication
</del>
<ins class="diff-chg">Token
[
</ins><cite><a class="bibref" href="#bib-rfc6750" title= "The OAuth 2.0 Authorization Framework: Bearer Token Usage" data-link-type="biblio"><ins class="diff-chg">
RFC6750
</ins></a></cite><ins class="diff-chg">
]
</ins>
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
<code>
bearer
</code>
(i.e.,
<code>
"scheme":
"bearer"
</code>
<del class="diff-old">).
This
scheme
is
intended
</del>
<ins class="diff-chg">)
</ins>
for
situations
where
bearer
tokens
are
used
independently
of
OAuth2.
If
the
<code>
oauth2
</code>
scheme
is
specified
it
is
not
generally
necessary
to
specify
this
scheme
as
well
as
it
is
implied.
For
<code>
format
</code>,
the
value
<code>
jwt
</code>
indicates
conformance
with
[
<cite>
<a class= "bibref" href="#bib-rfc7519" title="JSON Web Token (JWT)" data-link-type="biblio">
RFC7519
</a>
</cite>
],
<code>
jws
</code>
indicates
conformance
with
[
<cite>
<a class="bibref" href= "#bib-rfc7797" title= "JSON Web Signature (JWS) Unencoded Payload Option" data-link-type= "biblio">
RFC7797
</a>
</cite>
],
<code>
cwt
</code>
indicates
conformance
with
[
<cite>
<a class="bibref" href="#bib-rfc8392" title="CBOR Web Token (CWT)" data-link-type= "biblio">
RFC8392
</a>
</cite>
],
and
<code>
jwe
</code>
indicates
conformance
with
[
<cite>
<a class="bibref" href="#bib-rfc7516" title="JSON Web Encryption (JWE)" data-link-type= "biblio">
RFC7516
</a>
</cite>
],
with
values
for
<code>
alg
</code>
interpreted
consistently
with
those
standards.
<span class= "rfc2119-assertion" id="td-security-bearer-format-extensions">
Other
formats
and
algorithms
for
bearer
tokens
<em class="rfc2119" title= "MAY">
MAY
</em>
be
specified
in
vocabulary
extensions.
</span>.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-authorization--BearerSecurityScheme">
<td>
<code>
authorization
</code>
</td>
<td>
URI
of
the
authorization
server.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-alg--BearerSecurityScheme">
<td>
<code>
alg
</code>
</td>
<td>
Encoding,
encryption,
or
digest
algorithm.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
MD5
</code>,
<code>
ES256
</code>,
or
<code>
ES512-256
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-format--BearerSecurityScheme">
<td>
<code>
format
</code>
</td>
<td>
Specifies
format
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
jwt
</code>,
<code>
cwt
</code>,
<code>
jwe
</code>,
or
<code>
jws
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-in--BearerSecurityScheme">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
header
</code>,
<code>
query
</code>,
<code>
body
</code>,
or
<code>
cookie
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-name--BearerSecurityScheme">
<td>
<code>
name
</code>
</td>
<td>
Name
for
query,
header,
or
cookie
parameters.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="certsecurityscheme">
<h5 id="x5-3-3-7-certsecurityscheme">
<bdi class= "secno">
5.3.3.7
</bdi>
<code>
CertSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#certsecurityscheme">
</a>
</h5>
<p>
<span class="at-risk">
This
section
is
at
risk.
</span>
</p>
<p>
Certificate-based
asymmetric
key
security
configuration
conformant
with
[
<cite>
<a class="bibref" href="#bib-x509v3" title= "ITU-T Recommendation X.509 version 3 (1997). &quot;Information Technology - Open Systems Interconnection - The Directory Authentication Framework&quot;&amp;nbsp; ISO/IEC 9594-8:1997." data-link-type="biblio">
X509V3
</a>
</cite>
]
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
<code>
cert
</code>
(i.e.,
<code>
"scheme":
"cert"
</code>
).
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-identity--CertSecurityScheme">
<td>
<code>
identity
</code>
</td>
<td>
Identifier
providing
information
which
can
be
used
for
selection
or
confirmation.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="psksecurityscheme">
<h5 id="x5-3-3-8-psksecurityscheme">
<bdi class= "secno">
5.3.3.8
</bdi>
<code>
PSKSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#psksecurityscheme">
</a>
<del class="diff-old">This
section
is
at
risk.
</del>
</h5>
<p>
Pre-shared
key
authentication
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
<code>
psk
</code>
(i.e.,
<code>
"scheme":
"psk"
</code>
).
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-identity--PSKSecurityScheme">
<td>
<code>
identity
</code>
</td>
<td>
Identifier
providing
information
which
can
be
used
for
selection
or
confirmation.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="publicsecurityscheme">
<h5 id="x5-3-3-9-publicsecurityscheme">
<bdi class= "secno">
5.3.3.9
</bdi>
<code>
PublicSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#publicsecurityscheme">
</a>
</h5>
<p>
<span class="at-risk">
This
section
is
at
risk.
</span>
</p>
<p>
Raw
public
key
asymmetric
key
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
<code>
public
</code>
(i.e.,
<code>
"scheme":
"public"
</code>
).
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-identity--PublicSecurityScheme">
<td>
<code>
identity
</code>
</td>
<td>
Identifier
providing
information
which
can
be
used
for
selection
or
confirmation.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="popsecurityscheme">
<h5 id="x5-3-3-10-popsecurityscheme">
<bdi class= "secno">
5.3.3.10
</bdi>
<code>
PoPSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#popsecurityscheme">
</a>
</h5>
<p>
<span class="at-risk">
This
section
is
at
risk.
</span>
</p>
<p>
Proof-of-possession
(PoP)
token
authentication
security
configuration
identified
by
the
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
<code>
pop
</code>
(i.e.,
<code>
"scheme":
"pop"
</code>
).
Here
<code>
jwt
</code>
indicates
conformance
with
[
<cite>
<a class= "bibref" href="#bib-rfc7519" title="JSON Web Token (JWT)" data-link-type="biblio">
RFC7519
</a>
</cite>
],
<code>
jws
</code>
indicates
conformance
with
[
<cite>
<a class="bibref" href= "#bib-rfc7797" title= "JSON Web Signature (JWS) Unencoded Payload Option" data-link-type= "biblio">
RFC7797
</a>
</cite>
],
<code>
cwt
</code>
indicates
conformance
with
[
<cite>
<a class="bibref" href="#bib-rfc8392" title="CBOR Web Token (CWT)" data-link-type= "biblio">
RFC8392
</a>
</cite>
],
and
<code>
jwe
</code>
indicates
conformance
with
[
<cite>
<a class="bibref" href="#bib-rfc7516" title="JSON Web Encryption (JWE)" data-link-type= "biblio">
RFC7516
</a>
</cite>
],
with
values
for
<code>
alg
</code>
interpreted
consistently
with
those
standards.
<span class= "rfc2119-assertion" id="td-security-pop-format-extensions">
Other
formats
and
algorithms
for
PoP
tokens
<em class="rfc2119" title= "MAY">
MAY
</em>
be
specified
in
vocabulary
extensions.
</span>.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-authorization--PoPSecurityScheme">
<td>
<code>
authorization
</code>
</td>
<td>
URI
of
the
authorization
server.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-alg--PoPSecurityScheme">
<td>
<code>
alg
</code>
</td>
<td>
Encoding,
encryption,
or
digest
algorithm.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
MD5
</code>,
<code>
ES256
</code>,
or
<code>
ES512-256
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-format--PoPSecurityScheme">
<td>
<code>
format
</code>
</td>
<td>
Specifies
format
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
jwt
</code>,
<code>
cwt
</code>,
<code>
jwe
</code>,
or
<code>
jws
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-in--PoPSecurityScheme">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information.
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
header
</code>,
<code>
query
</code>,
<code>
body
</code>,
or
<code>
cookie
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-name--PoPSecurityScheme">
<td>
<code>
name
</code>
</td>
<td>
Name
for
query,
header,
or
cookie
parameters.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="oauth2securityscheme">
<h5 id="x5-3-3-11-oauth2securityscheme">
<bdi class= "secno">
5.3.3.11
</bdi>
<code>
OAuth2SecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#oauth2securityscheme">
</a>
<del class="diff-old">This
section
is
at
risk.
</del>
</h5>
<p>
OAuth2
authentication
security
configuration
for
systems
conformant
with
[
<cite>
<a class="bibref" href="#bib-rfc6749" title= "The OAuth 2.0 Authorization Framework" data-link-type= "biblio">
RFC6749
</a>
</cite>
]
and
[
<cite>
<a class="bibref" href= "#bib-rfc8252" title="OAuth 2.0 for Native Apps" data-link-type= "biblio">
RFC8252
</a>
</cite>
],
identified
by
the
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
<code>
oauth2
</code>
(i.e.,
<code>
"scheme":
"oauth2"
</code>
).
<span class="rfc2119-assertion" id="td-security-oauth2-implicit-flow">
For
the
<code>
implicit
</code>
flow
<code>
authorization
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
included.
</span>
<span class= "rfc2119-assertion" id= "td-security-oauth2-password-client-flow">
For
the
<code>
password
</code>
and
<code>
client
</code>
flows
<code>
token
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
included.
</span>
<span class="rfc2119-assertion" id= "td-security-oauth2-code-flow">
For
the
<code>
code
</code>
flow
both
<code>
authorization
</code>
and
<code>
token
</code>
<em class= "rfc2119" title="MUST">
MUST
</em>
be
included.
</span>
If
no
<code>
scopes
</code>
are
defined
in
the
<code>
SecurityScheme
</code>
then
they
are
considered
to
be
empty.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-authorization--OAuth2SecurityScheme">
<td>
<code>
authorization
</code>
</td>
<td>
URI
of
the
authorization
server.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-token--OAuth2SecurityScheme">
<td>
<code>
token
</code>
</td>
<td>
URI
of
the
token
server.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-refresh--OAuth2SecurityScheme">
<td>
<code>
refresh
</code>
</td>
<td>
URI
of
the
refresh
server.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-scopes--OAuth2SecurityScheme">
<td>
<code>
scopes
</code>
</td>
<td>
Set
of
authorization
scope
identifiers
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
The
values
associated
with
a
form
should
be
chosen
from
those
defined
in
an
<code>
OAuth2SecurityScheme
</code>
active
on
that
form.
<del class="diff-old">This
feature
is
at
risk.
</del>
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-flow--OAuth2SecurityScheme">
<td>
<code>
flow
</code>
</td>
<td>
Authorization
flow.
</td>
<td>
<del class="diff-old">with
default
</del>
<ins class="diff-chg">mandatory
</ins>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
implicit
</code>,
<code>
password
</code>,
<code>
client
</code>,
or
<code>
code
</code>
)
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sec-hypermedia-vocabulary-definition">
<h4 id="x5-3-4-hypermedia-controls-vocabulary-definitions">
<bdi class="secno">
5.3.4
</bdi>
Hypermedia
Controls
Vocabulary
Definitions
<a class="self-link" aria-label="§" href= "#sec-hypermedia-vocabulary-definition">
</a>
</h4>
<p>
The
present
model
provides
a
representation
for
(typed)
Web
links
and
Web
forms
exposed
by
a
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>.
The
<code>
Link
</code>
class
definition
is
reflecting
a
very
common
subset
of
the
terms
defined
in
Web
Linking
[
<cite>
<a class="bibref" href="#bib-rfc8288" title="Web Linking" data-link-type="biblio">
RFC8288
</a>
</cite>
].
The
defined
terms
can
be
used,
e.g.,
to
describe
the
relation
to
another
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
such
as
a
<i>
Lamp
Thing
</i>
is
controlled
by
a
<i>
Switch
Thing
</i>.
The
<code>
Form
</code>
class
corresponds
to
a
newly
introduced
form
of
hypermedia
control
to
manipulate
the
state
of
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>
(and
other
Web
resources).
</p>
<section id="link">
<h5 id="x5-3-4-1-link">
<bdi class="secno">
5.3.4.1
</bdi>
<code>
Link
</code>
<a class="self-link" aria-label="§" href= "#link">
</a>
</h5>
<p>
A
link
can
be
viewed
as
a
statement
of
the
form
"
<b>
<em>
link
context
</em>
</b>
has
a
<b>
<em>
relation
type
</em>
</b>
resource
at
<b>
<em>
link
target
</em>
</b>
",
where
the
optional
<b>
<em>
target
attributes
</em>
</b>
may
further
describe
the
resource.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-href--Link">
<td>
<code>
href
</code>
</td>
<td>
<del class="diff-old">target
</del>
<ins class="diff-chg">Target
</ins>
IRI
of
a
link
or
submission
target
of
a
form.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-type--Link">
<td>
<code>
type
</code>
</td>
<td>
Target
attribute
providing
a
hint
indicating
what
the
media
type
<del class="diff-old">[IANA-MEDIA-TYPES]
</del>
<ins class="diff-chg">[
</ins><cite><a class="bibref" href="#bib-rfc2046" title= "Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types" data-link-type="biblio"><ins class="diff-chg">
RFC2046
</ins></a></cite><ins class="diff-chg">
]
</ins>
of
the
result
of
dereferencing
the
link
should
be.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-rel--Link">
<td>
<code>
rel
</code>
</td>
<td>
A
link
relation
type
identifies
the
semantics
of
a
link.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-anchor--Link">
<td>
<code>
anchor
</code>
</td>
<td>
<del class="diff-old">By
default,
</del>
<ins class="diff-chg">Overrides
</ins>
the
<del class="diff-old">context,
or
anchor,
of
a
</del>
link
<del class="diff-old">conveyed
in
the
Link
header
field
is
</del>
<ins class="diff-chg">context
(by
default
</ins>
the
<del class="diff-old">URL
of
</del>
<ins class="diff-chg">Thing
itself
identified
by
its
</ins><code><ins class="diff-chg">
id
</ins></code><ins class="diff-chg">
)
with
</ins>
the
<del class="diff-old">representation
it
is
associated
with,
as
defined
in
RFC7231,
Section
3.1.4.1,
and
is
serialized
as
a
URI.
</del>
<ins class="diff-chg">given
URI
or
IRI.
</ins>
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="form">
<h5 id="x5-3-4-2-form">
<bdi class="secno">
5.3.4.2
</bdi>
<code>
Form
</code>
<a class="self-link" aria-label="§" href= "#form">
</a>
</h5>
<p>
A
form
can
be
viewed
as
a
statement
of
"To
perform
an
<b>
<em>
operation
type
</em>
</b>
operation
on
<b>
<em>
form
context
</em>
</b>,
make
a
<b>
<em>
request
method
</em>
</b>
request
to
<b>
<em>
submission
target
</em>
</b>
"
where
the
optional
<b>
<em>
form
fields
</em>
</b>
may
further
describe
the
required
request.
In
Thing
Descriptions,
the
<b>
<em>
form
context
</em>
</b>
is
the
surrounding
Object,
such
as
Properties,
Actions,
and
Events
or
the
Thing
itself
for
meta-interactions.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-op--Form">
<td>
<code>
op
</code>
</td>
<td>
Indicates
the
semantic
intention
of
performing
the
operation(s)
described
by
the
form.
<p>
For
example,
the
Property
interaction
allows
get
and
set
operations.
<br />
The
protocol
binding
may
contain
a
form
for
the
get
operation
and
a
different
form
for
the
set
operation.
<br />
The
op
attribute
indicates
which
form
is
for
which
and
allows
the
client
to
select
the
correct
form
for
the
operation
required.
</p>
<p>
op
can
be
assigned
one
or
more
interaction
verb(s)
each
representing
a
semantic
intention
of
an
operation.
</p>
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
readproperty
</code>,
<code>
writeproperty
</code>,
<code>
observeproperty
</code>,
<code>
unobserveproperty
</code>,
<code>
invokeaction
</code>,
<code>
subscribeevent
</code>,
<code>
unsubscribeevent
</code>,
<code>
readallproperties
</code>,
<code>
writeallproperties
</code>,
<code>
readmultipleproperties
</code>,
or
<code>
writemultipleproperties
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-href--Form">
<td>
<code>
href
</code>
</td>
<td>
<del class="diff-old">target
</del>
<ins class="diff-chg">Target
</ins>
IRI
of
a
link
or
submission
target
of
a
form.
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-contentType--Form">
<td>
<code>
contentType
</code>
</td>
<td>
Assign
a
content
type
based
on
a
media
type
<del class="diff-old">[
IANA-MEDIA-TYPES
]
</del>
(e.g.,
<del class="diff-old">'text/plain')
</del>
<code>
<ins class="diff-chg">text/plain
</ins></code><ins class="diff-chg">
)
</ins>
and
potential
parameters
(e.g.,
<del class="diff-old">'charset=utf-8')
</del>
<code>
<ins class="diff-chg">charset=utf-8
</ins></code><ins class="diff-chg">
)
</ins>
for
the
media
<del class="diff-old">type.
</del>
<ins class="diff-chg">type
[
</ins><cite><a class= "bibref" href="#bib-rfc2046" title= "Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types" data-link-type="biblio"><ins class="diff-chg">
RFC2046
</ins></a></cite><ins class="diff-chg">
].
</ins>
</td>
<td>
<a href="#sec-default-values">
with
default
</a>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-contentCoding--Form">
<td>
<code>
contentCoding
</code>
</td>
<td>
Content
coding
values
indicate
an
encoding
transformation
that
has
been
or
can
be
applied
to
a
representation.
Content
codings
are
primarily
used
to
allow
a
representation
to
be
compressed
or
otherwise
usefully
transformed
without
losing
the
identity
of
its
underlying
media
type
and
without
loss
of
information.
Examples
of
content
coding
include
"gzip",
"deflate",
etc.
.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-subprotocol--Form">
<td>
<code>
subprotocol
</code>
</td>
<td>
Indicates
the
exact
mechanism
by
which
an
interaction
will
be
accomplished
for
a
given
protocol
when
there
are
multiple
options.
<p>
For
example,
for
HTTP
and
Events,
it
indicates
which
of
several
available
mechanisms
should
be
used
for
asynchronous
notifications
such
as
long
<del class="diff-old">polling,
</del>
<ins class="diff-chg">polling
(
</ins><code><ins class="diff-chg">
longpoll
</ins></code><ins class="diff-chg">
),
WebSub
[
</ins><cite><a class="bibref" href="#bib-websub" title="WebSub" data-link-type="biblio">
websub
<del class="diff-old">(also
see
https://www.w3.org/TR/websub/
</del>
</a>
</cite>
<ins class="diff-new">]
(
</ins><code><ins class="diff-new">
websub
</ins></code>
),
<del class="diff-old">or
server
sent
events
(also
see
https://www.w3.org/TR/eventsource/
</del>
<ins class="diff-chg">Server-Sent
Events
[
</ins><cite><a class="bibref" href="#bib-eventsource" title="Server-Sent Events" data-link-type= "biblio"><ins class="diff-chg">
eventsource
</ins>
</a>
</cite>
<ins class="diff-new">]
(
</ins><code><ins class="diff-new">
sse
</ins></code>
).
Please
note
that
there
is
no
restriction
on
the
<del class="diff-old">sub-protocol
</del>
<ins class="diff-chg">subprotocol
</ins>
selection
and
other
mechanisms
can
also
be
announced
by
this
subprotocol
term.
</p>
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<del class="diff-old">(e.g.
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
longpoll
</code>,
<code>
websub
</code>,
or
<code>
sse
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-security--Form">
<td>
<code>
security
</code>
</td>
<td>
Set
of
security
definition
names,
chosen
from
those
defined
in
<del class="diff-old">securityDefinitions.
</del>
<code>
<ins class="diff-chg">securityDefinitions
</ins></code>.
These
must
all
be
satisfied
for
access
to
resources.
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scopes--Form">
<td>
<code>
scopes
</code>
</td>
<td>
Set
of
authorization
scope
identifiers
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
The
values
associated
with
a
form
should
be
chosen
from
those
defined
in
an
<code>
OAuth2SecurityScheme
</code>
active
on
that
form.
<del class="diff-old">This
feature
is
at
risk.
</del>
</td>
<td>
optional
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
or
<a href="#dfn-array" class="internalDFN" data-link-type="dfn">
Array
</a>
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-response--Form">
<td>
<code>
response
</code>
</td>
<td>
This
optional
term
can
be
used
if,
e.g.,
the
output
communication
metadata
differ
from
input
metadata
(e.g.,
output
contentType
differ
from
the
input
contentType).
The
response
name
contains
metadata
that
is
only
valid
for
the
response
messages.
</td>
<td>
optional
</td>
<td>
<a href= "#expectedresponse">
<code>
ExpectedResponse
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
<ins class="diff-new">Possible
values
for
the
</ins><code><ins class="diff-new">
contentCoding
</ins></code><ins class="diff-new">
property
can
be
found,
e.g.,
in
the
</ins><a href= "https://www.iana.org/assignments/http-parameters/http-parameters.xhtml#content-coding"><ins class="diff-new">
IANA
HTTP
content
coding
registry
</ins></a>.</p><p>
The
list
of
possible
operation
types
of
a
form
is
fixed.
As
of
this
version
of
the
specification,
it
only
includes
the
well-known
types
necessary
to
implement
the
WoT
interaction
model
described
in
[
<cite>
<a class="bibref" href="#bib-wot-architecture" title= "Web of Things (WoT) Architecture" data-link-type= "biblio">
WOT-ARCHITECTURE
</a>
</cite>
].
Future
versions
of
the
standard
may
extend
this
list
but
<span class="rfc2119-assertion" id="well-known-operation-types-only">
operations
types
<em class= "rfc2119" title="SHOULD NOT">
SHOULD
NOT
</em>
be
arbitrarily
set
by
<del class="diff-old">servients
</del>
<ins class="diff-chg">servients.
</ins>
</span>
<del class="diff-old">.
</del>
</p>
<p>
The
optional
<code>
response
</code>
name-value
pair
can
be
used
to
provide
metadata
for
the
expected
response
message.
With
the
core
vocabulary,
it
only
includes
content
type
information,
but
TD
Context
Extensions
could
be
applied.
<span class= "rfc2119-assertion" id="td-expectedResponse-default-contentType">
If
no
<code>
response
</code>
name-value
pair
is
provided,
it
<em class= "rfc2119" title="MUST">
MUST
</em>
be
assumed
that
the
content
type
of
the
response
is
equal
to
the
content
type
assigned
to
the
Form
instance.
</span>
Note
that
<code>
contentType
</code>
within
an
<code>
ExpectedResponse
</code>
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
does
not
have
a
<a href="#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Value
</a>.
For
instance,
if
the
value
of
the
content
type
of
the
form
is
<code>
application/xml
</code>
the
assumed
value
of
the
content
type
of
the
response
will
be
also
<code>
application/xml
</code>.
</p>
<p>
In
some
use
cases,
input
and
output
data
might
be
represented
in
a
different
form,
for
instance
an
Action
that
accepts
JSON,
but
returns
an
image.
In
such
a
case,
the
optional
<code>
response
</code>
name-value
pair
can
describe
the
content
type
of
the
expected
response.
<span class="rfc2119-assertion" id= "td-expectedResponse-contentType">
If
the
content
type
of
the
expected
response
differs
from
the
content
type
of
the
form,
the
<code>
Form
</code>
instance
<em class="rfc2119" title= "MUST">
MUST
</em>
include
a
name-value
pair
with
the
name
<code>
response
</code>.
</span>
For
instance,
an
<code>
ActionAffordance
</code>
could
only
accept
<code>
application/json
</code>
for
its
input
data,
while
it
will
respond
with
an
<code>
image/jpeg
</code>
content
type
for
its
output
data.
In
that
case
the
content
types
differ
and
the
<code>
response
</code>
name-value
pair
has
to
be
used
to
provide
response
content
type
(
<code>
image/jpeg
</code>
)
information
to
the
<a href="#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>.
</p>
<del class="diff-old">Possible
values
for
the
contentCoding
property
can
be
found
e.g.
in
the
IANA
HTTP
content
coding
registry
.
</del>
</section>
<section id="expectedresponse">
<h5 id="x5-3-4-3-expectedresponse">
<bdi class="secno">
5.3.4.3
</bdi>
<code>
ExpectedResponse
</code>
<a class="self-link" aria-label="§" href="#expectedresponse">
</a>
</h5>
<p>
Communication
metadata
describing
the
expected
response
message.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Description
</th>
<th>
Assignment
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id= "td-vocab-contentType--ExpectedResponse">
<td>
<code>
contentType
</code>
</td>
<td>
Assign
a
content
type
based
on
a
media
type
<del class="diff-old">[
IANA-MEDIA-TYPES
]
</del>
(e.g.,
<del class="diff-old">'text/plain')
</del>
<code>
<ins class="diff-chg">text/plain
</ins></code><ins class="diff-chg">
)
</ins>
and
potential
parameters
(e.g.,
<del class="diff-old">'charset=utf-8')
</del>
<code>
<ins class="diff-chg">charset=utf-8
</ins></code><ins class="diff-chg">
)
</ins>
for
the
media
<del class="diff-old">type.
</del>
<ins class="diff-chg">type
[
</ins><cite><a class= "bibref" href="#bib-rfc2046" title= "Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types" data-link-type="biblio"><ins class="diff-chg">
RFC2046
</ins></a></cite><ins class="diff-chg">
].
</ins>
</td>
<td>
mandatory
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="sec-default-values">
<h3 id="x5-4-default-value-definitions">
<bdi class= "secno">
5.4
</bdi>
Default
Value
Definitions
<a class="self-link" aria-label="§" href="#sec-default-values">
</a>
</h3>
<p>
<span class="rfc2119-assertion" id="td-vocabulary-defaults">
When
assignments
in
a
TD
are
missing,
a
<a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn">
TD
Processor
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
follow
the
<a href= "#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Value
</a>
assignments
expressed
in
the
table
of
<a href="#sec-default-values" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.4
</bdi>
Default
Value
Definitions
</a>.
</span>
</p>
<p>
The
following
table
gives
all
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Values
</a>
defined
in
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type= "dfn">
TD
Information
Model
</a>.
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
</th>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
</th>
<th>
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Value
</a>
</th>
<th>
Comment
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-default-assertion" id="td-default-contentType">
<td>
<code>
Form
</code>
</td>
<td>
<code>
contentType
</code>
</td>
<td>
<code>
application/json
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-readOnly">
<td>
<code>
DataSchema
</code>
</td>
<td>
<code>
readOnly
</code>
</td>
<td>
<code>
false
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-writeOnly">
<td>
<code>
DataSchema
</code>
</td>
<td>
<code>
writeOnly
</code>
</td>
<td>
<code>
false
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-safe">
<td>
<code>
ActionAffordance
</code>
</td>
<td>
<code>
safe
</code>
</td>
<td>
<code>
false
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-idempotent">
<td>
<code>
ActionAffordance
</code>
</td>
<td>
<code>
idempotent
</code>
</td>
<td>
<code>
false
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id= "td-default-op-properties">
<td>
<code>
Form
</code>
</td>
<td>
<code>
op
</code>
</td>
<td>
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
of
<code>
string
</code>
with
the
elements
<code>
readproperty
</code>
and
<code>
writeproperty
</code>
<br />
</td>
<td>
If
defined
within
an
instance
of
<code>
PropertyAffordance
</code>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-op-actions">
<td>
<code>
Form
</code>
</td>
<td>
<code>
op
</code>
</td>
<td>
<code>
invokeaction
</code>
</td>
<td>
If
defined
within
an
instance
of
<code>
ActionAffordance
</code>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-op-events">
<td>
<code>
Form
</code>
</td>
<td>
<code>
op
</code>
</td>
<td>
<code>
subscribeevent
</code>
</td>
<td>
If
defined
within
an
instance
of
<code>
EventAffordance
</code>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-in-basic">
<td>
<code>
BasicSecurityScheme
</code>
</td>
<td>
<code>
in
</code>
</td>
<td>
<code>
header
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-in-digest">
<td>
<code>
DigestSecurityScheme
</code>
</td>
<td>
<code>
in
</code>
</td>
<td>
<code>
header
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-in-bearer">
<td>
<code>
BearerSecurityScheme
</code>
</td>
<td>
<code>
in
</code>
</td>
<td>
<code>
header
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-in-pop">
<td>
<code>
PoPSecurityScheme
</code>
<br />
This
feature
is
at
risk.
</td>
<td>
<code>
in
</code>
</td>
<td>
<code>
header
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-in-apikey">
<td>
<code>
APIKeySecurityScheme
</code>
<del class="diff-old">This
feature
is
at
risk.
</del>
</td>
<td>
<code>
in
</code>
</td>
<td>
<code>
query
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-qop">
<td>
<code>
DigestSecurityScheme
</code>
<del class="diff-old">This
feature
is
at
risk.
</del>
</td>
<td>
<code>
qop
</code>
</td>
<td>
<code>
auth
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-alg">
<td>
<code>
BearerSecurityScheme
</code>
</td>
<td>
<code>
alg
</code>
</td>
<td>
<code>
ES256
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-alg-pop">
<td>
<code>
PoPSecurityScheme
</code>
<br />
This
feature
is
at
risk.
</td>
<td>
<code>
alg
</code>
</td>
<td>
<code>
ES256
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-format">
<td>
<code>
BearerSecurityScheme
</code>
</td>
<td>
<code>
format
</code>
</td>
<td>
<code>
jwt
</code>
</td>
<td>
</td>
</tr>
<tr class="rfc2119-default-assertion" id="td-default-format-pop">
<td>
<code>
PoPSecurityScheme
</code>
<br />
This
feature
is
at
risk.
</td>
<td>
<code>
format
</code>
</td>
<td>
<code>
jwt
</code>
</td>
<td>
</td>
</tr>
<del class="diff-old">OAuth2SecurityScheme
This
feature
is
at
risk.
flow
implicit
</del>
</tbody>
</table>
</section>
</section>
<section id="sec-td-serialization" class="normative">
<h2 id="x6-td-representation-format">
<bdi class="secno">
6.
</bdi>
TD
Representation
Format
<a class="self-link" aria-label="§" href= "#sec-td-serialization">
</a>
</h2>
<p>
WoT
Thing
Descriptions
represent
Things
and
are
modeled
and
structured
based
on
<a href="#sec-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.
</bdi>
TD
Information
Model
</a>.
This
section
defines
a
JSON-based
representation
format
for
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>,
a
serialization
of
instances
of
the
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
<code>
Thing
</code>
defined
by
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>.
</p>
<p>
<span class="rfc2119-assertion" id= "td-processor-serialization">
A
<a href="#dfn-td-processor" class= "internalDFN" data-link-type="dfn">
TD
Processor
</a>
<em class= "rfc2119" title="MUST">
MUST
</em>
be
able
to
serialize
<a href= "#dfn-thing-description" class="internalDFN" data-link-type= "dfn">
Thing
Descriptions
</a>
into
the
JSON
format
[
<cite>
<a class= "bibref" href="#bib-rfc8259" title= "The JavaScript Object Notation (JSON) Data Interchange Format" data-link-type="biblio">
RFC8259
</a>
</cite>
]
<del class="diff-old">and
</del>
<ins class="diff-chg">and/or
</ins>
deserialize
<a href="#dfn-thing-description" class="internalDFN" data-link-type="dfn">
Thing
Descriptions
</a>
from
that
format,
according
to
the
rules
noted
in
<a href="#td-basic-types-mapping" class="sec-ref">
§&nbsp;
<bdi class="secno">
6.1
</bdi>
Mapping
to
JSON
Types
</a>
and
<a href="#td-class-serialization" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3
</bdi>
Information
Model
Serialization
</a>.
</span>
</p>
<p>
The
JSON
serialization
of
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
is
aligned
with
the
syntax
of
JSON-LD
1.1
[
<cite>
<a class="bibref" href="#bib-json-ld11" title="JSON-LD 1.1" data-link-type= "biblio">
json-ld11
</a>
</cite>
]
in
order
to
streamline
semantic
evaluation.
Hence,
the
TD
representation
format
can
be
processed
either
as
raw
JSON
or
with
a
JSON-LD
1.1
<del class="diff-old">processor,
as
further
detailed
in
§&nbsp;
D.
Transformation
</del>
<ins class="diff-chg">processor
(for
details
about
semantic
processing,
please
refer
</ins>
to
<del class="diff-old">RDF
.
</del>
<ins class="diff-chg">the
documentation
under
the
namespace
IRIs,
e.g.,
</ins><a href= "https://www.w3.org/2019/wot/td"><ins class="diff-chg">
https://www.w3.org/2019/wot/td
</ins></a><ins class="diff-chg">
).
</ins>
</p>
<p>
In
order
to
support
interoperable
internationalization,
<span class="rfc2119-assertion" id="td-json-open">
TDs
<em class= "rfc2119" title="MUST">
MUST
</em>
be
serialized
according
to
the
requirements
defined
in
Section
8.1
of
RFC8259
[
<cite>
<a class= "bibref" href="#bib-rfc8259" title= "The JavaScript Object Notation (JSON) Data Interchange Format" data-link-type="biblio">
RFC8259
</a>
</cite>
]
for
open
ecosystems.
</span>
In
summary,
this
requires
the
following:
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="td-json-open_utf-8">
TDs
<em class="rfc2119" title="MUST">
MUST
</em>
be
encoded
using
UTF-8
[
<cite>
<a class="bibref" href="#bib-rfc3629" title= "UTF-8, a transformation format of ISO 10646" data-link-type= "biblio">
RFC3629
</a>
</cite>
].
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "td-json-open_no-byte-order">
Implementations
<em class="rfc2119" title="MUST NOT">
MUST
NOT
</em>
add
a
byte
order
mark
(U+FEFF)
to
the
beginning
of
a
TD
document.
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "td-json-open_accept-byte-order">
<a href="#dfn-td-processor" class= "internalDFN" data-link-type="dfn">
TD
Processors
</a>
<em class= "rfc2119" title="MAY">
MAY
</em>
ignore
the
presence
of
a
byte
order
mark
rather
than
treating
it
as
an
error.
</span>
</li>
</ul>
<section id="td-basic-types-mapping">
<h3 id="x6-1-mapping-to-json-types">
<bdi class="secno">
6.1
</bdi>
Mapping
to
JSON
Types
<a class="self-link" aria-label="§" href= "#td-basic-types-mapping">
</a>
</h3>
<p>
The
<a href="#dfn-inf-model" class="internalDFN" data-link-type= "dfn">
TD
Information
Model
</a>
is
constructed,
so
that
there
is
an
easy
mapping
between
model
<a href="#dfn-object" class= "internalDFN" data-link-type="dfn">
Objects
</a>
and
JSON
types.
Every
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
instances
maps
to
a
JSON
object,
where
each
name-value
pair
of
the
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
instance
is
a
member
of
the
JSON
object.
</p>
<p>
Every
<a href="#dfn-simple-type" class="internalDFN" data-link-type="dfn">
Simple
Type
</a>
mentioned
in
<a href= "#class-definitions" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3
</bdi>
Class
Definitions
</a>
(i.e.,
<code>
string
</code>,
<code>
anyURI
</code>,
<code>
dateTime
</code>,
<code>
integer
</code>,
<code>
unsignedInt
</code>,
<code>
double
</code>,
and
<code>
boolean
</code>
)
maps
to
a
primitive
JSON
type
(string,
number,
boolean),
as
per
the
rules
listed
below.
These
rules
apply
to
values
in
name-value
pairs:
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="td-string-type">
Values
that
are
of
type
<code>
string
</code>
or
<code>
anyURI
</code>
<em class= "rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
strings.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-datetime-type">
Values
that
are
of
type
<code>
dateTime
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
strings
following
the
"date-time"
format
specified
by
[
<cite>
<a class="bibref" href= "#bib-rfc3339" title="Date and Time on the Internet: Timestamps" data-link-type="biblio">
RFC3339
</a>
</cite>
].
</span>
Examples
would
include
<code>
2019-05-24T13:12:45Z
</code>
and
<code>
2015-07-11T09:32:26+08:00
</code>.
<span class= "rfc2119-assertion" id="td-datetime-recommended-type">
Values
that
are
of
type
<code>
dateTime
</code>
<em class="rfc2119" title= "SHOULD">
SHOULD
</em>
use
the
literal
<code>
Z
</code>
representing
the
UTC
time
zone
instead
of
an
offset.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-integer-type">
Values
that
are
of
type
<code>
integer
</code>
or
<code>
unsignedInt
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
numbers
without
a
fraction
or
exponent
part.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-number-type">
Values
that
are
of
type
<code>
double
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
number.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-boolean-type">
Values
that
are
of
type
<code>
boolean
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
boolean.
</span>
</li>
</ul>
<p>
Every
complex
type
of
the
<a href="#dfn-inf-model" class= "internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
(i.e.,
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Arrays
</a>,
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Maps
</a>,
and
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
instances)
maps
to
a
structured
JSON
type
(array
and
object),
as
per
the
rules
listed
below:
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="td-array-type">
A
value
of
type
<a href="#dfn-array" class="internalDFN" data-link-type= "dfn">
Array
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
array,
with
each
value
of
the
name-value
pairs
as
element
of
the
JSON
array
ordered
by
the
numeric
name
of
the
pair.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-map-type">
A
value
of
type
<a href="#dfn-map" class="internalDFN" data-link-type= "dfn">
Map
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
object,
with
each
name-value
pair
as
member
of
the
JSON
object.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-class-type">
A
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
instance
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
object,
following
the
detailed
rules
given
individually
in
<a href="#td-class-serialization" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3
</bdi>
Information
Model
Serialization
</a>.
</span>
</li>
</ul>
</section>
<section id="omitting-default-values">
<h3 id="x6-2-omitting-default-values">
<bdi class="secno">
6.2
</bdi>
Omitting
Default
Values
<a class="self-link" aria-label="§" href= "#omitting-default-values">
</a>
</h3>
<p>
A
Thing
Description
serialization
may
omit
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
for
which
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Values
</a>
are
defined,
as
listed
in
the
table
given
in
<a href= "#sec-default-values" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.4
</bdi>
Default
Value
Definitions
</a>.
</p>
<p>
The
following
example
shows
the
TD
instance
from
<a href= "#simple-thing-description-sample">
Example
1
</a>
with
a
checkbox
to
also
include
the
members
with
<a href="#dfn-default-value" class= "internalDFN" data-link-type="dfn">
Default
Values
</a>
(=checkbox
checked).
These
members
can
be
omitted
(=checkbox
unchecked)
to
simplify
the
TD
serialization.
Note
that
a
<a href= "#dfn-td-processor" class="internalDFN" data-link-type="dfn">
TD
Processor
</a>
interprets
these
omitted
members
identically
as
if
they
were
explicitly
present
with
a
given
<a href= "#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Value
</a>.
</p>
<aside class="example with-default" id="example-3">
<div class="marker">
<a class="self-link" href="#example-3">
Example
<bdi>
3
</bdi>
</a>
</div>
<div class="with-default-control">
<input type="checkbox" />
<span>
<i>
with
Default
Values
</i>
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class=
"hljs-attr">"subprotocol"</span>: <span class=
"hljs-string">"longpoll"</span>
            }]
        }
    }
}
</code>
</pre>
<pre aria-busy="false" class="selected"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class=
"hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class=
"hljs-attr">"readOnly"</span> : <span class="hljs-literal">false</span>,
            <span class=
"hljs-attr">"writeOnly"</span> : <span class=
"hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: [
                    <span class=
"hljs-string">"readproperty"</span>,
                    <span class=
"hljs-string">"writeproperty"</span>
                ],
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                <span class=
"hljs-attr">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"safe"</span>: <span class=
"hljs-literal">false</span>,
            <span class=
"hljs-attr">"idempotent"</span>: <span class=
"hljs-literal">false</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class=
"hljs-string">"invokeaction"</span>,
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>,
                <span class=
"hljs-attr">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
                <span class=
"hljs-attr">"readOnly"</span> : <span class=
"hljs-literal">false</span>,
                <span class=
"hljs-attr">"writeOnly"</span> : <span class=
"hljs-literal">false</span>
            },
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class=
"hljs-string">"subscribeevent"</span>,
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class=
"hljs-attr">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
                <span class=
"hljs-attr">"subprotocol"</span>: <span class=
"hljs-string">"longpoll"</span>
            }]
        }
    }
}
</code>
</pre>
</aside>
<p>
Please
note
that,
depending
on
the
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>
used,
additional
protocol-specific
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
may
apply.
They
may
also
have
associated
<a href="#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Values
</a>,
and
hence
can
also
be
omitted
as
explained
in
this
subsection.
Further
information
can
be
found
in
<a href="#protocol-bindings" class="sec-ref">
§&nbsp;
<bdi class= "secno">
8.3
</bdi>
Protocol
Bindings
</a>.
</p>
</section>
<section id="td-class-serialization">
<h3 id="x6-3-information-model-serialization">
<bdi class= "secno">
6.3
</bdi>
Information
Model
Serialization
<a class= "self-link" aria-label="§" href="#td-class-serialization">
</a>
</h3>
<section id="sec-thing-as-a-whole-json">
<h4 id="x6-3-1-thing-root-object">
<bdi class="secno">
6.3.1
</bdi>
Thing
Root
Object
<a class="self-link" aria-label="§" href= "#sec-thing-as-a-whole-json">
</a>
</h4>
<p>
A
Thing
Description
is
a
data
structure
rooted
at
an
<a href= "#dfn-object" class="internalDFN" data-link-type="dfn">
Object
</a>
of
type
<a href="#thing">
<code>
Thing
</code>
</a>.
In
turn,
a
JSON
serialization
of
the
Thing
Description
is
a
JSON
object,
which
is
the
root
of
a
syntax
tree
constructed
from
the
<a href= "#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>.
</p>
<p>
<span class="rfc2119-assertion" id="td-context">
The
root
element
of
a
<a href="#dfn-td-serialization" class="internalDFN" data-link-type="dfn">
TD&nbsp;Serialization
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
&nbsp;be
a
JSON
object
that
includes
a
member
with
the
name
<code>
@context
</code>
and
a
value
of
type
string
or
array
that
equals
or
respectively
contains
<code>
https://www.w3.org/2019/wot/td/v1
</code>.
</span>
</p>
<p>
In
general,
this
URI
is
used
to
identify
the
TD
representation
format
version
defined
by
this
specification.
For
JSON-LD
processing
[
<cite>
<a class="bibref" href="#bib-json-ld11" title= "JSON-LD 1.1" data-link-type="biblio">
json-ld11
</a>
</cite>
],
this
URI
specifies
the
Thing
Description
context
file.
An
<code>
@context
</code>
of
type
array
indicates
<a href= "#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extensions
</a>
(see
<a href="#sec-context-extensions" class="sec-ref">
<ins class="diff-chg">§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
7.
</ins></bdi><ins class="diff-chg">
TD
Context
Extensions
</ins>
</a>
for
details).
</p>
<div class="example" id="example-4">
<div class="marker">
<a class="self-link" href="#example-4">
Example
<bdi>
4
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{  
    <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    ...
}
</code>
</pre>
</div>
<p>
<span class="rfc2119-assertion" id="td-context-toplevel">
All
name-value
pairs
of
an
instance
of
<code>
Thing
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
in
the
<a href= "#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signature
</a>
of
<code>
Thing
</code>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
members
of
the
root
object.
</span>
</p>
<p>
A
TD
snippet
for
a
serialized
root
object
including
all
mandatory
and
optional
members
is
given
below:
</p>
<div class="example" id="thing-serialization-sample">
<div class="marker">
<a class="self-link" href= "#thing-serialization-sample">
Example
<bdi>
5
</bdi>
</a>
<span class= "example-title">:
Sample
of
Thing
serializations
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-string">"@type"</span>: <span class=
"hljs-string">"Thing"</span>,
    <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-Thing-1234"</span>,
    <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"titles"</span>: {...},
    <span class="hljs-string">"description"</span>: <span class=
"hljs-string">"Human readable information."</span>,
    <span class="hljs-string">"descriptions"</span>: {...},
    <span class="hljs-string">"support"</span>: <span class=
"hljs-string">"mailto:support@example.com"</span>,
    <span class="hljs-string">"version"</span> : {...},
    <span class="hljs-string">"created"</span> : <span class=
"hljs-string">"2018-11-14T19:10:23.824Z"</span>,
    <span class="hljs-string">"modified"</span> : <span class=
"hljs-string">"2019-06-01T09:12:43.124Z"</span>,
    <span class="hljs-string">"securityDefinitions"</span>: {...},
    <span class="hljs-string">"security"</span>: ...,
    <span class="hljs-string">"base"</span>: <span class=
"hljs-string">"https://servient.example.com/"</span>,
    <span class="hljs-string">"properties"</span>: {...},
    <span class="hljs-string">"actions"</span>: {...},
    <span class="hljs-string">"events"</span>: {...},
    <span class="hljs-string">"links"</span>: [...],
    <span class="hljs-string">"forms"</span>: [...]
}
</code>
</pre>
</div>
<p>
<span class="rfc2119-assertion" id="td-objects">
All
values
assigned
to
<code>
version
</code>,
<code>
securityDefinitions
</code>,
<code>
properties
</code>,
<code>
actions
</code>,
and
<code>
events
</code>
in
an
instance
of
the
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
<code>
Thing
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
objects.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-arrays">
All
values
assigned
to
<code>
links
</code>,
and
<code>
forms
</code>
in
an
instance
of
the
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
<code>
Thing
</code>
<em class= "rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
arrays
containing
JSON
objects
as
defined
in
<a href= "#link-serialization-json" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.3.8
</bdi>
<code>
links
</code>
</a>
and
<a href= "#form-serialization-json" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.3.9
</bdi>
<code>
forms
</code>
</a>,&nbsp;respectively.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-security-activation">
The
value
assigned
to
<code>
security
</code>
in
an
instance
of
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
<code>
Thing
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
&nbsp;be
serialized
as
JSON&nbsp;string
or
as
JSON
array
whose
elements
are
JSON
strings.
</span>
</p>
</section>
<section id="titles-descriptions-serialization-json">
<h4 id="x6-3-2-human-readable-metadata">
<bdi class= "secno">
6.3.2
</bdi>
Human-Readable
Metadata
<a class="self-link" aria-label="§" href= "#titles-descriptions-serialization-json">
</a>
</h4>
<p>
JSON
members
named
<code>
title
</code>
and
<code>
description
</code>
are
used
within
a
TD
document
to
provide
human-readable
metadata.
They
can
be
used
as
comments
for
developers
inspecting
a
TD
document
or
as
display
texts
for
user
interface.
</p>
<p>
As
defined
in
<a href="#thing" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.1.1
</bdi>
<code>
Thing
</code>
</a>,
the
base
text
direction
used
to
display
human-readable
metadata
can
either
be
estimated
using
heuristics
such
as
the
first-strong
rule
or
inferred
from
language
information.
In
TD
documents
the
default
language
is
defined
by
a
value
assigned
to
<code>
@language
</code>
in
the
<code>
@context
</code>,
and
this,
along
with
a
script
subtag
if
necessary,
can
be
used
to
determine
a
base
text
direction.
<span class="rfc2119-assertion" id= "td-context-default-language-direction-independence">
However,
when
interpreting
human-readable
text,
each
human-readable
string
value
<em class="rfc2119" title="MUST">
MUST
</em>
be
processed
independently.
</span>
In
other
words,
a
<a href="#dfn-td-processor" class="internalDFN" data-link-type="dfn">
TD
Processor
</a>
cannot
carry
forward
changes
in
direction
from
one
string
to
another,
or
infer
direction
for
one
string
from
another
one
elsewhere
in
the
TD.
</p>
<div class="note" role="note" id="issue-container-generatedID-0">
<div role="heading" class="note-title marker" id="h-note-0" aria-level="5">
<span>
Note
</span>
</div>
<p class="">
Strings
on
the
Web
[
<cite>
<del class="diff-old">string-meta
</del>
<a class="bibref" href= "#bib-string-meta" title= "Strings on the Web: Language and Direction Metadata" data-link-type="biblio">
<ins class="diff-chg">STRING-META
</ins>
</a>
</cite>
]
suggests
both
strong-first
and
language-based
inferencing
as
means
to
determine
the
base
text
direction.
Given
that
the
Thing
Description
format
is
based
on
JSON-LD
1.1
[
<cite>
<a class="bibref" href="#bib-json-ld11" title="JSON-LD 1.1" data-link-type="biblio">
json-ld11
</a>
</cite>
],
which
currently
lacks
explicit
direction
metadata,
these
approaches
are
currently
considered
appropriate
at
the
time
of
this
publication.
However,
if
JSON-LD
1.1
adopts
support
for
explicit
base
direction
metadata
as
recommended
by
[
<cite>
<del class="diff-old">string-meta
</del>
<a class="bibref" href="#bib-string-meta" title= "Strings on the Web: Language and Direction Metadata" data-link-type="biblio">
<ins class="diff-chg">STRING-META
</ins>
</a>
</cite>
],
the
Thing
Description
format
should
be
updated
to
take
advantage
of
that
feature.
</p>
</div>
<p>
A
TD
snippet
using
<code>
title
</code>
and
<code>
description
</code>
is
shown
below.
The
default
language
is
set
to
<code>
en
</code>
through
the
definition
of
the
<code>
@language
</code>
member
within
a
JSON
object
in
the
<code>
@context
</code>
array.
</p>
<div class="example" id="example-6">
<div class="marker">
<a class="self-link" href="#example-6">
Example
<bdi>
6
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        { <span class=
"hljs-string">"@language"</span> : <span class=
"hljs-string">"en"</span> }
    ],
    <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"description"</span>: <span class=
"hljs-string">"Human readable information."</span>,
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"on"</span>: {
            <span class="hljs-string">"title"</span> : <span class=
"hljs-string">"On/Off"</span>,
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"boolean"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        },
        <span class="hljs-string">"status"</span>: {
            <span class="hljs-string">"title"</span> : <span class=
"hljs-string">"Status"</span>,
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
            ...
            <span class="hljs-string">"forms"</span>: [...]
        }
    },
    ...
}
</code>
</pre>
</div>
<p>
The
JSON
members
named
<code>
titles
</code>
and
<code>
descriptions
</code>
are
used
within
the
TD
document
to
provide
human-readable
metadata
in
multiple
languages
within
a
single
TD
document.
<span class="rfc2119-assertion" id= "td-multi-languages">
All
name-value
pairs
of
a
<code>
MultiLanguage
</code>
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
<em class="rfc2119" title= "MUST">
MUST
</em>
&nbsp;be
serialized
as
members
of
a
JSON
object,
where
the
name
is
a
well-formed
language
tag
as
defined
by
[
<cite>
<a class="bibref" href="#bib-bcp47" title= "Tags for Identifying Languages" data-link-type= "biblio">
BCP47
</a>
</cite>
]
and
the
value
is
a
human-readable
string
in
the
language
indicated
by
the
tag.
</span>
See
<a href= "#multilanguage" class="sec-ref">
§&nbsp;
<bdi class= "secno">
5.3.1.7
</bdi>
<code>
MultiLanguage
</code>
</a>
for
details.
<span class="rfc2119-assertion" id= "td-multi-languages-consistent">
All
<code>
MultiLanguage
</code>
object
within
a
TD
document
<em class="rfc2119" title= "SHOULD">
SHOULD
</em>
contain
the
same
set
of
language
members.
</span>
</p>
<p>
A
TD
snippet
using
<code>
titles
</code>
and
<code>
descriptions
</code>
at
different
levels
is
given
below:
</p>
<div class="example" id="example-7">
<div class="marker">
<a class="self-link" href="#example-7">
Example
<bdi>
7
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"titles"</span>: {
        <span class="hljs-string">"en"</span>:<span class=
"hljs-string">"MyThing"</span>,
        <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"MeinDing"</span>,
        <span class="hljs-string">"ja"</span> : <span class=
"hljs-string">"私の物"</span>,
        <span class="hljs-string">"zh-Hans"</span> : <span class=
"hljs-string">"我的东西"</span>, 
        <span class="hljs-string">"zh-Hant"</span> : <span class=
"hljs-string">"我的東西"</span>
    },
    <span class="hljs-string">"descriptions"</span>: {
        <span class="hljs-string">"en"</span>:<span class=
"hljs-string">"Human readable information."</span>,
        <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"Menschenlesbare Informationen."</span>,
        <span class="hljs-string">"ja"</span> : <span class=
"hljs-string">"人間が読むことができる情報"</span>,
        <span class="hljs-string">"zh-Hans"</span> : <span class=
"hljs-string">"人们可阅读的信息"</span>, 
        <span class="hljs-string">"zh-Hant"</span> : <span class=
"hljs-string">"人們可閱讀的資訊"</span>
    },
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"on"</span>: {
            <span class="hljs-string">"titles"</span>: {
                <span class="hljs-string">"en"</span>: <span class=
"hljs-string">"On/Off"</span>,
                <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"An/Aus"</span>,
                <span class="hljs-string">"ja"</span>: <span class=
"hljs-string">"オンオフ"</span>,
                <span class=
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"开关"</span>,
                <span class=
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"開關"</span> },
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"boolean"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        },
        <span class="hljs-string">"status"</span>: {
            <span class="hljs-string">"titles"</span>: {
                <span class="hljs-string">"en"</span>: <span class=
"hljs-string">"Status"</span>,
                <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"Zustand"</span>,
                <span class="hljs-string">"ja"</span>: <span class=
"hljs-string">"状態"</span>,
                <span class=
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"状态"</span>,
                <span class=
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"狀態"</span> },
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
            ...
            <span class="hljs-string">"forms"</span>: [...]
        }
    },
    ...
}
</code>
</pre>
</div>
<p>
TD
instances
may
also
combine
the
use
of
<code>
title
</code>
and
<code>
description
</code>
with
<code>
titles
</code>
and
<code>
descriptions
</code>.
<span class="rfc2119-assertion" id= "td-title-description">
When
<code>
title
</code>
and
<code>
titles
</code>
or
<code>
description
</code>
and
<code>
descriptions
</code>
are
present
within
the
same
JSON
object,
the
values
of
<code>
title
</code>
and
<code>
description
</code>
<em class="rfc2119" title="MAY">
MAY
</em>
be
seen
as
the
default
text.
</span>
<span class="rfc2119-assertion" id= "td-titles-descriptions">
When
<code>
title
</code>
and
<code>
titles
</code>
or
<code>
description
</code>
and
<code>
descriptions
</code>
are
present
in
a
TD
document,
each
<code>
title
</code>
and
<code>
description
</code>
member
<em class= "rfc2119" title="SHOULD">
SHOULD
</em>
have
a
corresponding
<code>
titles
</code>
and
<code>
descriptions
</code>
member,
respectively.
</span>
The
<del class="diff-old">the
</del>
language
of
the
default
text
is
indicated
by
the
default
language,
which
is
usually
set
by
the
creator
of
the
Thing
Description
instance.
</p>
<div class="example" id="example-8">
<div class="marker">
<a class="self-link" href="#example-8">
Example
<bdi>
8
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        { <span class=
"hljs-string">"@language"</span> : <span class=
"hljs-string">"de"</span> }
    ],
    <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"titles"</span>: {
        <span class="hljs-string">"en"</span>:<span class=
"hljs-string">"MyThing"</span>,
        <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"MeinDing"</span>,
        <span class="hljs-string">"ja"</span> : <span class=
"hljs-string">"私の物"</span>,
        <span class="hljs-string">"zh-Hans"</span> : <span class=
"hljs-string">"我的东西"</span>, 
        <span class="hljs-string">"zh-Hant"</span> : <span class=
"hljs-string">"我的東西"</span>
    },
    <span class="hljs-string">"description"</span>: <span class=
"hljs-string">"Menschenlesbare Informationen."</span>,
    <span class="hljs-string">"descriptions"</span>: {
        <span class="hljs-string">"en"</span>:<span class=
"hljs-string">"Human readable information."</span>,
        <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"Menschenlesbare Informationen."</span>,
        <span class="hljs-string">"ja"</span> : <span class=
"hljs-string">"人間が読むことができる情報"</span>,
        <span class="hljs-string">"zh-Hans"</span> : <span class=
"hljs-string">"人们可阅读的信息"</span>, 
        <span class="hljs-string">"zh-Hant"</span> : <span class=
"hljs-string">"人們可閱讀的資訊"</span>
    },
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"on"</span>: {
            <span class="hljs-string">"title"</span> : <span class=
"hljs-string">"An/Aus"</span>,
            <span class="hljs-string">"titles"</span>: {
                <span class="hljs-string">"en"</span>: <span class=
"hljs-string">"On/Off"</span>,
                <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"An/Aus"</span>,
                <span class="hljs-string">"ja"</span>: <span class=
"hljs-string">"オンオフ"</span>,
                <span class=
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"开关"</span>,
                <span class=
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"開關"</span> },
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"boolean"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        },
        <span class="hljs-string">"status"</span>: {
            <span class="hljs-string">"title"</span> : <span class=
"hljs-string">"Zustand"</span>,
            <span class="hljs-string">"titles"</span>: {
                <span class="hljs-string">"en"</span>: <span class=
"hljs-string">"Status"</span>,
                <span class="hljs-string">"de"</span>: <span class=
"hljs-string">"Zustand"</span>,
                <span class="hljs-string">"ja"</span>: <span class=
"hljs-string">"状態"</span>,
                <span class=
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"状态"</span>,
                <span class=
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"狀態"</span> },
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
            ...
            <span class="hljs-string">"forms"</span>: [...]
        }
    },
    ...
}
</code>
</pre>
</div>
<p>
Another
possibility
to
set
the
default
language
is
through
a
language
negotiation
mechanism,
such
as
the
<code>
Accept-Language
</code>
header
field
of
HTTP.
<span class= "rfc2119-assertion" id="td-ns-multilanguage-content-negotiation">
In
cases
where
the
default
language
has
been
negotiated,
an
<code>
@language
</code>
member
<em class="rfc2119" title= "MUST">
MUST
</em>
be
present
to
indicate
the
result
of
the
negotiation
and
the
corresponding
default
language
of
the
returned
content.
</span>
<span class="rfc2119-assertion" id= "td-ns-multilanguage-content-negotiation-no-multi">
When
the
default
language
has
been
negotiated
successfully,
TD
documents
<em class= "rfc2119" title="SHOULD">
SHOULD
</em>
include
the
appropriate
matching
values
for
the
members
<code>
title
</code>
and
<code>
description
</code>
in
preference
to
<code>
MultiLanguage
</code>
objects
in
<code>
titles
</code>
and
<code>
descriptions
</code>
members.
</span>
<span class= "rfc2119-assertion" id= "td-ns-multilanguage-content-negotiation-optional">
Note
however
that
Things
<em class="rfc2119" title="MAY">
MAY
</em>
choose
to
not
support
such
dynamically-generated
TDs
nor
to
support
language
negotiation
(e.g.,
because
of
resource
constraints).
</span>
</p>
</section>
<section id="version-serialization-json">
<h4 id="x6-3-3-version">
<bdi class="secno">
6.3.3
</bdi>
<code>
version
</code>
<a class="self-link" aria-label="§" href= "#version-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-version">
All
name-value
pairs
of
an
instance
of
<code>
VersionInfo
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
included
in
the
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
of
<code>
VersionInfo
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
members
with
the
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
A
TD
snippet
of
a
version
information
object
is
given
below:
</p>
<div class="example" id="example-9">
<div class="marker">
<a class="self-link" href="#example-9">
Example
<bdi>
9
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    ...
    <span class="hljs-string">"version"</span>: { <span class=
"hljs-string">"instance"</span>: <span class=
"hljs-string">"1.2.1"</span> },
    ...
}
</code>
</pre>
</div>
<p>
The
<code>
version
</code>
member
is
intended
as
container
for
additional
application-
and/or
device-specific
version
information
based
on
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extensions
</a>.
See
<a href= "#semantic-annotations" class="sec-ref">
§&nbsp;
<bdi class= "secno">
7.1
</bdi>
Semantic
Annotations
</a>
for
details.
</p>
</section>
<section id="security-serialization-json">
<h4 id="x6-3-4-securitydefinitions-and-security">
<bdi class= "secno">
6.3.4
</bdi>
<code>
securityDefinitions
</code>
and
<code>
security
</code>
<a class="self-link" aria-label="§" href= "#security-serialization-json">
</a>
</h4>
<p>
In
a
<code>
Thing
</code>
instance,
the
value
assigned
to
<code>
securityDefinitions
</code>
is
a
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
of
instances
of
<code>
SecurityScheme
</code>.
<span class="rfc2119-assertion" id= "td-security">
All
name-value
pairs
of
a
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
of
<code>
SecurityScheme
</code>
instances
<em class="rfc2119" title= "MUST">
MUST
</em>
&nbsp;be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
;
the
name
of
a
pair
<em class="rfc2119" title="MUST">
MUST
</em>
&nbsp;be
serialized
as
a
JSON
string
and
the
value
of
the
pair,
an
instance
of
<code>
SecurityScheme
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-security-schemes">
All
name-value
pairs
of
an
instance
of
one
of
the
<a href= "#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclasses
</a>
of
<code>
SecurityScheme
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
included
in
the
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
of
that
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
or
in
the
<a href="#dfn-signature" class= "internalDFN" data-link-type="dfn">
Signature
</a>
of
<code>
SecurityScheme
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
SecurityScheme
</code>
<a href= "#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
's
instance,
with
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
The
following
TD
snippet
shows
a
simple
security
configuration
specifying
basic
username/password
authentication
in
the
header.
The
value
given
for
<code>
in
</code>
is
actually
the
<a href= "#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Value
</a>
(
<code>
header
</code>
)
and
could
be
omitted.
A
named
security
configuration
must
be
given
in
the
<code>
securityDefinitions
</code>
map.
That
definition
must
be
activated
by
including
its
JSON
name
in
the
<code>
security
</code>
member,
which
can
be
of
type
string
when
only
one
definition
is
activated.
</p>
<div class="example" id="security-basic-example">
<div class="marker">
<a class="self-link" href= "#security-basic-example">
Example
<bdi>
10
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"securityDefinitions"</span>: {
    <span class="hljs-string">"basic_sc"</span>: {
        <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>,
        <span class="hljs-string">"in"</span>: <span class=
"hljs-string">"header"</span>
    }
},
<span class="hljs-string">"security"</span>: <span class=
"hljs-string">"basic_sc"</span>,
...
</code>
</pre>
</div>
<p>
Here
is
a
more
complex
example:
a
TD
snippet
showing
digest
authentication
on
a
proxy
combined
with
bearer
token
authentication
on
the
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>.
In
the
<code>
digest
</code>
scheme,
the
<a href= "#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Value
</a>
of
<code>
in
</code>
(i.e.,
<code>
header
</code>
)
is
omitted,
but
still
applies.
Note
that
the
corresponding
private
security
configuration
such
as
username/password
and
tokens
must
be
configured
in
the
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
to
interact
successfully.
When
activating
multiple
security
definitions,
the
<code>
security
</code>
member
becomes
an
array.
</p>
<div class="example" id="security-digest-example">
<div class="marker">
<a class="self-link" href= "#security-digest-example">
Example
<bdi>
11
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"securityDefinitions"</span>: {
    <span class="hljs-string">"proxy_sc"</span>: {
        <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"digest"</span>,
        <span class="hljs-string">"proxy"</span>: <span class=
"hljs-string">"https://portal.example.com/"</span>
    },
    <span class="hljs-string">"bearer_sc"</span>: {
        <span class="hljs-string">"in"</span>:<span class=
"hljs-string">"header"</span>,
        <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"bearer"</span>,
        <span class="hljs-string">"format"</span>: <span class=
"hljs-string">"jwt"</span>,
        <span class="hljs-string">"alg"</span>: <span class=
"hljs-string">"ES256"</span>,
        <span class=
"hljs-string">"authorization"</span>: <span class=
"hljs-string">"https://servient.example.com:8443/"</span>
    }
},
<span class="hljs-string">"security"</span>: [<span class=
"hljs-string">"proxy_sc"</span>, <span class=
"hljs-string">"bearer_sc"</span>],
...
</code>
</pre>
</div>
<p>
Security
configuration
in
the
TD
is
mandatory.
<span class= "rfc2119-assertion" id="td-security-mandatory">
At
least
one
security
definition
<em class="rfc2119" title="MUST">
MUST
</em>
be
activated
through
the
<code>
security
</code>
array
at
the
Thing
level
(i.e.,
in
the
TD
root
object).
</span>
This
configuration
can
be
seen
as
the
default
security
mechanism
required
to
interact
with
the
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>.
<span class="rfc2119-assertion" id= "td-security-overrides">
Security
definitions
<em class="rfc2119" title="MAY">
MAY
</em>
also
be
activated
at
the
form
level
by
including
a
<code>
security
</code>
member
in
form
objects,
which
overrides
(i.e.,
completely
replace)
all
definitions
activated
at
the
Thing
level.
</span>
</p>
<p>
The
<code>
nosec
</code>
security
scheme
is
provided
for
the
case
that
no
security
is
needed.
The
minimal
security
configuration
for
a
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
is
activation
of
the
<code>
nosec
</code>
security
scheme
at
the
Thing
level,
as
shown
in
the
following
example:
</p>
<div class="example" id="example-12">
<div class="marker">
<a class="self-link" href="#example-12">
Example
<bdi>
12
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-Thing-1234"</span>,
    <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"description"</span>: <span class=
"hljs-string">"Human readable information."</span>,
    <span class="hljs-string">"support"</span>: <span class=
"hljs-string">"https://servient.example.com/contact"</span>,
    <span class=
"hljs-string">"securityDefinitions"</span>: { <span class=
"hljs-string">"nosec_sc"</span>: { <span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"nosec"</span> }},
    <span class="hljs-string">"security"</span>: <span class=
"hljs-string">"nosec_sc"</span>,
    <span class="hljs-string">"properties"</span>: {...},
    <span class="hljs-string">"actions"</span>: {...},
    <span class="hljs-string">"events"</span>: {...},
    <span class="hljs-string">"links"</span>: [...]
}
</code>
</pre>
</div>
<p>
To
give
a
more
complex
example,
suppose
we
have
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
where
all
<a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn">
Interaction
Affordances
</a>
require
basic
authentication
except
for
one,
for
which
no
authentication
is
required.
For
the
<code>
status
</code>
Property
and
the
<code>
toggle
</code>
Action,
<code>
basic
</code>
authentication
is
required
and
defined
at
the
Thing
level.
For
the
<code>
overheating
</code>
Event,
however,
no
authentication
is
required,
and
hence
the
security
configuration
is
overridden
at
the
form
level.
</p>
<div class="example" id="example-13">
<div class="marker">
<a class="self-link" href="#example-13">
Example
<bdi>
13
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    ...
    <span class="hljs-string">"securityDefinitions"</span>: {
        <span class="hljs-string">"basic_sc"</span>: {<span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>},
        <span class="hljs-string">"nosec_sc"</span>: {<span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"nosec"</span>}
    },
    <span class="hljs-string">"security"</span>: [<span class=
"hljs-string">"basic_sc"</span>],
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"status"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-string">"actions"</span>: {
        <span class="hljs-string">"toggle"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-string">"events"</span>: {
        <span class="hljs-string">"overheating"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class=
"hljs-string">"security"</span>: [<span class=
"hljs-string">"nosec_sc"</span>]
            }]
        }
    }
}
</code>
</pre>
</div>
<p>
Security
configurations
can
also
can
be
specified
for
different
forms
within
the
same
<a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn">
Interaction
Affordance
</a>.
This
may
be
required
for
devices
that
support
multiple
protocols,
for
example
HTTP
and
CoAP
[
<cite>
<a class="bibref" href="#bib-rfc7252" title="The Constrained Application Protocol (CoAP)" data-link-type= "biblio">
RFC7252
</a>
</cite>
],
which
support
different
security
mechanisms.
This
is
also
useful
when
alternative
authentication
mechanisms
are
allowed.
Here
is
a
TD
snippet
demonstrating
three
possible
ways
to
activate
a
Property
affordance:
via
HTTPS
with
basic
authentication,
<del class="diff-old">via
HTTPS
via
</del>
<ins class="diff-chg">with
</ins>
digest
authentication,
<del class="diff-old">or
via
CoAPS
</del>
with
<del class="diff-old">a
pre-shared
key
(PSK).
</del>
<ins class="diff-chg">bearer
token
authentication.
</ins>
In
other
words,
the
use
of
different
security
configurations
within
multiple
forms
provides
a
way
to
combine
security
mechanisms
in
an
"OR"
fashion.
In
contrast,
putting
multiple
security
configurations
in
the
same
<code>
security
</code>
member
combines
them
in
an
"AND"
fashion,
since
in
that
case
they
would
all
need
to
be
satisfied
to
allow
activation
of
the
<a href= "#dfn-interaction-affordance" class="internalDFN" data-link-type= "dfn">
Interaction
Affordance
</a>.
Note
that
activating
one
(default)
configuration
at
the
Thing
level
is
still
mandatory.
</p>
<div class="example" id="example-14">
<div class="marker">
<a class="self-link" href="#example-14">
Example
<bdi>
14
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    ...
    <span class="hljs-string">"securityDefinitions"</span>: {
        <span class="hljs-string">"basic_sc"</span>: { <span class=
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span> },
        <span class=
<del class="diff-old">"hljs-string"&gt;"digest_sc" },
        : { &lt;span class=
"hljs-string"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"psk" }
</del>
<ins class="diff-chg">"hljs-string">"digest_sc"</span>: { <span class="hljs-string">"scheme"</span>: <span class="hljs-string">"digest"</span> },
</ins>        <span class=<ins class="diff-chg">
"hljs-string">"bearer_sc"</span>: { <span class="hljs-string">"scheme"</span>: <span class="hljs-string">"bearer"</span> }
</ins>
    },
    <span class="hljs-string">"security"</span>: [<span class=
"hljs-string">"basic_sc"</span>],
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"status"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>
            }, {
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                <span class=
"hljs-string">"security"</span>: [<span class=
"hljs-string">"digest_sc"</span>]
            }, {
                <span class=
"hljs-string">"href"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"coaps://mylamp.example.com:5684/status",
</del>
<ins class="diff-chg">"hljs-string">"https://mylamp.example.com/status"</span>,
</ins>
                <span class=
"hljs-string">"security"</span>: [<span class=
<del class="diff-old">"hljs-string"&gt;"psk_sc"]
</del>
<ins class="diff-chg">"hljs-string">"bearer_sc"</span>]
</ins>
            }]
        }
    },
    ...
}
</code>
</pre>
</div>
<p>
As
another
more
complex
example,
OAuth2
makes
use
of
scopes.
These
are
identifiers
that
may
appear
in
tokens
and
must
match
with
corresponding
identifiers
in
a
resource
to
allow
access
to
that
resource
(or
<a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn">
Interaction
Affordance
</a>
in
the
case
of
<abbr title="World Wide Web Consortium">
W3C
</abbr>
WoT).
For
example,
in
the
following,
the
<code>
status
</code>
Property
can
be
read
by
<a href="#dfn-consumer" class="internalDFN" data-link-type="dfn">
Consumers
</a>
using
bearer
tokens
containing
the
scope
<code>
limited
</code>,
but
the
<code>
configure
</code>
Action
can
only
be
invoked
with
a
token
containing
the
<code>
special
</code>
scope.
Scopes
are
not
identical
to
roles,
but
are
often
associated
with
them;
for
example,
perhaps
only
those
in
an
administrative
role
are
authorized
to
perform
"special"
interactions.
Tokens
can
have
more
than
one
scope.
In
this
example,
an
administrator
would
probably
be
issued
tokens
with
both
the
<code>
limited
</code>
and
<code>
special
</code>
scopes,
while
ordinary
users
would
only
be
issued
tokens
with
the
<code>
limited
</code>
scope.
</p>
<div class="example" id="example-15">
<div class="marker">
<a class="self-link" href="#example-15">
Example
<bdi>
15
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    ...
    <span class="hljs-string">"securityDefinitions"</span>: {
        <span class="hljs-string">"oauth2_sc"</span>: {
            <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"oauth2"</span>,
            ...
            <span class="hljs-string">"flow"</span>: <span class=
"hljs-string">"implicit"</span>,
            <span class=
"hljs-string">"authorization"</span>: <span class=
"hljs-string">"https://example.com/authorization"</span>,
            <span class=
"hljs-string">"scopes"</span>: [<span class="hljs-string">"limited"</span>, <span class="hljs-string">"special"</span>]
        }
    },
    <span class="hljs-string">"security"</span>: [<span class=
"hljs-string">"oauth2_sc"</span>],
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"status"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://scopes.example.com/status"</span>,
                <span class=
"hljs-string">"scopes"</span>: [<span class=
"hljs-string">"limited"</span>]
            }]
        }
    },
<del class="diff-old">    : {
</del>
    <span class="hljs-string">"actions"</span>: {
        <span class="hljs-string">"configure"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://scopes.example.com/configure"</span>,
                <span class=
"hljs-string">"scopes"</span>: [<span class=
"hljs-string">"special"</span>]
            }]
        }
    },
    ...
}
</code>
</pre>
</div>
</section>
<section id="property-serialization-json">
<h4 id="x6-3-5-properties">
<bdi class="secno">
6.3.5
</bdi>
<code>
properties
</code>
<a class="self-link" aria-label="§" href= "#property-serialization-json">
</a>
</h4>
<p>
The
value
assigned
to
<code>
properties
</code>
in
a
<code>
Thing
</code>
instance
is
a
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
of
instances
of
<code>
PropertyAffordance
</code>.
<span class="rfc2119-assertion" id="td-properties">
All
name-value
pairs
of
a
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
of
<code>
PropertyAffordance
</code>
instances
<em class="rfc2119" title="MUST">
MUST
</em>
&nbsp;be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
;
the
name
of
a
pair
<em class="rfc2119" title="MUST">
MUST
</em>
&nbsp;be
serialized
as
a
JSON
string
and
the
value
of
the
pair,
an
instance
of
<code>
PropertyAffordance
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-property-names">
All
name-value
pairs
of
an
instance
of
<code>
PropertyAffordance
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
included
in
(one
of)
the
<a href="#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signatures
</a>
of
<code>
PropertyAffordance
</code>,
<code>
InteractionAffordance
</code>,
or
<code>
DataSchema
</code>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
PropertyAffordance
</code>
instance,
with
the
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
as
name.
</span>
See
<a href= "#data-schema-serialization-json" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3.10
</bdi>
Data
Schemas
</a>
for
details
on
serializing
<a href="#dataschema" class= "sec-ref">
<code>
DataSchema
</code>
</a>
instances.
</p>
<p>
<span class="rfc2119-assertion" id="td-property-arrays">
The
value
assigned
to
<code>
forms
</code>
in
an
instance
of
<code>
PropertyAffordance
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
array
containing
one
or
more
JSON
object
serializations
as
defined
in
<a href= "#form-serialization-json" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.3.9
</bdi>
<code>
forms
</code>
</a>.
</span>
</p>
<p>
A
snippet
for
two
<a href="#dfn-property" class="internalDFN" data-link-type="dfn">
Property
</a>
affordances
is
given
below:
</p>
<aside class="example" id="property-serialization-sample">
<div class="marker">
<a class="self-link" href= "#property-serialization-sample">
Example
<bdi>
16
</bdi>
</a>
<span class="example-title">:
Sample
of
Property
serializations
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"on"</span>: {
        <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"boolean"</span>,
        <span class="hljs-string">"forms"</span>: [...]
    },
    <span class="hljs-string">"status"</span>: {
        <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
        <span class="hljs-string">"properties"</span>: {
            <span class="hljs-string">"brightness"</span>: {
                <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>,
                <span class=
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0.0</span>,
                <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100.0</span>
                },
                <span class="hljs-string">"rgb"</span>: {
                <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"array"</span>,
                <span class="hljs-string">"items"</span> : {
                    <span class=
"hljs-string">"type"</span> : <span class=
"hljs-string">"number"</span>,
                    <span class=
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
                    <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">255</span>
                },
                <span class=
"hljs-string">"minItems"</span>: <span class=
"hljs-number">3</span>,
                <span class=
"hljs-string">"maxItems"</span>: <span class="hljs-number">3</span>
            }
        },
        <span class="hljs-string">"required"</span>: [<span class=
"hljs-string">"brightness"</span>, <span class=
"hljs-string">"rgb"</span>],
        <span class="hljs-string">"forms"</span>: [...]
    }
},
...
</code>
</pre>
</aside>
</section>
<section id="action-serialization-json">
<h4 id="x6-3-6-actions">
<bdi class="secno">
6.3.6
</bdi>
<code>
actions
</code>
<a class="self-link" aria-label="§" href= "#action-serialization-json">
</a>
</h4>
<p>
In
a
<code>
Thing
</code>
instance,
the
value
assigned
to
<code>
actions
</code>
is
a
<a href="#dfn-map" class="internalDFN" data-link-type="dfn">
Map
</a>
of
instances
of
<code>
ActionAffordance
</code>.
<span class="rfc2119-assertion" id= "td-actions">
All
name-value
pairs
of
a
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
of
<code>
ActionAffordance
</code>
instances
<em class="rfc2119" title= "MUST">
MUST
</em>
&nbsp;be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
;
the
name
of
a
pair
<em class="rfc2119" title="MUST">
MUST
</em>
&nbsp;be
serialized
as
a
JSON
string
and
the
value
of
the
pair,
an
instance
of
<code>
ActionAffordance
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-action-names">
All
name-value
pairs
of
an
instance
of
<code>
ActionAffordance
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
included
in
(one
of)
the
<a href="#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signatures
</a>
of
<code>
ActionAffordance
</code>
or
<code>
InteractionAffordance
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
ActionAffordance
</code>
instance,
with
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-action-objects">
The
values
assigned
to
<code>
input
</code>
and
<code>
output
</code>
in
an
instance
of
<code>
ActionAffordance
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
objects.
</span>
They
rely
on
the
<del class="diff-old">the
</del>
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
<a href="#dataschema" class= "sec-ref">
<code>
DataSchema
</code>
</a>,
whose
serialization
is
defined
in
<a href="#data-schema-serialization-json" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3.10
</bdi>
Data
Schemas
</a>.
</p>
<p>
<span class="rfc2119-assertion" id="td-action-arrays">
The
value
assigned
to
<code>
forms
</code>
in
an
instance
of
<code>
ActionAffordance
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
array
containing
one
or
more
JSON
object
serializations
as
defined
in
<a href= "#form-serialization-json" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.3.9
</bdi>
<code>
forms
</code>
</a>.
</span>
</p>
<p>
A
TD
snippet
of
an
Action
affordance
is
given
below:
</p>
<aside class="example" id="action-serialization-sample">
<div class="marker">
<a class="self-link" href= "#action-serialization-sample">
Example
<bdi>
17
</bdi>
</a>
<span class="example-title">:
Sample
of
an
Action
serialization
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"actions"</span>: {
    <span class="hljs-string">"fade"</span> : {
        <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"Fade in/out"</span>,
        <span class=
"hljs-string">"description"</span>: <span class="hljs-string">"Smooth fade in and out animation."</span>,
        <span class="hljs-string">"input"</span>: {
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
            <span class="hljs-string">"properties"</span>: {
                <span class="hljs-string">"from"</span>: {
                    <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>,
                    <span class=
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
                    <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100</span>
                },
                <span class="hljs-string">"to"</span>: {
                    <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>,
                    <span class=
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
                    <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">100</span>
                },
                <span class=
"hljs-string">"duration"</span>: {<span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>}
            },
            <span class=
"hljs-string">"required"</span>: [<span class=
"hljs-string">"to"</span>,<span class=
"hljs-string">"duration"</span>],
        },
        <span class="hljs-string">"output"</span>: {<span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>},
        <span class="hljs-string">"forms"</span>: [...]
    }
},
...
</code>
</pre>
</aside>
</section>
<section id="event-serialization-json">
<h4 id="x6-3-7-events">
<bdi class="secno">
6.3.7
</bdi>
<code>
events
</code>
<a class="self-link" aria-label="§" href= "#event-serialization-json">
</a>
</h4>
<p>
In
a
<code>
Thing
</code>
instance,
the
value
assigned
to
<code>
events
</code>
is
a
map
of
instances
of
<code>
EventAffordance
</code>.
<span class="rfc2119-assertion" id= "td-events">
All
name-value
pairs
of
a
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
of
<code>
EventAffordance
</code>
instances
<em class="rfc2119" title= "MUST">
MUST
</em>
&nbsp;be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
;
the
name
of
a
pair
<em class="rfc2119" title="MUST">
MUST
</em>
&nbsp;be
serialized
as
a
JSON
string
and
the
value
of
the
pair,
an
instance
of
<code>
EventAffordance
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-event-names">
All
name-value
pairs
of
an
instance
of
<code>
EventAffordance
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
included
in
(one
of)
the
<a href="#dfn-signature" class="internalDFN" data-link-type= "dfn">
Signatures
</a>
of
<code>
EventAffordance
</code>
or
<code>
InteractionAffordance
</code>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
EventAffordance
</code>
instance,
with
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-event-objects">
The
values
assigned
to
<code>
subscription
</code>,
<code>
data
</code>,
and
<code>
cancellation
</code>
in
an
instance
of
<code>
EventAffordance
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
objects.
</span>
They
rely
on
the
<del class="diff-old">the
</del>
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
<a href="#dataschema" class= "sec-ref">
<code>
DataSchema
</code>
</a>,
whose
serialization
is
defined
in
<a href="#data-schema-serialization-json" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3.10
</bdi>
Data
Schemas
</a>.
</p>
<p>
<span class="rfc2119-assertion" id="td-event-arrays">
The
value
assigned
to
<code>
forms
</code>
in
an
instance
of
<code>
EventAffordance
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
array
containing
one
or
more
JSON
object
serializations
as
defined
in
<a href= "#form-serialization-json" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.3.9
</bdi>
<code>
forms
</code>
</a>.
</span>
</p>
<p>
A
TD
snippet
of
an
Event
object
is
given
below:
</p>
<aside class="example" id="event-serialization-sample">
<div class="marker">
<a class="self-link" href= "#event-serialization-sample">
Example
<bdi>
18
</bdi>
</a>
<del class="diff-old">:
</del>
<span class= "example-title">:
Sample
of
an
Event
serialization
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"events"</span>: {
    <span class="hljs-string">"overheated"</span>: {
        <span class="hljs-string">"data"</span> : {
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>
        },
        <span class="hljs-string">"forms"</span>: [...]
    }
},
...
</code>
</pre>
</aside>
<p>
Event
affordances
have
been
defined
in
a
flexible
manner,
in
order
to
adopt
existing
(e.g.,
<del class="diff-old">WebSub)
</del>
<ins class="diff-chg">WebSub
[
</ins><cite><a class="bibref" href="#bib-websub" title="WebSub" data-link-type= "biblio"><ins class="diff-chg">
websub
</ins></a></cite><ins class="diff-chg">
])
</ins>
or
customer-oriented
event
mechanisms
(e.g.,
Webhooks).
For
this
reason,
<code>
subscription
</code>
and
<code>
cancellation
</code>
can
be
defined
according
to
the
desired
mechanism.
Please
find
further
details
in
[
<cite>
<del class="diff-old">WoT-Binding-Templates
</del>
<a class="bibref" href="#bib-wot-binding-templates" title= "Web of Things (WoT) Protocol Binding Templates" data-link-type= "biblio">
<ins class="diff-chg">WOT-BINDING-TEMPLATES
</ins>
</a>
</cite>
].
Example
<a href= "#webhook-example-serialization" class="sec-ref">
§&nbsp;
<bdi class= "secno">
A.3
</bdi>
Webhook
Event
Example
</a>
illustrates
how
Events
can
use
<code>
subscription
</code>
and
<code>
cancellation
</code>
to
describe
Webhooks.
</p>
</section>
<section id="link-serialization-json">
<h4 id="x6-3-8-links">
<bdi class="secno">
6.3.8
</bdi>
<code>
links
</code>
<a class="self-link" aria-label="§" href= "#link-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-links">
All
name-value
pairs
of
an
instance
of
<code>
Link
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
included
in
the
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
of
<code>
Link
</code>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
Link
</code>
instance,
with
the
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
A
TD
snippet
of
a
link
object
in
the
<code>
links
</code>
array
is
given
below:
</p>
<aside class="example" id="link-serialization-sample">
<div class="marker">
<a class="self-link" href= "#link-serialization-sample">
Example
<bdi>
19
</bdi>
</a>
<span class= "example-title">:
Sample
of
a
Link
serialization
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"links"</span>: [{
    <span class="hljs-string">"rel"</span>: <span class=
"hljs-string">"controlledBy"</span>,
    <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"https://servient.example.com/things/lampController"</span>,
    <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"application/td+json"</span>
}]
...
</code>
</pre>
</aside>
</section>
<section id="form-serialization-json">
<h4 id="x6-3-9-forms">
<bdi class="secno">
6.3.9
</bdi>
<code>
forms
</code>
<a class="self-link" aria-label="§" href= "#form-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-forms">
All
name-value
pairs
of
an
instance
of
<code>
Form
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
included
in
the
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
of
<code>
Form
</code>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
Form
</code>
instance,
with
the
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-form-protocolbindings">
If
required,
form
objects
<em class="rfc2119" title="MAY">
MAY
</em>
be
supplemented
with
protocol-specific
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>
identified
with
a
prefix.
</span>
See
also
<a href= "#protocol-bindings" class="sec-ref">
§&nbsp;
<bdi class= "secno">
8.3
</bdi>
Protocol
Bindings
</a>.
</p>
<p>
A
TD
snippet
of
a
form
object
in
the
<code>
forms
</code>
array
is
given
below:
</p>
<aside class="example" id="form-serialization-sample">
<div class="marker">
<a class="self-link" href= "#form-serialization-sample">
Example
<bdi>
20
</bdi>
</a>
<span class= "example-title">:
Sample
of
a
Form
serialization
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"forms"</span>: [{
    <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"writeproperty"</span>,
    <span class="hljs-string">"href"</span> : <span class=
"hljs-string">"http://mytemp.example.com:5683/temp"</span>,
    <span class="hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
    <span class="hljs-string">"htv:methodName"</span>: <span class=
"hljs-string">"POST"</span>
}]
...
</code>
</pre>
</aside>
<p>
<code>
href
</code>
may
also
carry
a
URI
that
contains
dynamic
variables
such
as
p
and
d
in
http://192.168.1.25/left?p=2&amp;d=1.
In
that
case
the
URI
can
be
defined
as
template
as
defined
in
[
<cite>
<a class="bibref" href="#bib-rfc6570" title="URI Template" data-link-type="biblio">
RFC6570
</a>
</cite>
]:
<code>
http://192.168.1.25/left{?p,d}
</code>.
</p>
<p>
<span class="rfc2119-assertion" id="td-uriVariables-names">
In
such
a
case,
the
URI
Template
variables
<em class="rfc2119" title= "MUST">
MUST
</em>
be
collected
in
the
JSON-object
based
<code>
uriVariables
</code>
member
with
the
associated
(unique)
variable
names
as
JSON
names.
</span>
</p>
<p>
<span class="rfc2119-assertion" id= "td-uriVariables-dataschema">
The
serialization
of
each
value
in
the
map
assigned
to
<code>
uriVariables
</code>
in
an
instance
of
<code>
Form
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
rely
on
the
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
<a href="#dataschema" class= "sec-ref">
<code>
DataSchema
</code>
</a>,
whose
serialization
is
defined
in
<a href="#data-schema-serialization-json" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.3.10
</bdi>
Data
Schemas
</a>.
</span>
</p>
<p>
A
TD
snippet
using
a
URI
Template
and
<code>
uriVariables
</code>
is
given
below:
</p>
<div class="example" id="example-21">
<div class="marker">
<a class="self-link" href="#example-21">
Example
<bdi>
21
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        { <span class="hljs-string">"eg"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"http://www.example.org/iot" }
</del>
<ins class="diff-chg">"hljs-string">"http://www.example.org/iot#"</span> }
</ins>
    ],
    ...
    <span class="hljs-string">"actions"</span>: {
        <span class="hljs-string">"LeftDown"</span>: {
            ...
            <span class="hljs-string">"uriVariables"</span>: {
                <span class=
"hljs-string">"p"</span> : { <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>, <span class=
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0</span>, <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">16</span>, <span class=
"hljs-string">"@type"</span>: <span class=
"hljs-string">"eg:SomeKindOfAngle"</span> },
                <span class=
"hljs-string">"d"</span> : { <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>, <span class=
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0</span>, <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">1</span>, <span class=
"hljs-string">"@type"</span>: <span class=
"hljs-string">"eg:Direction"</span> }
            },
            <span class="hljs-string">"forms"</span>: [{
              <span class=
"hljs-string">"href"</span> : <span class="hljs-string">"http://192.168.1.25/left{?p,d}"</span>,
              <span class=
"hljs-string">"htv:methodName"</span>: <span class=
"hljs-string">"GET"</span>
            }]
        },
        ...
    },
    ...
}
</code>
</pre>
</div>
<p>
The
<code>
contentType
</code>
member
is
used
to
assign
a
media
<del class="diff-old">types
</del>
<ins class="diff-chg">type
</ins>
[
<cite>
<del class="diff-old">IANA-MEDIA-TYPES
</del>
<a class="bibref" href="#bib-rfc2046" title= "Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types" data-link-type="biblio">
<ins class="diff-chg">RFC2046
</ins>
</a>
</cite>
]
including
media
type
parameters
as
attribute-value
pairs
separated
by
a
<code>
;
</code>
character.
Example:
</p>
<div class="example" id="example-22">
<div class="marker">
<a class="self-link" href="#example-22">
Example
<bdi>
22
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"contentType"</span> : <span class=
"hljs-string">"text/plain; charset=utf-8"</span>,
...
</code>
</pre>
</div>
<p>
In
some
use
cases,
the
form
metadata
of
the
<a href= "#dfn-interaction-affordance" class="internalDFN" data-link-type= "dfn">
Interaction
Affordance
</a>
not
only
describes
the
request,
but
also
provides
metadata
for
the
expected
response.
For
instance,
an
Action
<code>
takePhoto
</code>
defines
an
<code>
input
</code>
schema
to
submit
parameter
settings
of
a
camera
(aperture
priority,
timer,
etc.)
using
JSON
for
the
request
payload
(i.e.,
<code>
"contentType":
"application/json"
</code>
).
The
output
of
this
action
is
the
photo
taken,
which
is
available
in
JPEG
format,
for
example.
In
such
cases,
the
<code>
response
</code>
member
is
used
to
indicate
the
representation
format
of
the
response
payload
(e.g.,
<code>
"contentType":
"image/jpeg"
</code>
).
Here
no
<code>
output
</code>
schema
is
required,
as
the
content
type
fully
specifies
the
representation
format.
</p>
<p>
<span class="rfc2119-assertion" id="td-form-response-object">
If
present,
the
value
assigned
to
<code>
response
</code>
in
an
instance
of
<code>
Form
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
JSON
object.
</span>
<span class="rfc2119-assertion" id= "td-forms-response">
If
present,
the
response
object
<em class= "rfc2119" title="MUST">
MUST
</em>
contain
a
<code>
contentType
</code>
member
as
defined
in
the
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
definition
of
<a href= "#expectedresponse" class= "sec-ref">
<code>
ExpectedResponse
</code>
</a>.
</span>
</p>
<p>
A
<code>
form
</code>
snippet
with
the
<code>
response
</code>
member
is
shown
below
based
on
the
<code>
takePhoto
</code>
Action
described
above:
</p>
<div class="example" id="example-23">
<div class="marker">
<a class="self-link" href="#example-23">
Example
<bdi>
23
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    ...
    <span class="hljs-string">"actions"</span>: {
        <span class="hljs-string">"takePhoto"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"invokeaction"</span>,
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"http://camera.example.com/api/snapshot"</span>,
                <span class=
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
                <span class="hljs-string">"response"</span>: {
                    <span class=
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"image/jpeg"</span>
                }
            }]
        }
    },
    ...
}
</code>
</pre>
</div>
<p>
When
<code>
forms
</code>
is
present
at
the
top
level,
it
can
be
used
to
describe
meta
interactions
offered
by
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>.
For
example,
the
operation
types
"readallproperties"
and
"writeallproperties"
are
for
meta
interactions
with
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
by
which
<a href="#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumers
</a>
can
read
and
write
all
properties
at
once.
In
the
example
below,
a
<code>
forms
</code>
member
is
included
in
the
TD
root
object
and
the
<a href="#dfn-consumer" class="internalDFN" data-link-type="dfn">
Consumer
</a>
can
use
the
submission
target
<code>
https://mylamp.example.com/allproperties
</code>
both
to
read
or
write
all
Properties
(i.e.,
<code>
on
</code>,
<code>
brightness
</code>,
and
<code>
timer
</code>
)
of
the
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
in
a
single
protocol
transaction.
</p>
<div class="example" id="td-forms-readall-example">
<div class="marker">
<a class="self-link" href= "#td-forms-readall-example">
Example
<bdi>
24
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"on"</span>: {
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"boolean"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        },
        <span class="hljs-string">"brightness"</span>: {
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        },
        <span class="hljs-string">"timer"</span>: {
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        }
    },
    ...
    <span class="hljs-string">"forms"</span>: [{
        <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"readallproperties"</span>,
        <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/allproperties"</span>,
        <span class=
"hljs-string">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class=
"hljs-string">"htv:methodName"</span>: <span class=
"hljs-string">"GET"</span>
    }, {
        <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"writeallproperties"</span>,
        <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/allproperties"</span>,
        <span class=
"hljs-string">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
        <span class=
"hljs-string">"htv:methodName"</span>: <span class=
"hljs-string">"PUT"</span>
    }]
}
</code>
</pre>
</div>
<p>
<span class="rfc2119-assertion" id="td-writeall-consumer">
<ins class="diff-new">In
the
case
of
operation
type
</ins><code><ins class="diff-new">
writeallproperties
</ins></code>,<ins class="diff-new">
it
is
expected
that
the
</ins><a href="#dfn-consumer" class="internalDFN" data-link-type="dfn"><ins class="diff-new">
Consumer
</ins></a><ins class="diff-new">
provides
ALL
writable
(non
</ins><code><ins class="diff-new">
readOnly
</ins></code><ins class="diff-new">
)
properties
and
the
(new)
assigned
values
(e.g.,
within
payload).
Otherwise
the
</ins><a href="#dfn-thing" class= "internalDFN" data-link-type="dfn"><ins class="diff-new">
Thing
</ins></a><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
refuse
this
call
to
avoid
inconsistency.
</ins></span></p>
</section>
<section id="data-schema-serialization-json">
<h4 id="x6-3-10-data-schemas">
<bdi class="secno">
6.3.10
</bdi>
Data
Schemas
<a class="self-link" aria-label="§" href= "#data-schema-serialization-json">
</a>
</h4>
<p>
The
data
schemas
of
the
WoT
Thing
Description
defined
through
the
<a href="#dataschema" class= "sec-ref">
<code>
DataSchema
</code>
</a>
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
are
based
on
a
subset
of
the
JSON
Schema
terms
[
<cite>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a class="bibref" href= "#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio">
<ins class="diff-chg">JSON-SCHEMA
</ins>
</a>
</cite>
].
Thus,
serializations
of
the
TD
data
schemas
can
be
fed
directly
into
JSON
Schema
validator
implementations
to
validate
the
data
exchanged
with
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>.
</p>
<p>
Data
schema
serialization
applies
to
<code>
PropertyAffordance
</code>
instances,
the
values
assigned
to
<code>
input
</code>
and
<code>
output
</code>
in
<code>
ActionAffordance
</code>
instances,
the
values
assigned
to
<code>
subscription
</code>,
<code>
data
</code>,
and
<code>
cancellation
</code>
in
<code>
EventAffordance
</code>
instances,
and
the
value
assigned
to
<code>
uriVariables
</code>
in
instances
of
<a href="#dfn-subclass" class="internalDFN" data-link-type="dfn">
Subclasses
</a>
of
<code>
InteractionAffordance
</code>
(when
a
<a href= "#form-serialization-json">
form
object
</a>
uses
a
URI
Template).
</p>
<p>
<span class="rfc2119-assertion" id="td-data-schema">
All
name-value
pairs
of
an
instance
of
one
of
the
<a href= "#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclasses
</a>
of
<code>
DataSchema
</code>,
where
the
name
is
a
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Term
</a>
included
in
the
<a href="#dfn-signature" class="internalDFN" data-link-type="dfn">
Signature
</a>
of
that
<a href="#dfn-subclass" class="internalDFN" data-link-type= "dfn">
Subclass
</a>
or
in
the
<a href="#dfn-signature" class= "internalDFN" data-link-type="dfn">
Signature
</a>
of
<code>
DataSchema
</code>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
members
of
the
JSON
object
that
results
from
serializing
the
<code>
DataSchema
</code>
<a href="#dfn-subclass" class="internalDFN" data-link-type="dfn">
Subclass
</a>
's
instance,
with
the
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Term
</a>
as
name.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-data-schema-objects">
The
value
assigned
to
<code>
properties
</code>
in
an
instance
of
<code>
ObjectSchema
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-data-schema-arrays">
The
values
assigned
to
<code>
enum
</code>,
<code>
required
</code>,
and
<code>
oneOf
</code>
in
an
instance
of
<code>
DataSchema
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
array.
</span>
</p>
<p>
<span class="rfc2119-assertion" id= "td-data-schema-objects-arrays">
The
value
assigned
to
<code>
items
</code>
in
an
instance
of
<code>
ArraySchema
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
object
or
a
JSON
array
containing
JSON
objects.
</span>
</p>
<p>
A
TD
snippet
data
schema
members
is
given
below.
Note
that
the
surrounding
object
may
be
a
data
schema
object
(e.g.,
for
<code>
input
</code>
and
<code>
output
</code>
)
or
a
Property
object,
which
would
contain
additional
members.
</p>
<aside class="example" id="dataschema-serialization-sample">
<div class="marker">
<a class="self-link" href= "#dataschema-serialization-sample">
Example
<bdi>
25
</bdi>
</a>
<span class="example-title">:
Sample
of
a
DataSchema
serialization
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
<span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"status"</span>: {
        <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"Status"</span>,
        <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>,
        <span class="hljs-string">"enum"</span>: [<span class=
"hljs-string">"On"</span>, <span class=
"hljs-string">"Off"</span>, <span class=
"hljs-string">"Error"</span>]
    },
    <span class="hljs-string">"brightness"</span>: {
        <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"Brightness value"</span>,
        <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>,
        <span class="hljs-string">"minimum"</span>: <span class=
"hljs-number">0.0</span>,
        <span class="hljs-string">"maximum"</span>: <span class=
"hljs-number">100.0</span>
    },
    <span class="hljs-string">"rgb"</span>: {
        <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"RGB color value"</span>,
        <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"array"</span>,
        <span class="hljs-string">"items"</span> : {
            <span class="hljs-string">"type"</span> : <span class=
"hljs-string">"number"</span>,
            <span class=
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
            <span class=
"hljs-string">"maximum"</span>: <span class="hljs-number">255</span>
        },
        <span class="hljs-string">"minItems"</span>: <span class=
"hljs-number">3</span>,
        <span class="hljs-string">"maxItems"</span>: <span class=
"hljs-number">3</span>
    }
},
...
</code>
</pre>
</aside>
<p>
The
terms
<code>
readOnly
</code>
and
<code>
writeOnly
</code>
can
be
used
signal
which
data
items
are
exchanged
in
read
interactions
(i.e.,
when
reading
a
Property)
and
which
in
write
interactions
(i.e.,
when
writing
a
Property).
This
can
be
used
as
workaround
when
Properties
of
an
unconventional
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
exhibit
different
data
for
reading
and
writing,
which
can
be
the
case
when
augmenting
an
existing
device
or
service
with
a
Thing
Description.
</p>
<p>
A
TD
snippet
with
the
usage
of
<code>
readOnly
</code>
and
<code>
writeOnly
</code>
is
given
below:
</p>
<div class="example" id="example-26">
<div class="marker">
<a class="self-link" href="#example-26">
Example
<bdi>
26
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">...
<span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"status"</span>: {
        <span class=
"hljs-string">"description"</span>: <span class="hljs-string">"Read or write On/Off status."</span>,
        <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"object"</span>,
        <span class="hljs-string">"properties"</span>: {
            <span class="hljs-string">"latestStatus"</span>: {
                <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>,
                <span class=
"hljs-string">"enum"</span>: [<span class=
"hljs-string">"On"</span>, <span class="hljs-string">"Off"</span>],
                <span class=
"hljs-string">"readOnly"</span>: <span class=
"hljs-literal">true</span>
            },
            <span class="hljs-string">"newStatusValue"</span>: {
                <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>,
                <span class=
"hljs-string">"enum"</span>: [<span class=
"hljs-string">"On"</span>, <span class="hljs-string">"Off"</span>],
                <span class=
"hljs-string">"writeOnly"</span>: <span class=
"hljs-literal">true</span>
            }
        },
        <span class="hljs-attr">forms</span>: [...]
    }
}
...
</code>
</pre>
</div>
<p>
When
the
<code>
status
</code>
Property
is
read,
the
status
data
is
returned
using
a
<code>
latestStatus
</code>
member
in
the
payload.
To
update
the
<code>
status
</code>
Property,
the
new
value
must
be
provided
through
a
<code>
newStatusValue
</code>
member
in
the
payload.
</p>
<p>
As
an
additional
feature,
a
Thing
Description
instance
allows
the
usage
of
a
<code>
unit
</code>
member
within
data
schemas.
This
can
be
used
to
associate
a
unit
of
measure
to
a
data
item.
Its
string
value
can
be
selected
<del class="diff-old">freely,
however,
</del>
<ins class="diff-chg">freely.
However,
</ins>
it
is
recommended
to
select
units
<del class="diff-old">based
on
existing
definitions
by
integrating
the
corresponding
namespace
(e.g.,
from
Smart
Appliances
REFerence
(SAREF)
ontology
or
Ontology
of
units
of
Measure
(OM)).
</del>
<ins class="diff-chg">defined
in
well-known
</ins><a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn"><ins class="diff-chg">
Vocabularies
</ins></a>.
See
<a href= "#sec-context-extensions" class="sec-ref">
§&nbsp;
<bdi class= "secno">
7.
</bdi>
TD
Context
Extensions
</a>
for
<del class="diff-old">details.
</del>
<ins class="diff-chg">an
example.
</ins>
</p>
</section>
</section>
<section id="identification">
<h3 id="x6-4-identification">
<bdi class="secno">
6.4
</bdi>
Identification
<a class="self-link" aria-label="§" href= "#identification">
</a>
</h3>
<p>
The
JSON-based
serialization
of
Thing
Descriptions
is
identified
by
the
media
type
<code>
application/td+json
</code>
or
the
CoAP
Content-Format
ID
<code>
T.B.D.
</code>
(see
<a href="#iana-section" class="sec-ref">
§&nbsp;
<bdi class="secno">
10.
</bdi>
IANA
Considerations
</a>
).
</p>
<div class="note" role="note" id="issue-container-generatedID-1">
<div role="heading" class="note-title marker" id="h-note-1" aria-level="4">
<span>
Note
</span>
<span class="issue-label">:
CoAP
Content-Format
</span>
</div>
<p class="">
CoAP-based
WoT
implementations
can
use
the
experimental
Content-Format
<code>
65100
</code>
until
the
final
Content-Format
ID
has
been
assigned.
</p>
</div>
</section>
</section>
<section id="sec-context-extensions" class="informative">
<h2 id="x7-td-context-extensions">
<bdi class="secno">
7.
</bdi>
TD
Context
Extensions
<a class="self-link" aria-label="§" href= "#sec-context-extensions">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
In
addition
to
the
standard
<a href="#dfn-vocab" class= "internalDFN" data-link-type="dfn">
Vocabulary
</a>
definitions
in
<a href="#sec-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.
</bdi>
TD
Information
Model
</a>,
the
WoT
Thing
Description
offers
the
possibility
to
add
context
knowledge
from
additional
namespaces.
This
mechanism
can
be
used
to
enrich
the
Thing
Description
instances
with
additional
(e.g.,
domain-specific)
semantics.
It
can
also
be
used
to
import
additional
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn">
Protocol
Bindings
</a>
or
new
security
schemes
in
the
future.
</p>
<p>
For
such
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extensions
</a>,
the
Thing
Descriptions
use
the
<code>
@context
</code>
mechanism
known
from
JSON-LD
[
<cite>
<a class="bibref" href="#bib-json-ld11" title= "JSON-LD 1.1" data-link-type="biblio">
json-ld11
</a>
</cite>
].
When
using
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extensions
</a>,
the
value
of
<code>
@context
</code>
of
the
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
<code>
Thing
</code>
is
an
Array
with
additional
elements
of
type
<code>
anyURI
</code>
identifying
JSON-LD
context
files
or
<a href="#dfn-map" class= "internalDFN" data-link-type="dfn">
Map
</a>
containing
namespace
IRIs
as
defined
in
<a href="#thing" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.1.1
</bdi>
<code>
Thing
</code>
</a>.
</p>
<p>
The
serialization
rules
for
complex
types
in
<a href= "#td-basic-types-mapping" class="sec-ref">
§&nbsp;
<bdi class= "secno">
6.1
</bdi>
Mapping
to
JSON
Types
</a>
define
the
serialization
of
an
extended
<code>
@context
</code>
name-value
pair.
A
snippet
with
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extensions
</a>
is
given
below:
</p>
<div class="example" id="example-27">
<div class="marker">
<a class="self-link" href="#example-27">
Example
<bdi>
27
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        {
<del class="diff-old">            : &lt;span class=
"hljs-string"&gt;"http://example.org/iot",
</del>
            <span class="hljs-string">"eg"</span>: <span class=
<ins class="diff-chg">"hljs-string">"http://example.org/iot#"</span>,
</ins>
            <span class="hljs-string">"cov"</span>: <span class=
"hljs-string">"http://www.example.org/coap-binding#"</span>
        },
        <span class="hljs-string">"https://schema.org/"</span>
    ],
    ...
}
</code>
</pre>
</div>
<section id="semantic-annotations">
<h3 id="x7-1-semantic-annotations">
<bdi class="secno">
7.1
</bdi>
Semantic
Annotations
<a class="self-link" aria-label="§" href= "#semantic-annotations">
</a>
<del class="diff-old">This
section
is
non-normative.
</del>
</h3>
<p>
<a href="#dfn-context-ext" class="internalDFN" data-link-type= "dfn">
TD
Context
Extensions
</a>
allow
for
additional
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
to
a
Thing
Description
instance.
If
the
included
namespaces
are
based
on
<a href="#dfn-class" class= "internalDFN" data-link-type="dfn">
Class
</a>
definitions
such
as
those
provided
by
the
RDF
Schema
or
OWL,
they
can
be
used
to
annotate
any
<a href="#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
instance
of
a
Thing
Description
semantically
by
associating
the
instance
to
a
such
an
external
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
definition.
This
is
done
by
assigning
a
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
name
to
the
<code>
@type
</code>
name-value
pair
or
including
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
name
in
its
<a href="#dfn-array" class= "internalDFN" data-link-type="dfn">
Array
</a>
value
for
multiple
associations/annotations.
Following
the
serialization
rules
in
<a href="#td-basic-types-mapping" class= "sec-ref">
§&nbsp;
<bdi class="secno">
6.1
</bdi>
Mapping
to
JSON
Types
</a>,
<code>
@type
</code>
is
either
serialized
as
JSON
string
or
as
JSON
array.
<code>
@type
</code>
is
the
JSON-LD
keyword
[
<cite>
<a class="bibref" href="#bib-json-ld11" title="JSON-LD 1.1" data-link-type="biblio">
json-ld11
</a>
</cite>
]
used
to
set
the
type
of
a
node.
</p>
<p>
<a href="#dfn-context-ext" class="internalDFN" data-link-type= "dfn">
TD
Context
Extensions
</a>
also
allow
the
inclusion
of
additional
name-value
pairs
and
well-defined
values
within
any
<a href="#dfn-class" class="internalDFN" data-link-type= "dfn">
Class
</a>
instance
of
a
Thing
Description.
These
pairs
and
values
are
defined
through
the
included
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
Vocabulary
Terms
</a>
and
are
serialized
as
additional
members
in
the
corresponding
JSON
objects
or
values
of
existing
members,
respectively.
Examples
are
additional
version
metadata
for
the
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
or
units
of
measure
for
data
items.
</p>
<p>
As
an
example,
the
TD
snippet
given
below
extends
the
version
information
container
by
adding
version
numbers
for
the
hardware
and
firmware
of
the
<del class="diff-old">Thing,
semantically
annotates
a
Property,
</del>
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
<ins class="diff-chg">Thing
</ins></a>,
and
uses
<del class="diff-old">a
well-defined
value
</del>
<ins class="diff-chg">values
from
external
</ins><a href="#dfn-vocab" class="internalDFN" data-link-type= "dfn"><ins class="diff-chg">
Vocabularies
</ins></a><ins class="diff-chg">
for
the
</ins><a href="#dfn-thing" class= "internalDFN" data-link-type="dfn"><ins class="diff-chg">
Thing
</ins></a><ins class="diff-chg">
and
</ins>
for
the
data
schema
<del class="diff-old">unit.
</del>
<ins class="diff-chg">unit:
</ins><a href="https://w3id.org/saref"><ins class="diff-chg">
SAREF
</ins></a>,<ins class="diff-chg">
also
used
in
</ins><a href="#thing-description-full-serialization" class= "box-ref"><ins class="diff-chg">
Example
</ins><bdi><ins class="diff-chg">
2
</ins></bdi></a>,<ins class="diff-chg">
and
</ins><a href= "http://www.ontology-of-units-of-measure.org/resource/om-2/"><ins class="diff-chg">
OM
</ins></a>,<ins class="diff-chg">
the
Ontology
of
Units
of
Measure
[
</ins><cite><a class="bibref" href= "#bib-rijgersberg" title= "Ontology of Units of Measure and Related Concepts" data-link-type= "biblio"><ins class="diff-chg">
RIJGERSBERG
</ins></a></cite><ins class="diff-chg">
].&nbsp;These
</ins><a href="#dfn-vocab" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Vocabularies
</ins></a><ins class="diff-chg">
are
used
as
examples—others
may
exist,
in
particular
in
the
home
automation
domain.
</ins>
</p>
<div class="example" id="example-28">
<div class="marker">
<a class="self-link" href="#example-28">
Example
<bdi>
28
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        {
            <span class="hljs-string">"v"</span>: <span class=
"hljs-string">"http://www.example.org/versioningTerms#"</span>,
            <span class="hljs-string">"saref"</span>: <span class=
"hljs-string">"https://w3id.org/saref#"</span>,
            <span class="hljs-string">"om"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"http://www.wurvoc.org/vocabularies/om-1.8/"
</del>
<ins class="diff-chg">"hljs-string">"http://www.ontology-of-units-of-measure.org/resource/om-2/"</span>
</ins>
        }
    ],
<del class="diff-old">    : &lt;span class=
"hljs-string"&gt;"Thing",
</del>
    <span class="hljs-string">"version"</span>: {
        <span class="hljs-string">"instance"</span>: <span class=
"hljs-string">"1.2.1"</span>,
        <span class="hljs-string">"v:firmware"</span>: <span class=
"hljs-string">"0.9.1"</span>,
        <span class="hljs-string">"v:hardware"</span>: <span class=
"hljs-string">"1.0"</span>
    },
    ...
    <span class="hljs-string">"@type"</span>: <span class=
<ins class="diff-new">"hljs-string">"saref:TemperatureSensor"</span>,
</ins>
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"temperature"</span>: {
<del class="diff-old">            : &lt;span class=
"hljs-string"&gt;"saref:Temperature",
</del>
            <span class=
"hljs-string">"description"</span>: <span class=
"hljs-string">"Temperature value of the weather station"</span>,
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span>,
            <span class=
"hljs-string">"minimum"</span>: <span class="hljs-number">-32.5</span>,
            <span class=
"hljs-string">"maximum"</span>: <span class="hljs-number">55.2</span>,
            <span class="hljs-string">"unit"</span>: <span class=
"hljs-string">"om:degree_Celsius"</span>,
            <span class="hljs-string">"forms"</span>: [...]
        },
        ...
    },
    ...
}
</code>
</pre>
</div>
<p>
In
many
cases,
<del class="diff-old">context
extension
</del>
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
<ins class="diff-chg">TD
Context
Extensions
</ins></a>
may
be
used
to
annotate
pieces
of
a
data
schema,
<del class="diff-old">as
</del>
<ins class="diff-chg">to
be
able
to
semantically
process
the
state
information
of
the
physical
world
object,
which
is
represented
by
the
data
exchanged
during
an
interaction
(e.g.,
</ins>
in
the
<del class="diff-old">TD&nbsp;snippet
below.
The
example
references
SSN/SOSA
[
vocab-ssn
</del>
<ins class="diff-chg">payload
of
a
response).
For
example,
a
semantic
description
of
this
state
information
in
RDF
can
be
embedded
in
the
</ins><a href= "#dfn-td-document" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
TD
Document
</ins>
</a>
<del class="diff-old">]
</del>
and
<del class="diff-old">OM
1.8,
an
ontology
for
units
</del>
<ins class="diff-chg">pieces
</ins>
of
<del class="diff-old">measure
</del>
<ins class="diff-chg">a
data
schema
can
be
individually
annotated
as
referring
to
specific
parts
of
that
RDF-modeled
state
of
the
physical
world
object.
</ins></p><p><ins class="diff-chg">
The
TD
snippet
below
uses
SAREF
to
describe
the
state
of
a
lamp.
The
external
</ins><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Vocabulary
Term
</ins></a><code><ins class="diff-chg">
ssn:forProperty
</ins></code>,<ins class="diff-chg">
taken
from
</ins><a href= "https://www.w3.org/TR/vocab-ssn/"><ins class="diff-chg">
SSN
</ins></a>,<ins class="diff-chg">
the
Semantic
Sensor
Network
Ontology
</ins>
[
<cite>
<del class="diff-old">Rijgersberg-et-al-2013
</del>
<a class="bibref" href="#bib-vocab-ssn" title="Semantic Sensor Network Ontology" data-link-type= "biblio">
<ins class="diff-chg">VOCAB-SSN
</ins>
</a>
</cite>
<del class="diff-old">].
Note
that
object
assigned
to
temperature
</del>
<ins class="diff-chg">],
</ins>
is
<del class="diff-old">a
</del>
<ins class="diff-chg">being
used
to
link
the
</ins>
data
schema
<del class="diff-old">and
not
</del>
<ins class="diff-chg">of
the
</ins><code><ins class="diff-chg">
status
</ins></code><a href="#dfn-property" class= "internalDFN" data-link-type="dfn"><ins class="diff-chg">
Property
</ins></a><ins class="diff-chg">
with
</ins>
the
actual
<del class="diff-old">temperature
property
</del>
<ins class="diff-chg">on/off
state
</ins>
of
the
physical
world
object.
<del class="diff-old">More
details
on
modeling
the
physical
world
can
be
found
in
Appendix
§&nbsp;
D.2
Thing
Description
Ontology
.
</del>
</p>
<div class="example" id="saref-state-annotation-example">
<div class="marker">
<a class="self-link" href= "#saref-state-annotation-example">
Example
<bdi>
29
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        {
<del class="diff-old">            : &lt;span class=
"hljs-string"&gt;"http://www.w3.org/ns/sosa/",
</del>
            <span class="hljs-string">"saref"</span>: <span class=
<ins class="diff-chg">"hljs-string">"https://w3id.org/saref#"</span>,
</ins>
            <span class="hljs-string">"ssn"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"http://www.w3.org/ns/ssn/",
            : &lt;span class=
"hljs-string"&gt;"http://www.wurvoc.org/vocabularies/om-1.8/"
</del>
<ins class="diff-chg">"hljs-string">"http://www.w3.org/ns/ssn/"</span>
</ins>
        }
    ],
<del class="diff-old">    : &lt;span class=
"hljs-string"&gt;"Thing",
</del>
    <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
<del class="diff-old">    : {
</del>
    <span class="hljs-string">"@type"</span>: <span class=
<ins class="diff-chg">"hljs-string">"saref:LightSwitch"</span>,
</ins>    <span class="hljs-string">"saref:hasState"</span>: {
        <span class="hljs-string">"@id"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"urn:dev:ops:32473-WoTStation-1234/temperature",
</del>
<ins class="diff-chg">"hljs-string">"urn:dev:ops:32473-WoTLamp-1234/state"</span>,
</ins>
        <span class="hljs-string">"@type"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"om:Temperature"
</del>
<ins class="diff-chg">"hljs-string">"saref:OnOffState"</span>
</ins>
    },
    ...
    <span class="hljs-string">"properties"</span>: {
<del class="diff-old">        : {
</del>
        <span class="hljs-string">"status"</span>: {
            <span class=
"hljs-string">"ssn:forProperty"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"urn:dev:ops:32473-WoTStation-1234/temperature",
            &lt;span class=
"hljs-string"&gt;"description": &lt;span class=
"hljs-string"&gt;"Temperature measurement of the weather station",
</del>
<ins class="diff-chg">"hljs-string">"urn:dev:ops:32473-WoTLamp-1234/state"</span>,
</ins>
            <span class="hljs-string">"type"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"number",
</del>
<ins class="diff-chg">"hljs-string">"string"</span>,
</ins>
            <span class=
<del class="diff-old">"hljs-string"&gt;"minimum",
</del>
<ins class="diff-chg">"hljs-string">"forms"</span>: [{<span class="hljs-string">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status"</span>}]
        },
</ins>        <span class="hljs-string">"fullStatus"</span>: {
            <span class=
<del class="diff-old">"hljs-string"&gt;"maximum",
            : &lt;span class=
"hljs-string"&gt;"om:degree_Celsius",
            : [...]
</del>
<ins class="diff-chg">"hljs-string">"ssn:forProperty"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234/state"</span>,
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
</ins>            <span class="hljs-string">"properties"</span>: {                <span class=<ins class="diff-chg">
"hljs-string">"statusString"</span>: { <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span> },
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"statusCode"</span>: { <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"number"</span> },
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"statusDescription"</span>: { <span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span> }
            },
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"forms"</span>: [{<span class="hljs-string">"href"</span>: <span class="hljs-string">"https://mylamp.example.com/status?full=true"</span>}]
</ins>
        },
        ...
    },
    ...
}
</code>
</pre>
</div>
<p>
<ins class="diff-new">In
</ins><a href="#thing-description-full-serialization" class= "box-ref"><ins class="diff-new">
Example
</ins><bdi><ins class="diff-new">
2
</ins></bdi></a>,<ins class="diff-new">
the
state
of
the
</ins><a href= "#dfn-thing" class="internalDFN" data-link-type="dfn"><ins class="diff-new">
Thing
</ins></a><ins class="diff-new">
is
given
by
the
</ins><code><ins class="diff-new">
status
</ins></code><ins class="diff-new">
affordance
itself
and
possible
state
changes
are
given
by
the
</ins><code><ins class="diff-new">
toggle
</ins></code><ins class="diff-new">
affordance.
In
other
words,
the
state
of
the
physical
world
object
directly
provides
the
</ins><a href="#dfn-interaction-affordance" class= "internalDFN" data-link-type="dfn"><ins class="diff-new">
Interaction
Affordances
</ins></a><ins class="diff-new">
of
the
</ins><a href="#dfn-thing" class="internalDFN" data-link-type= "dfn"><ins class="diff-new">
Thing
</ins></a>.<ins class="diff-new">
This
design
is
satisfactory
for
simple
cases.
In
more
elaborate
cases,
however,
several
affordances
may
be
available
for
the
same
physical
state.
In
the
example
above,
the
</ins><code><ins class="diff-new">
fullStatus
</ins></code><a href="#dfn-property" class="internalDFN" data-link-type="dfn"><ins class="diff-new">
Property
</ins></a><ins class="diff-new">
provides
an
alternative,
more
verbose
representation
for
the
state
of
the
lamp.
</ins></p>
</section>
<section id="adding-protocol-bindings">
<h3 id="x7-2-adding-protocol-bindings">
<bdi class="secno">
7.2
</bdi>
Adding
Protocol
Bindings
<a class="self-link" aria-label="§" href= "#adding-protocol-bindings">
</a>
<del class="diff-old">This
section
is
non-normative.
</del>
</h3>
<p>
With
the
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extensions
</a>
in
a
Thing
Description,
the
communication
metadata
can
be
supplemented
or
new
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Bindings
</a>
added
through
additional
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
serialized
into
JSON
objects
representing
a
<code>
Form
</code>
instance.
(see
also
<a href= "#protocol-bindings" class="sec-ref">
§&nbsp;
<bdi class= "secno">
8.3
</bdi>
Protocol
Bindings
</a>
).
</p>
<p>
The
following
TD
example
uses
a
fictional
CoAP
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>,
as
no
such
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>
is
available
at
the
time
of
writing
this
specification.
This
<a href="#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extension
</a>
assumes
that
there
is
a
<em>
CoAP
<ins class="diff-new">in
</ins>
RDF
vocabulary
</em>
similar
to
<em>
<ins class="diff-new">HTTP
Vocabulary
in
RDF
1.0
</ins></em>
[
<cite>
<a class="bibref" href="#bib-http-in-rdf10" title="HTTP Vocabulary in RDF 1.0" data-link-type= "biblio">
HTTP-in-RDF10
</a>
</cite>
]
that
is
accessible
via
<del class="diff-old">the
</del>
<ins class="diff-chg">an
example
</ins>
namespace
<code>
http://www.example.org/coap-binding#
</code>.
The
supplemented
<code>
cov:methodName
</code>
member
instructs
the
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
which
CoAP
method
has
to
be
applied
(e.g.,
<code>
GET
</code>
for
the
CoAP
Method
Code
0.01,
<code>
POST
</code>
for
the
CoAP
Method
Code
0.02,
or
<code>
iPATCH
</code>
for
CoAP
Method
Code
0.07).
</p>
<aside class="example" id="context-extension-for-forms">
<div class="marker">
<a class="self-link" href= "#context-extension-for-forms">
Example
<bdi>
30
</bdi>
</a>
<span class="example-title">:
Specialization
of
forms
through
<del class="diff-old">context
extension
</del>
<ins class="diff-chg">TD
Context
Extension
</ins>
</span>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    <span class="hljs-string">"@context"</span>: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        { <span class="hljs-string">"cov"</span>: <span class=
"hljs-string">"http://www.example.org/coap-binding#"</span> }
    ],
    ...
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"brightness"</span>: {
            <span class=
"hljs-string">"description"</span>: <span class=
"hljs-string">"The current brightness setting"</span>,
            <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>,
            <span class=
"hljs-string">"minimum"</span>: <span class="hljs-number">-64</span>,
            <span class=
"hljs-string">"maximum"</span>: <span class="hljs-number">64</span>,
            <span class="hljs-string">"forms"</span>: [{
                <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"readproperty"</span>,
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"coap://example.org:61616/api/brightness"</span>,
                <span class=
"hljs-string">"cov:methodName"</span>: <span class=
"hljs-string">"GET"</span>
            }, {
                <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"writeproperty"</span>,
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"coap://example.org:61616/api/brightness"</span>,
                <span class=
"hljs-string">"cov:methodName"</span>: <span class=
"hljs-string">"POST"</span>
            }]
        },
        ...
    },
    ...
}
</code>
</pre>
</aside>
</section>
<section id="adding-security-schemes">
<h3 id="x7-3-adding-security-schemes">
<bdi class="secno">
7.3
</bdi>
Adding
Security
Schemes
<a class="self-link" aria-label="§" href= "#adding-security-schemes">
</a>
<del class="diff-old">This
section
is
non-normative.
</del>
</h3>
<p>
Finally,
new
security
schemes
that
are
not
included
in
<a href= "#sec-security-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.3
</bdi>
Security
Vocabulary
Definitions
</a>
can
be
imported
using
the
<a href= "#dfn-context-ext" class="internalDFN" data-link-type="dfn">
TD
Context
Extension
</a>
mechanism.
This
example
uses
a
fictional
ACE
security
scheme
based
on
[
<cite>
<del class="diff-old">draft-ietf-ace-oauth-authz
</del>
<a class="bibref" href="#bib-ace" title= "Authentication and Authorization for Constrained Environments (ACE) using the OAuth 2.0 Framework (ACE-OAuth)" data-link-type="biblio">
<ins class="diff-chg">ACE
</ins>
</a>
</cite>
]
that
is,
for
this
example,
defined
by
the
namespace
at
<code>
http://www.example.org/ace-security#
</code>.
Note
that
such
additional
security
schemes
must
be
<a href="#dfn-subclass" class= "internalDFN" data-link-type="dfn">
Subclasses
</a>
of
the
<a href= "#dfn-class" class="internalDFN" data-link-type="dfn">
Class
</a>
<a href="#securityscheme" class= "sec-ref">
<code>
SecurityScheme
</code>
</a>.
</p>
<div class="example" id="example-31">
<div class="marker">
<a class="self-link" href="#example-31">
Example
<bdi>
31
</bdi>
</a>
</div>
<pre aria-busy="false"><code class="hljs javascript">{
    @context: [
        <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
        {
            <span class="hljs-string">"cov"</span>: <span class=
"hljs-string">"http://www.example.org/coap-binding#"</span>,
            <span class="hljs-string">"ace"</span>: <span class=
"hljs-string">"http://www.example.org/ace-security#"</span>
        }
    ],
    ...
    <span class="hljs-string">"securityDefinitions"</span>: {
        <span class="hljs-string">"ace_sc"</span>: {
            <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"ace:ACESecurityScheme"</span>,
            ...
            <span class="hljs-string">"ace:as"</span>: <span class=
"hljs-string">"coaps://as.example.com/token"</span>,
            <span class=
"hljs-string">"ace:audience"</span>: <span class=
"hljs-string">"coaps://rs.example.com"</span>,
            <span class=
"hljs-string">"ace:scopes"</span>: [<span class=
"hljs-string">"limited"</span>, <span class=
"hljs-string">"special"</span>],
            <span class=
"hljs-string">"ace:cnonce"</span>: <span class=
"hljs-literal">true</span>
        }
    },
    <span class="hljs-string">"security"</span>: [<span class=
"hljs-string">"ace_sc"</span>],
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"status"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"readproperty"</span>,
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://rs.example.com/status"</span>,
                <span class=
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/cbor"</span>,
                <span class=
"hljs-string">"cov:methodName"</span>: <span class=
"hljs-string">"GET"</span>,
                <span class=
"hljs-string">"ace:scopes"</span>: [<span class=
"hljs-string">"limited"</span>]
            }]
        }
    },
<del class="diff-old">    : {
</del>
    <span class="hljs-string">"actions"</span>: {
        <span class="hljs-string">"configure"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class="hljs-string">"op"</span>: <span class=
"hljs-string">"invokeaction"</span>,
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://rs.example.com/configure"</span>,
                <span class=
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/cbor"</span>,
                <span class=
"hljs-string">"cov:methodName"</span>: <span class=
"hljs-string">"POST"</span>,
                <span class=
"hljs-string">"ace:scopes"</span>: [<span class=
"hljs-string">"special"</span>]
            }]
        }
    },
    ...
}
</code>
</pre>
</div>
<p>
Note
that
all
security
schemes
defined
in
<a href= "#sec-security-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.3.3
</bdi>
Security
Vocabulary
Definitions
</a>
are
already
part
of
the
TD
context
and
need
not
to
be
included
through
a
<del class="diff-old">context
extension.
</del>
<a href="#dfn-context-ext" class= "internalDFN" data-link-type="dfn">
<ins class="diff-chg">TD
Context
Extension
</ins></a>.
</p>
</section>
</section>
<section id="behavior" class="normative">
<h2 id="x8-behavioral-assertions">
<bdi class="secno">
8.
</bdi>
Behavioral
Assertions
<a class="self-link" aria-label="§" href= "#behavior">
</a>
</h2>
<p>
The
following
assertions
relate
to
the
behavior
of
components
of
a
WoT
system,
as
opposed
to
the
representation
or
information
model
of
the
TD.
However,
note
that
TDs
are
descriptive,
and
may
in
particular
be
used
to
describe
pre-existing
network
interfaces.
In
these
cases,
assertions
cannot
be
made
that
constrain
the
behavior
of
such
pre-existing
interfaces.
Instead,
the
assertions
must
be
interpreted
as
constraints
on
the
TD
to
accurately
represent
such
interfaces.
</p>
<section id="behavior-security">
<h3 id="x8-1-security-configurations">
<bdi class="secno">
8.1
</bdi>
Security
Configurations
<a class="self-link" aria-label="§" href= "#behavior-security">
</a>
</h3>
<p>
To
enable
secure
interoperation,
security
configurations
must
accurately
reflect
the
requirements
of
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>:
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="td-security-binding">
If
a
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
requires
a
specific
access
mechanism
for
an
interaction,
that
mechanism
<em class="rfc2119" title= "MUST">
MUST
</em>
be
specified
in
the
security
configuration
of
the
Thing
Description.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-security-no-extras">
If
a
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
does
not
require
a
specific
access
mechanism
for
an
interaction,
that
mechanism
<em class="rfc2119" title= "MUST NOT">
MUST
NOT
</em>
be
specified
in
the
security
configuration
of
the
Thing
Description.
</span>
</li>
</ul>
</section>
<section id="behavior-data">
<h3 id="x8-2-data-schemas">
<bdi class="secno">
8.2
</bdi>
Data
Schemas
<a class="self-link" aria-label="§" href= "#behavior-data">
</a>
</h3>
<p>
The
data
schemas
provided
in
the
TD
should
accurately
represent
the
data
payloads
returned
and
accepted
by
the
described
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
in
the
interactions
specified
in
the
TD.
In
general,
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumers
</a>
should
follow
the
data
schemas
strictly,
not
generating
anything
not
given
in
the
WoT
Thing
Description,
but
should
accept
additional
data
from
the
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
not
given
explicitly
in
the
WoT
Thing
Description.
In
general,
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>
are
<em>
described
</em>
by
WoT
Thing
Descriptions,
but
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumers
</a>
are
<em>
constrained
</em>
to
follow
WoT
Thing
Descriptions
when
interacting
with
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Things
</a>.
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="client-data-schema">
A
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
acting
as
a
<a href="#dfn-consumer" class= "internalDFN" data-link-type="dfn">
Consumer
</a>
when
interacting
with
another
target
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
described
in
a
WoT
Thing
Description
<em class="rfc2119" title="MUST">
MUST
</em>
generate
data
organized
according
to
the
data
schemas
given
in
the
corresponding
interactions.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="server-data-schema">
A
WoT
Thing
Description
<em class="rfc2119" title="MUST">
MUST
</em>
accurately
describe
the
data
returned
and
accepted
by
each
interaction.
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "server-data-schema-extras">
A
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
<em class="rfc2119" title="MAY">
MAY
</em>
return
additional
data
from
an
interaction
even
when
such
data
is
not
described
in
the
data
schemas
given
in
its
WoT
Thing
Description.
</span>
<ins class="diff-new">This
applies
to
</ins><code><ins class="diff-new">
ObjectSchema
</ins></code><ins class="diff-new">
and
</ins><code><ins class="diff-new">
ArraySchema
</ins></code><ins class="diff-new">
(when
</ins><code><ins class="diff-new">
items
</ins></code><ins class="diff-new">
is
an
Array
of
</ins><code><ins class="diff-new">
DataSchema
</ins></code><ins class="diff-new">
)
where
there
can
be
additional
properties
or
items
in
the
data
returned.
This
behaves
as
if
</ins><code><ins class="diff-new">
"additionalProperties":true
</ins></code><ins class="diff-new">
or
</ins><code><ins class="diff-new">
"additionalItems":true
</ins></code><ins class="diff-new">
as
defined
in
[
</ins><cite><a class= "bibref" href="#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio"><ins class="diff-new">
JSON-SCHEMA
</ins></a>
</cite>
<ins class="diff-new">].
</ins>
</li>
<li>
<span class="rfc2119-assertion" id= "client-data-schema-accept-extras">
A
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
acting
as
a
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
when
interacting
with
another
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
accept
without
error
any
additional
data
not
described
in
the
data
schemas
given
in
the
Thing
Description
of
the
target
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>.
</span>
<ins class="diff-new">This
applies
to
</ins><code><ins class="diff-new">
ObjectSchema
</ins></code><ins class="diff-new">
and
</ins><code><ins class="diff-new">
ArraySchema
</ins></code><ins class="diff-new">
(when
</ins><code><ins class="diff-new">
items
</ins></code><ins class="diff-new">
is
an
Array
of
</ins><code><ins class="diff-new">
DataSchema
</ins></code><ins class="diff-new">
)
where
there
can
be
additional
properties
or
items
in
the
data
returned.
This
behaves
as
if
</ins><code><ins class="diff-new">
"additionalProperties":true
</ins></code><ins class="diff-new">
or
</ins><code><ins class="diff-new">
"additionalItems":true
</ins></code><ins class="diff-new">
as
defined
in
[
</ins><cite><a class= "bibref" href="#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio"><ins class="diff-new">
JSON-SCHEMA
</ins></a>
</cite>
<ins class="diff-new">].
</ins>
</li>
<li>
<span class="rfc2119-assertion" id= "client-data-schema-no-extras">
A
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
acting
as
a
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
when
interacting
with
another
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
<em class="rfc2119" title="MUST NOT">
MUST
NOT
</em>
generate
data
not
described
in
the
data
schemas
given
in
the
Thing
Description
of
that
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="client-uri-template">
A
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
acting
as
a
<a href="#dfn-consumer" class= "internalDFN" data-link-type="dfn">
Consumer
</a>
when
interacting
with
another
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
<em class="rfc2119" title= "MUST">
MUST
</em>
generate
URIs
according
to
the
URI
Templates,
base
URIs,
and
form
href
parameters
given
in
the
Thing
Description
of
the
target
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="server-uri-template">
URI
Templates,
base
URIs,
and
href
members
in
a
WoT
Thing
Description
<em class="rfc2119" title="MUST">
MUST
</em>
accurately
describe
the
<a href="#dfn-wot-interface" class="internalDFN" data-link-type= "dfn">
WoT
Interface
</a>
of
the
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>.
</span>
</li>
</ul>
</section>
<section id="protocol-bindings">
<h3 id="x8-3-protocol-bindings">
<bdi class="secno">
8.3
</bdi>
Protocol
Bindings
<a class="self-link" aria-label="§" href= "#protocol-bindings">
</a>
</h3>
<p>
A
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn">
Protocol
Binding
</a>
is
the
mapping
from
an
<a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn">
Interaction
Affordance
</a>
to
concrete
messages
of
a
specific
protocol
such
as
HTTP
[
<cite>
<a class= "bibref" href="#bib-rfc7231" title= "Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content" data-link-type="biblio">
RFC7231
</a>
</cite>
],
CoAP
[
<cite>
<a class= "bibref" href="#bib-rfc7252" title= "The Constrained Application Protocol (CoAP)" data-link-type= "biblio">
RFC7252
</a>
</cite>
],
or
MQTT
[
<cite>
<a class="bibref" href="#bib-mqtt" title="MQTT Version 3.1.1" data-link-type= "biblio">
MQTT
</a>
</cite>
].
<a href="#dfn-protocol-binding" class= "internalDFN" data-link-type="dfn">
Protocol
Bindings
</a>
of
<a href="#dfn-interaction-affordance" class="internalDFN" data-link-type="dfn">
Interaction
Affordances
</a>
are
serialized
as
<code>
forms
</code>
as
defined
in
<a href="#form-serialization-json" class="sec-ref">
§&nbsp;
<bdi class="secno">
6.3.9
</bdi>
<code>
forms
</code>
</a>.
</p>
<p>
Every
form
in
a
WoT
Thing
Description
must
have
a
submission
target,
given
by
the
<code>
href
</code>
member.
The
URI
scheme
of
this
submission
target
indicates
what
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>
the
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
implements
[
<cite>
<del class="diff-old">WoT-Architecture
</del>
<a class="bibref" href="#bib-wot-architecture" title= "Web of Things (WoT) Architecture" data-link-type= "biblio">
<ins class="diff-chg">WOT-ARCHITECTURE
</ins>
</a>
</cite>
].
For
instance,
if
the
target
starts
with
<code>
http
</code>
or
<code>
https
</code>,
a
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
can
then
infer
the
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
implements
the
<del class="diff-old">HTTP
</del>
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>
<ins class="diff-new">based
on
HTTP
</ins>
and
it
should
expect
HTTP-specific
terms
in
the
form
instance
(see
next
section,
<a href="#http-binding-assertions" class= "sec-ref">
§&nbsp;
<bdi class="secno">
8.3.1
</bdi>
<del class="diff-old">HTTP
</del>
Protocol
Binding
<ins class="diff-new">based
on
HTTP
</ins>
</a>
).
</p>
<ul>
<li>
<span class="rfc2119-assertion" id= "bindings-requirements-scheme">
Every
form
in
a
WoT
Thing
Description
<em class="rfc2119" title="MUST">
MUST
</em>
follow
the
requirements
of
the
<a href="#dfn-protocol-binding" class= "internalDFN" data-link-type="dfn">
Protocol
Binding
</a>
indicated
by
the
URI
scheme
of
its
<code>
href
</code>
member.
</span>
</li>
<li>
<span class="rfc2119-assertion" id= "bindings-server-accept">
Every
form
in
a
WoT
Thing
Description
<em class="rfc2119" title="MUST">
MUST
</em>
accurately
describe
requests
(including
request
headers,
if
present)
accepted
by
the
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
in
an
interaction.
</span>
</li>
</ul>
<section id="http-binding-assertions">
<h4 id="x8-3-1-protocol-binding-based-on-http">
<bdi class= "secno">
8.3.1
</bdi>
<del class="diff-old">HTTP
</del>
Protocol
Binding
<ins class="diff-chg">based
on
HTTP
</ins><a class= "self-link" aria-label="§" href= "#http-binding-assertions">
</a>
</h4>
<p>
Per
default
the
Thing
Description
supports
the
<del class="diff-old">HTTP
</del>
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>
<del class="diff-old">and
includes
</del>
<ins class="diff-chg">based
on
HTTP
by
including
</ins>
the
HTTP
RDF
vocabulary
<del class="diff-old">set
</del>
definitions
from
<em>
<ins class="diff-new">HTTP
Vocabulary
in
RDF
1.0
</ins></em>
[
<cite>
<a class="bibref" href="#bib-http-in-rdf10" title= "HTTP Vocabulary in RDF 1.0" data-link-type= "biblio">
HTTP-in-RDF10
</a>
</cite>
<del class="diff-old">]
and
</del>
<ins class="diff-chg">].
This
vocabulary
</ins>
can
be
directly
used
within
TD
instances
by
the
usage
of
the
prefix
<code>
htv
</code>,
which
points
to
<code>
http://www.w3.org/2011/http#
</code>.
<ins class="diff-new">Further
details
of
</ins><a href="#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn"><ins class="diff-new">
Protocol
Binding
</ins></a><ins class="diff-new">
based
on
HTTP
can
be
found
in
[
</ins><cite><a class="bibref" href="#bib-wot-binding-templates" title= "Web of Things (WoT) Protocol Binding Templates" data-link-type= "biblio"><ins class="diff-new">
WOT-BINDING-TEMPLATES
</ins></a></cite><ins class="diff-new">
].
</ins>
</p>
<p>
To
interact
with
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
that
implements
the
<del class="diff-old">HTTP
</del>
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
<del class="diff-old">,
</del>
</a>
<ins class="diff-chg">based
on
HTTP,
</ins>
a
<a href="#dfn-consumer" class="internalDFN" data-link-type="dfn">
Consumer
</a>
needs
to
know
what
HTTP
method
to
use
when
submitting
a
form.
In
the
general
case,
a
Thing
Description
can
explicitly
include
a
term
indicating
the
method,
i.e.,
<code>
htv:methodName
</code>.
For
the
sake
of
conciseness,
the
<del class="diff-old">HTTP
</del>
<a href="#dfn-protocol-binding" class= "internalDFN" data-link-type="dfn">
Protocol
Binding
</a>
<ins class="diff-new">based
on
HTTP
</ins>
defines
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Values
</a>
for
each
operation
type,
which
also
aims
at
convergence
of
the
methods
expected
by
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>
(e.g.,
GET
to
read,
PUT
to
write).
<span class="rfc2119-assertion" id="td-default-http-method">
When
no
method
is
indicated
in
a
form
representing
an
<del class="diff-old">HTTP
</del>
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn">
Protocol
Binding
<del class="diff-old">,
</del>
</a>
<ins class="diff-chg">based
on
HTTP,
</ins>
a
<a href= "#dfn-default-value" class="internalDFN" data-link-type= "dfn">
Default
Value
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
be
assumed
as
shown
in
the
following
table.
</span>
</p>
<table class="def">
<thead>
<tr>
<th>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
term
</a>
</th>
<th>
Default
value
</th>
<th>
Context
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-default-assertion" id= "td-default-http-method_get">
<td>
<code>
htv:methodName
</code>
</td>
<td>
<code>
GET
</code>
</td>
<td>
<code>
Form
</code>
with
operation
type
<code>
readproperty
</code>
</td>
</tr>
<tr class="rfc2119-default-assertion" id= "td-default-http-method_put">
<td>
<code>
htv:methodName
</code>
</td>
<td>
<code>
PUT
</code>
</td>
<td>
<code>
Form
</code>
with
operation
type
<code>
writeproperty
</code>
</td>
</tr>
<tr class="rfc2119-default-assertion" id= "td-default-http-method_post">
<td>
<code>
htv:methodName
</code>
</td>
<td>
<code>
POST
</code>
</td>
<td>
<code>
Form
</code>
with
operation
type
<code>
invokeaction
</code>
</td>
</tr>
</tbody>
</table>
<p>
For
example,
the
<a href= "#simple-thing-description-sample">
<ins class="diff-new">Example
1
</ins></a><ins class="diff-new">
in
</ins><a href= "#introduction" class="sec-ref"><ins class="diff-new">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-new">
1.
</ins></bdi><ins class="diff-new">
Introduction
</ins></a><ins class="diff-new">
does
not
contain
operation
types
and
HTTP
methods
in
the
forms.
The
</ins>
following
<a href="#dfn-default-value" class= "internalDFN" data-link-type="dfn">
Default
Values
</a>
should
be
assumed
for
<ins class="diff-new">the
</ins>
forms
in
the
<del class="diff-old">introductory
TD
example:
</del>
<a href= "#simple-thing-description-sample">
<ins class="diff-chg">Example
1
</ins></a>:
</p>
<aside class="example with-default" id="example-32">
<div class="marker">
<a class="self-link" href="#example-32">
Example
<bdi>
32
</bdi>
</a>
</div>
<div class="with-default-control">
<input type="checkbox" />
<span>
<i>
with
default
<del class="diff-old">HTTP
</del>
<ins class="diff-chg">values
for
</ins>
Protocol
Binding
<del class="diff-old">values
</del>
<ins class="diff-chg">based
on
HTTP
</ins>
</i>
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class=
"hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                    <span class=
"hljs-attr">"subprotocol"</span>: <span class=
"hljs-string">"longpoll"</span>
                }
            ]
        }
    }
}
</code>
</pre>
<pre aria-busy="false" class="selected"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"securityDefinitions"</span>: {
        <span class="hljs-attr">"basic_sc"</span>: {
            <span class="hljs-attr">"scheme"</span>: <span class=
"hljs-string">"basic"</span>,
            <span class="hljs-attr">"in"</span>: <span class=
"hljs-string">"header"</span>
        }
    },
    <span class="hljs-attr">"security"</span>: [
        <span class="hljs-string">"basic_sc"</span>
    ],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"op"</span>: <span class=
"hljs-string">"readproperty"</span>,
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                    <span class=
"hljs-attr">"htv:methodName"</span>: <span class=
"hljs-string">"GET"</span>
                },
                {
                    <span class=
"hljs-attr">"op"</span>: <span class=
"hljs-string">"writeproperty"</span>,
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                    <span class=
"hljs-attr">"htv:methodName"</span>: <span class=
"hljs-string">"PUT"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"op"</span>: <span class=
"hljs-string">"invokeaction"</span>,
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>,
                    <span class=
"hljs-attr">"htv:methodName"</span>: <span class=
"hljs-string">"POST"</span>
                }
            ]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
<ins class="diff-new">"hljs-attr">"op"</span>: <span class=
"hljs-string">"subscribeevent"</span>,
</ins>                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                    <span class=
"hljs-attr">"subprotocol"</span>: <span class=
"hljs-string">"longpoll"</span>
                }
            ]
        }
    }
}
</code>
</pre>
</aside>
</section>
<section id="other-protocol-bindings">
<h4 id="x8-3-2-other-protocol-bindings">
<bdi class= "secno">
8.3.2
</bdi>
Other
Protocol
Bindings
<a class="self-link" aria-label="§" href="#other-protocol-bindings">
</a>
</h4>
<p>
The
number
of
<a href="#dfn-protocol-binding" class= "internalDFN" data-link-type="dfn">
Protocol
Bindings
</a>
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
can
implement
is
not
restricted.
Other
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn">
Protocol
Bindings
</a>
(e.g.,
for
CoAP,
MQTT,
or
OPC
UA)
are
intended
to
be
standardized
in
separate
documents
such
as
a
protocol
<a href="#dfn-vocab" class="internalDFN" data-link-type="dfn">
Vocabulary
</a>
similar
to
<em>
HTTP
Vocabulary
in
RDF
1.0
</em>
[
<cite>
<a class="bibref" href= "#bib-http-in-rdf10" title="HTTP Vocabulary in RDF 1.0" data-link-type="biblio">
HTTP-in-RDF10
</a>
</cite>
]
or
specifications
including
<a href="#dfn-default-value" class="internalDFN" data-link-type="dfn">
Default
Value
</a>
definitions.
Such
protocols
can
be
simply
integrated
into
the
TD
by
the
usage
of
the
<del class="diff-old">context
extension
</del>
<a href= "#dfn-context-ext" class="internalDFN" data-link-type="dfn">
<ins class="diff-chg">TD
Context
Extension
</ins></a>
mechanism
<del class="diff-old">(
</del>
<ins class="diff-chg">(see
</ins><a href= "#sec-context-extensions" class="sec-ref">
§&nbsp;
<bdi class= "secno">
7.
</bdi>
TD
Context
Extensions
</a>
).
</p>
<p>
<ins class="diff-new">Please
refer
to
[
</ins><cite><a class="bibref" href= "#bib-wot-binding-templates" title= "Web of Things (WoT) Protocol Binding Templates" data-link-type= "biblio"><ins class="diff-new">
WOT-BINDING-TEMPLATES
</ins></a></cite><ins class="diff-new">
]
for
information
on
how
to
describe
IoT
platforms
and
ecosystems.
</ins></p>
</section>
</section>
</section>
<section id="sec-security-consideration" class="informative">
<h2 id="x9-security-and-privacy-considerations">
<bdi class= "secno">
9.
</bdi>
Security
and
Privacy
Considerations
<a class= "self-link" aria-label="§" href= "#sec-security-consideration">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
In
general
the
security
measures
taken
to
protect
a
WoT
system
will
depend
on
the
threats
and
attackers
that
system
may
face
and
the
value
of
the
assets
needs
to
protect.
<ins class="diff-new">In
addition
privacy
risks
will
depend
on
the
association
of
Things
with
identifiable
people
and
both
the
direct
information
and
the
inferred
information
available
from
such
an
association.
</ins>
A
detailed
discussion
of
security
and
privacy
considerations
for
the
Web
of
Things,
including
a
threat
model
that
can
be
adapted
to
various
circumstances,
is
presented
in
the
informative
document
[
<cite>
<del class="diff-old">WOT-SECURITY-CONSIDERATIONS
</del>
<a class="bibref" href="#bib-wot-security-guidelines" title= "Web of Things (WoT) Security and Privacy Guidelines" data-link-type="biblio">
<ins class="diff-chg">WOT-SECURITY-GUIDELINES
</ins>
</a>
</cite>
].
This
section
discusses
only
security
and
privacy
risks
and
possible
mitigations
directly
relevant
to
the
WoT
Thing
Description.
</p>
<p>
A
WoT
Thing
Description
can
describe
both
secure
and
insecure
network
interfaces.
When
a
Thing
Description
is
retro-fitted
to
an
existing
network
interface,
no
change
in
the
security
status
of
the
network
interface
is
to
be
expected.
</p>
<p>
The
use
of
a
WoT
Thing
Description
introduces
the
security
and
privacy
risks
given
in
the
following
sections.
After
each
risk,
we
suggest
some
possible
mitigations.
</p>
<section id="sec-security-consideration-context">
<h3 id="x9-1-context-dereferencing-privacy-risk">
<bdi class= "secno">
9.1
</bdi>
Context
Dereferencing
Privacy
Risk
<a class= "self-link" aria-label="§" href= "#sec-security-consideration-context">
</a>
</h3>
<p>
Deferencing
the
vocabulary
files
given
in
the
<code>
@context
</code>
member
of
any
JSON-LD
[
<cite>
<a class= "bibref" href="#bib-json-ld11" title="JSON-LD 1.1" data-link-type= "biblio">
json-ld11
</a>
</cite>
]
document
can
be
a
privacy
risk.
In
the
case
of
the
WoT,
an
attacker
can
observe
the
network
traffic
produced
by
such
deferences
and
can
use
the
metadata
of
the
dereference,
such
as
the
destination
IP
address,
to
infer
information
about
the
device
especially
if
domain-specific
vocabularies
are
used.
This
is
a
risk
even
if
the
connection
is
encrypted,
and
is
related
to
DNS
privacy
leaks.
</p>
<dl>
<dt>
Mitigation:
</dt>
<dd>
Avoid
actual
dereferencing
of
vocabulary
files.
Vocabulary
files
should
be
cached
whenever
possible.
Ideally
they
would
be
made
immutable,
built
into
the
interpreting
device,
and
not
dereferenced
at
all,
with
the
URI
in
the
<code>
@context
</code>
member
serving
only
as
an
identifier
of
the
(known)
vocabulary.
This
requires
the
use
of
strict
version
control,
as
updates
should
use
a
new
URI
to
ensure
that
existing
URIs
can
refer
to
immutable
data.
Use
well-known
standard
vocabulary
files
whenever
possible
to
improve
the
chances
that
the
context
file
will
be
available
locally
to
systems
interpreting
the
metadata
in
a
Thing
Description.
</dd>
</dl>
</section>
<section id="sec-security-consideration-id">
<h3 id="x9-2-immutable-identifiers-privacy-risk">
<bdi class= "secno">
9.2
</bdi>
Immutable
Identifiers
Privacy
Risk
<a class= "self-link" aria-label="§" href= "#sec-security-consideration-id">
</a>
</h3>
<p>
<del class="diff-old">The
fact
that
a
</del>
<ins class="diff-chg">A
</ins>
Thing
Description
<del class="diff-old">contains
a
unique
</del>
<ins class="diff-chg">containing
an
</ins>
identifier
<del class="diff-old">means
</del>
<ins class="diff-chg">(
</ins><code><ins class="diff-chg">
id
</ins></code><ins class="diff-chg">
)
may
describe
a
Thing
</ins>
that
<del class="diff-old">should
it
be
</del>
<ins class="diff-chg">is
</ins>
associated
with
<ins class="diff-new">an
identifiable
person.
Such
identifiers
pose
various
risks
including
tracking.
However,
if
the
identifier
is
also
immutable,
then
the
tracking
risk
is
amplified,
since
</ins>
a
<del class="diff-old">person
it
can
</del>
<ins class="diff-chg">device
may
</ins>
be
<del class="diff-old">used
</del>
<ins class="diff-chg">sold
or
given
</ins>
to
<del class="diff-old">track
that
</del>
<ins class="diff-chg">another
</ins>
person
and
<del class="diff-old">therefore
pose
a
risk
</del>
<ins class="diff-chg">the
known
ID
used
</ins>
to
<del class="diff-old">privacy.
</del>
<ins class="diff-chg">track
that
person.
</ins>
</p>
<dl>
<dt>
Mitigation:
</dt>
<dd>
All
identifiers
should
be
mutable,
and
there
should
be
a
mechanism
to
update
the
<code>
id
</code>
of
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>.
Specifically,
the
<code>
id
</code>
of
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
should
not
be
fixed
in
hardware.
This
does,
however,
conflict
with
the
Linked
Data
ideal
that
identifiers
are
fixed
URIs.
In
many
circumstances
it
will
be
acceptable
to
only
allow
updates
to
identifiers
if
a
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
is
reinitialized.
In
this
case
as
a
software
entity
the
old
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
ceases
to
exist
and
a
new
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
is
created.
This
can
be
sufficient
to
break
a
tracking
chain
when,
for
example,
a
device
is
sold
to
a
new
owner.
Alternatively,
if
more
frequent
changes
are
desired
during
the
operational
phase
of
a
device,
a
mechanism
can
be
put
into
place
to
notify
only
authorized
users
of
the
change
in
identifier
when
a
change
is
made.
Note
however
that
some
classes
of
devices,
<del class="diff-old">e.g.
</del>
<ins class="diff-chg">e.g.,
</ins>
medical
devices,
may
require
immutable
IDs
by
law
in
some
jurisdictions.
In
this
case
extra
attention
should
be
paid
to
secure
access
to
files,
such
as
Thing
Descriptions,
containing
such
immutable
identifiers.
<ins class="diff-new">It
may
also
be
desirable
to
not
share
the
"true"
immutable
identifier
in
such
a
case
in
the
TD
whenever
possible.
</ins>
</dd>
</dl>
</section>
<section id="sec-security-consideration-fingerprint">
<h3 id="x9-3-fingerprinting-privacy-risk">
<bdi class= "secno">
9.3
</bdi>
Fingerprinting
Privacy
Risk
<a class="self-link" aria-label="§" href= "#sec-security-consideration-fingerprint">
</a>
</h3>
<p>
As
noted
above,
the
<code>
id
</code>
member
in
a
TD
can
pose
a
privacy
risk.
However,
even
if
the
<code>
id
</code>
is
updated
as
described
to
mitigate
its
tracking
risk,
it
may
still
be
possible
to
associate
a
TD
with
a
particular
physical
device,
and
from
there
to
<del class="diff-old">a
</del>
<ins class="diff-chg">an
identifiable
</ins>
person,
through
fingerprinting.
</p>
<p>
<ins class="diff-new">Even
if
a
specific
device
instance
cannot
be
identified
through
fingerprinting,
it
may
be
possible
to
infer
the
type
of
a
device
from
the
information
in
the
TD,
such
as
the
set
of
interactions,
and
use
this
type
to
infer
private
information
about
an
identifiable
person,
such
as
a
medical
condition.
</ins></p>
<dl>
<dt>
Mitigation:
</dt>
<dd>
Only
authorized
users
should
be
provided
access
to
the
Thing
Description
for
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
<del class="diff-old">.
</del>
</a>,
<ins class="diff-chg">and
only
the
amount
of
information
needed
for
the
level
of
authorization
and
the
use
case
should
be
provided.
</ins>
If
the
TD
is
only
distributed
to
authorized
users
through
secure
and
confidential
channels,
for
example
through
a
directory
service
that
requires
authentication,
<ins class="diff-new">then
external
unauthorized
parties
will
not
have
access
to
</ins>
the
<del class="diff-old">risk
</del>
<ins class="diff-chg">TD
to
fingerprint
it.
To
further
mitigate
this
risk,
information
not
necessary
for
a
particular
use
case
of
a
TD
should
be
omitted
whenever
possible.
For
example,
for
an
ad-hoc
connection
to
a
device
where
the
Consumer
does
not
store
state
about
the
Thing,
the
</ins><code><ins class="diff-chg">
id
</ins></code>
can
be
<del class="diff-old">minimized.
</del>
<ins class="diff-chg">omitted.
If
the
Consumer
does
not
need
certain
interactions
for
its
use
case,
they
can
be
omitted.
If
the
Consumer
is
not
authorized
to
use
certain
interactions,
they
can
likewise
be
omitted.
If
the
Consumer
does
not
have
any
capability
to
display
human-readable
information
such
as
titles
or
descriptions,
they
can
be
omitted
or
replaced
with
zero-length
strings.
</ins>
</dd>
</dl>
</section>
<section id="sec-security-consideration-global-id-risk">
<h3 id="x9-4-globally-unique-identifier-privacy-risk">
<bdi class= "secno">
<ins class="diff-chg">9.4
</ins></bdi><ins class="diff-chg">
Globally
Unique
Identifier
Privacy
Risk
</ins><a class= "self-link" aria-label="§" href= "#sec-security-consideration-global-id-risk"></a>
</h3>
<p>
<ins class="diff-new">Globally
unique
identifiers
pose
a
privacy
risk
if
a
centralized
authority
is
needed
to
create
and
distribute
them,
since
then
a
third
party
has
knowledge
of
the
identifiers.
</ins></p><dl><dt><ins class="diff-new">
Mitigation:
</ins></dt><dd><ins class="diff-new">
The
</ins><code><ins class="diff-new">
id
</ins></code><ins class="diff-new">
field
in
TDs
are
intentionally
not
required
to
be
globally
unique.
There
are
several
cryptographic
mechanisms
available
to
generate
suitable
IDs
in
a
distributed
fashion
that
do
not
require
a
central
registry.
These
mechanisms
typically
have
a
a
very
low
probability
of
generating
duplicate
identifiers,
and
this
needs
to
be
taken
into
account
in
the
system
design;
for
example,
by
detecting
duplicates
and
regenerating
IDs
when
necessary.
The
scope
of
IDs
also
does
not
need
to
be
global:
it
is
acceptable
to
use
identifiers
that
only
distinguish
Things
in
a
certain
context,
such
as
within
a
home
or
factory.
</ins></dd></dl></section><section id="sec-security-consideration-TD-tampering"><h3 id="x9-5-td-interception-and-tampering-security-risk">
<bdi class="secno">
<del class="diff-old">9.4
</del>
<ins class="diff-chg">9.5
</ins>
</bdi>
TD
Interception
and
Tampering
Security
Risk
<a class="self-link" aria-label="§" href= "#sec-security-consideration-TD-tampering">
</a>
</h3>
<p>
Intercepting
and
tampering
with
TDs
can
be
used
to
launch
man-in-the-middle
attacks,
for
example
by
rewriting
URLs
in
TDs
to
redirect
accesses
to
a
malicious
intermediary
that
can
capture
or
manipulate
data.
</p>
<dl>
<dt>
Mitigation:
</dt>
<dd>
Obtain
Thing
Descriptions
only
through
mutually
authenticated
channels.
This
ensures
that
the
<a href="#dfn-consumer" class= "internalDFN" data-link-type="dfn">
Consumer
</a>
and
the
server
are
both
sure
of
the
identity
of
the
other
party
to
the
communication.
This
is
also
necessary
in
order
to
deliver
TDs
only
to
authorized
users.
</dd>
</dl>
</section>
<section id="sec-security-consideration-context-tampering">
<h3 id="x9-6-context-interception-and-tampering-security-risk">
<bdi class="secno">
<del class="diff-old">9.5
</del>
<ins class="diff-chg">9.6
</ins>
</bdi>
Context
Interception
and
Tampering
Security
Risk
<a class="self-link" aria-label="§" href= "#sec-security-consideration-context-tampering">
</a>
</h3>
<p>
Intercepting
and
tampering
with
context
files
can
be
used
to
facilitate
attacks
by
modifying
the
interpretation
of
vocabulary.
</p>
<dl>
<dt>
Mitigation:
</dt>
<dd>
Ideally
context
files
would
only
be
obtained
through
authenticated
channels
but
it
is
notable
(and
unfortunate)
that
many
contexts
are
indicated
using
HTTP
URLs,
which
are
vulnerable
to
interception
and
modification
if
dereferenced.
However,
if
context
files
are
immutable
and
cached,
and
dereferencing
is
avoided
whenever
possible,
then
this
risk
can
be
reduced.
</dd>
</dl>
</section>
<section id="sec-security-consideration-inferencing">
<h3 id= "x9-7-inferencing-of-personally-identifiable-information-privacy-risk">
<bdi class="secno">
<del class="diff-old">9.6
</del>
<ins class="diff-chg">9.7
</ins>
</bdi>
Inferencing
of
Personally
Identifiable
Information
Privacy
Risk
<a class="self-link" aria-label="§" href= "#sec-security-consideration-inferencing">
</a>
</h3>
<p>
In
many
locales,
in
order
to
protect
the
privacy
of
users,
there
are
legal
requirements
for
the
handling
of
personally
identifiable
information,
that
is,
information
that
can
be
associated
with
a
particular
person.
Such
information
can
of
course
be
generated
by
IoT
devices
directly.
However,
the
existence
and
metadata
of
IoT
devices
(the
kind
of
data
stored
in
a
Thing
Description)
can
also
contain
or
be
used
to
infer
personally
identifiable
information.
This
information
can
be
as
simple
as
the
fact
that
a
certain
person
owns
a
certain
type
of
device,
which
can
lead
to
additional
inferences
about
that
person.
</p>
<dl>
<dt>
Mitigation:
</dt>
<dd>
Treat
a
Thing
Description
associated
with
a
personal
device
as
if
it
contained
personally
identifiable
information.
As
an
example
application
of
this
principle,
consider
how
to
obtain
user
consent.
Consent
for
usage
of
personally
identifiable
data
generated
by
a
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Thing
</a>
is
often
obtained
when
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
is
paired
with
system
consuming
the
data,
which
is
frequently
also
when
the
Thing
Description
is
registered
with
a
local
directory
or
the
system
consuming
the
Thing
Description
in
order
to
access
the
device.
In
this
case,
consent
for
using
data
from
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
can
be
combined
with
consent
for
accessing
the
Thing
Description
of
the
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>.
As
a
second
example,
if
we
consider
a
TD
to
contain
personally
identifiable
information,
then
it
should
not
be
retained
indefinitely
or
used
for
purposes
other
than
those
for
which
consent
was
given.
</dd>
</dl>
</section>
</section>
<section id="iana-section" class="normative">
<h2 id="x10-iana-considerations">
<bdi class="secno">
10.
</bdi>
IANA
Considerations
<a class="self-link" aria-label="§" href= "#iana-section">
</a>
</h2>
<section id="media-type-section">
<h3 id="x10-1-application-td-json-media-type-registration">
<bdi class="secno">
10.1
</bdi>
<code>
application/td+json
</code>
Media
Type
Registration
<a class="self-link" aria-label="§" href= "#media-type-section">
</a>
</h3>
<dl>
<dt>
Type
name:
</dt>
<dd>
application
</dd>
<dt>
Subtype
name:
</dt>
<dd>
td+json
</dd>
<dt>
Required
parameters:
</dt>
<dd>
None
</dd>
<dt>
Optional
parameters:
</dt>
<dd>
None
</dd>
<dt>
Encoding
considerations:
</dt>
<dd>
See
<a href= "https://tools.ietf.org/html/rfc6839#section-3.1">
RFC&nbsp;6839,
section
3.1
</a>.
</dd>
<dt>
Security
considerations:
</dt>
<dd>
See
<a href= "https://tools.ietf.org/html/rfc8259">
RFC&nbsp;8259
</a>.
<p>
<span class="rfc2119-assertion" id= "iana-security-execution">
Since
WoT
Thing
Description
is
intended
to
be
a
pure
data
exchange
format
for
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>
metadata,
the
serialization
<em class="rfc2119" title="SHOULD NOT">
SHOULD
NOT
</em>
be
passed
through
a
code
execution
mechanism
such
as
JavaScript's
<code>
eval()
</code>
function
to
be
parsed.
</span>
An
(invalid)
document
may
contain
code
that,
when
executed,
could
lead
to
unexpected
side
effects
compromising
the
security
of
a
system.
</p>
<p>
WoT
Thing
Descriptions
can
be
evaluated
with
a
JSON-LD
1.1
processor,
which
typically
follows
links
to
remote
contexts
(i.e.,
TD
context
extensions,
see
<a href="#sec-context-extensions" class= "sec-ref">
§&nbsp;
<bdi class="secno">
7.
</bdi>
TD
Context
Extensions
</a>
)
automatically,
resulting
in
the
transfer
of
files
without
the
explicit
request
of
the
<a href="#dfn-consumer" class= "internalDFN" data-link-type="dfn">
Consumer
</a>
for
each
one.
If
remote
contexts
are
served
by
third
parties,
it
may
allow
them
to
gather
usage
patterns
or
similar
information
leading
to
privacy
concerns.
<span class="rfc2119-assertion" id= "iana-security-remote">
While
implementations
on
resource-constrained
devices
are
expected
to
perform
raw
JSON
processing
(as
opposed
to
JSON-LD
processing),
implementations
in
general
<em class="rfc2119" title="SHOULD">
SHOULD
</em>
statically
cache
vetted
versions
of
their
supported
context
extensions
and
not
to
follow
links
to
remote
contexts.
</span>
Supported
context
extensions
can
be
managed
through
a
secure
software
update
mechanism
instead.
</p>
<p>
Context
Extensions
(see
<a href="#sec-context-extensions" class= "sec-ref">
§&nbsp;
<bdi class="secno">
7.
</bdi>
TD
Context
Extensions
</a>
)
that
are
loaded
from
the
Web
over
non-secure
connections,
such
as
HTTP,
run
the
risk
of
being
altered
by
an
attacker
such
that
they
may
modify
the
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
Information
Model
</a>
in
a
way
that
could
compromise
security.
<span class= "rfc2119-assertion" id="iana-security-alter">
For
this
reason,
<a href="#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
again
<em class="rfc2119" title= "SHOULD">
SHOULD
</em>
vet
and
cache
remote
contexts
before
allowing
the
system
to
use
it.
</span>
</p>
<p>
Given
that
JSON-LD
processing
usually
includes
the
substitution
of
long
IRIs
<ins class="diff-new">[
</ins><cite><a class="bibref" href="#bib-rfc3987" title= "Internationalized Resource Identifiers (IRIs)" data-link-type= "biblio"><ins class="diff-new">
RFC3987
</ins></a></cite><ins class="diff-new">
]
</ins>
with
short
terms,
WoT
Thing
Descriptions
may
expand
considerably
when
processed
using
a
JSON-LD
1.1
processor
and,
in
the
worst
case,
the
resulting
data
might
consume
all
of
the
recipient's
resources.
<span class= "rfc2119-assertion" id="iana-security-expansion">
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumers
</a>
<em class="rfc2119" title="SHOULD">
SHOULD
</em>
treat
any
TD
metadata
with
due
skepticism.
</span>
</p>
</dd>
<dt>
Interoperability
considerations:
</dt>
<dd>
See
<a href= "https://tools.ietf.org/html/rfc8259">
RFC&nbsp;8259
</a>.
<p>
Rules
for
processing
both
conforming
and
non-conforming
content
are
defined
in
this
specification.
</p>
</dd>
<dt>
Published
specification:
</dt>
<dd>
<a href= "https://w3c.github.io/wot-thing-description">
https://w3c.github.io/wot-thing-description
</a>
</dd>
<dt>
Applications
that
use
this
media
type:
</dt>
<dd>
All
participating
entities
in
the
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
Web
of
Things,
that
is,
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>,
<a href="#dfn-consumer" class="internalDFN" data-link-type="dfn">
Consumers
</a>,
and
Intermediaries
as
defined
in
the
<a href="https://www.w3.org/TR/wot-architecture">
Web
of
Things
(WoT)
Architecture
</a>.
</dd>
<dt>
Fragment
identifier
considerations:
</dt>
<dd>
See
<a href= "https://tools.ietf.org/html/rfc6839#section-3.1">
RFC&nbsp;6839,
section
3.1
</a>.
</dd>
<dt>
Additional
information:
</dt>
<dd>
<dl>
<dt>
Magic
number(s):
</dt>
<dd>
Not
Applicable
</dd>
<dt>
File
extension(s):
</dt>
<dd>.jsontd
</dd>
<dt>
Macintosh
file
type
code(s):
</dt>
<dd>
TEXT
</dd>
</dl>
</dd>
<dt>
Person
&amp;
email
address
to
contact
for
further
information:
</dt>
<dd>
Matthias
Kovatsch
&lt;w3c@kovatsch.net&gt;
</dd>
<dt>
Intended
usage:
</dt>
<dd>
COMMON
</dd>
<dt>
Restrictions
on
usage:
</dt>
<dd>
None
</dd>
<dt>
Author(s):
</dt>
<dd>
The
WoT
Thing
Description
specification
is
a
product
of
the
Web
of
Things
Working
Group.
</dd>
<dt>
Change
controller:
</dt>
<dd>
<abbr title="World Wide Web Consortium">
W3C
</abbr>
</dd>
</dl>
</section>
<section id="content-format-section">
<h3 id="x10-2-coap-content-format-registration">
<bdi class= "secno">
10.2
</bdi>
CoAP
Content-Format
Registration
<a class= "self-link" aria-label="§" href="#content-format-section">
</a>
</h3>
<p>
IANA
assigns
compact
CoAP
Content-Format
IDs
for
media
types
in
the
<a href= "https://www.iana.org/assignments/core-parameters/core-parameters.xhtml#content-formats">
CoAP
Content-Formats
</a>
subregistry
within
the
<a href= "https://www.iana.org/assignments/core-parameters/core-parameters.xhtml">
Constrained
RESTful
Environments
(CoRE)
Parameters
</a>
registry
[
<cite>
<a class="bibref" href="#bib-rfc7252" title= "The Constrained Application Protocol (CoAP)" data-link-type= "biblio">
RFC7252
</a>
</cite>
].
The
Content-Format
ID
for
WoT
Thing
Description
is
(t.b.d.)
in
the
256-9999
range
(IETF
Review
or
IESG
Approval).
</p>
<dl>
<dt>
Media
Type:
</dt>
<dd>
application/td+json
</dd>
<dt>
Encoding:
</dt>
<dd>
-
</dd>
<dt>
ID:
</dt>
<dd>
T.B.D.
</dd>
<dt>
Reference:
</dt>
<dd>
[
<a href="https://w3c.github.io/wot-thing-description">
"Web
of
Things
(WoT)
Thing
Description",
May
2019
</a>
]
</dd>
</dl>
</section>
</section>
<section id="example-serialization" class="appendix informative">
<h2 id="a-example-thing-description-instances">
<bdi class= "secno">
A.
</bdi>
Example
Thing
Description
Instances
<a class= "self-link" aria-label="§" href="#example-serialization">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<section id="myLampThing-example-serialization">
<h3 id="a-1-mylampthing-example-with-coap-protocol-binding">
<bdi class="secno">
A.1
</bdi>
MyLampThing
Example
with
CoAP
Protocol
Binding
<a class="self-link" aria-label="§" href= "#myLampThing-example-serialization">
</a>
</h3>
<p>
Feature
list
of
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>:
</p>
<ul>
<li>
Title:
MyLampThing
</li>
<li>
Context
<del class="diff-old">extension:
</del>
<ins class="diff-chg">Extensions:
</ins>
none
</li>
<li>
Offered
affordances:
1
Property,
1
Action,
1
Event
</li>
<li>
Security:
PSKSecurityScheme
</li>
<li>
Protocol
Binding:
CoAP
[
<cite>
<a class="bibref" href= "#bib-rfc7252" title="The Constrained Application Protocol (CoAP)" data-link-type="biblio">
RFC7252
</a>
</cite>
]
over
TLS
</li>
<li>
Comment:
Also
see
<a href="#adding-protocol-bindings" class= "sec-ref">
§&nbsp;
<bdi class="secno">
7.2
</bdi>
Adding
Protocol
Bindings
</a>.
</li>
</ul>
<div class="example" id= "example-33-mylampthing-with-coap-protocol-binding">
<div class="marker">
<a class="self-link" href= "#example-33-mylampthing-with-coap-protocol-binding">
Example
<bdi>
33
</bdi>
</a>
<span class="example-title">:
MyLampThing
with
CoAP
Protocol
Binding
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
   <span class="hljs-attr">"@context"</span>: [
      <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
      {
      <span class="hljs-attr">"cov"</span>: <span class=
"hljs-string">"http://www.example.org/coap-binding#"</span>
      }
    ],
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"description"</span> : <span class=
"hljs-string">"MyLampThing uses JSON serialization"</span>,
    <span class=
"hljs-attr">"securityDefinitions"</span>: {<span class=
"hljs-attr">"psk_sc"</span>:{<span class=
"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"psk"</span>}},
    <span class="hljs-attr">"security"</span>: [<span class=
"hljs-string">"psk_sc"</span>],
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Shows the current status of the lamp"</span>,
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"op"</span>: <span class=
<ins class="diff-new">"hljs-string">"readproperty"</span>,
</ins>
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com/status"</span>,
                <span class=
"hljs-attr">"cov:methodName"</span> : <span class=
"hljs-string">"GET"</span> 
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Turn on or off the lamp"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com/toggle"</span>,
                <span class=
"hljs-attr">"cov:methodName"</span> : <span class=
"hljs-string">"POST"</span> 
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
            <span class="hljs-attr">"data"</span>: {<span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>},
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com/oh"</span>,
                <span class=
"hljs-attr">"cov:methodName"</span> : <span class=
"hljs-string">"GET"</span>,
                <span class=
"hljs-attr">"subprotocol"</span> : <span class=
"hljs-string">"cov:observe"</span> 
            }]
        }
    }
}
</code>
</pre>
</div>
</section>
<section id="myLightSensor-example-serialization">
<h3 id="a-2-mylightsensor-example-with-mqtt-protocol-binding">
<bdi class="secno">
A.2
</bdi>
MyLightSensor
Example
with
MQTT
Protocol
Binding
<a class="self-link" aria-label="§" href= "#myLightSensor-example-serialization">
</a>
</h3>
<p>
Feature
list
of
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>:
</p>
<ul>
<li>
Title:
MyLightSensor
</li>
<li>
Context
<del class="diff-old">extension:
</del>
<ins class="diff-chg">Extensions:
</ins>
none
</li>
<li>
Offered
affordances:
1
Event
</li>
<li>
Security:
none
</li>
<li>
Protocol
Binding:
MQTT
[
<cite>
<a class="bibref" href= "#bib-mqtt" title="MQTT Version 3.1.1" data-link-type= "biblio">
MQTT
</a>
</cite>
]
</li>
<li>
Comment:
An
MQTT
client
frequently
publishes
the
light
sensor
data
(number
is
serialized
in
text
format)
to
the
topic
<code>
/lightSensor
</code>
by
the
MQTT
broker
running
behind
the
address
192.168.1.187:1883.
</li>
</ul>
<div class="example" id= "example-34-mylightsensor-with-mqtt-protocol-binding">
<div class="marker">
<a class="self-link" href= "#example-34-mylightsensor-with-mqtt-protocol-binding">
Example
<bdi>
34
</bdi>
</a>
<span class="example-title">:
MyLightSensor
with
MQTT
Protocol
Binding
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{   
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"MyLightSensor"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLightSensor-1234"</span>,
    <span class=
"hljs-attr">"securityDefinitions"</span>: {<span class=
"hljs-attr">"nosec_sc"</span>: {<span class=
"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"nosec"</span>}},
    <span class="hljs-attr">"security"</span>: [<span class=
"hljs-string">"nosec_sc"</span>],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"lightSensor"</span>: {
            <span class="hljs-attr">"data"</span>:{<span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"integer"</span>},
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"mqtt://192.168.1.187:1883/lightSensor"</span>,
                    <span class=
"hljs-attr">"contentType"</span> : <span class=
"hljs-string">"text/plain"</span>
                }
            ]
        }
    } 
}
</code>
</pre>
</div>
</section>
<section id="webhook-example-serialization">
<h3 id="a-3-webhook-event-example">
<bdi class="secno">
A.3
</bdi>
Webhook
Event
Example
<a class="self-link" aria-label="§" href= "#webhook-example-serialization">
</a>
</h3>
<p>
Feature
list
of
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>:
</p>
<ul>
<li>
Title:
WebhookThing
</li>
<li>
Context
<del class="diff-old">extension:
</del>
<ins class="diff-chg">Extensions:
</ins>
use
HTTP
<a href="#dfn-protocol-binding" class="internalDFN" data-link-type="dfn">
Protocol
Binding
</a>
supplements
(htv
prefix
already
included
in
TD
context)
</li>
<li>
Offered
affordances:
1
Event
</li>
<li>
Security:
none
</li>
<li>
Protocol
Binding:
HTTP
</li>
<li>
Comment:
<i>
WebhookThing
</i>
provides
an
Event
affordance
<code>
temperature
</code>
which
periodically
pushes
the
latest
temperature
value
to
the
<a href="#dfn-consumer" class= "internalDFN" data-link-type="dfn">
Consumer
</a>
using
a
Webhook
mechanism,
where
the
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
sends
POST
requests
to
a
callback
URI
provided
by
the
<a href="#dfn-consumer" class="internalDFN" data-link-type="dfn">
Consumer
</a>.
To
describe
this,
the
<code>
subscription
</code>
member
defines
a
write-only
parameter
<code>
callbackURL
</code>,
which
must
be
submitted
through
the
<code>
subscribeevent
</code>
form.
The
read-only
parameter
<code>
subscriptionID
</code>
is
returned
by
the
subscription.
The
<i>
WebhookThing
</i>
will
then
periodically
POST
to
this
callback
URI
with
a
payload
defined
by
<code>
data
</code>.
To
unsubscribe,
the
<a href="#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
has
to
submit
the
<code>
unsubscribeevent
</code>
form,
which
makes
use
of
a
URI
Template.
The
<code>
uriVariables
</code>
member
informs
the
<a href= "#dfn-consumer" class="internalDFN" data-link-type= "dfn">
Consumer
</a>
to
include
the
<code>
subscriptionID
</code>
string.
This
can
be
further
automated
by
using
a
<del class="diff-old">context
extension
</del>
<a href= "#dfn-context-ext" class="internalDFN" data-link-type="dfn">
<ins class="diff-chg">TD
Context
Extension
</ins></a>
to
include
proper
semantic
annotations.
Alternatively,
one
can
imagine
unsubscribing
using
the
<code>
cancellation
</code>
member
similarly
to
<code>
subscription
</code>
and
combine
this
with
a
<code>
unsubscribeevent
</code>
form
that
describes
a
POST
request
with
payload
to
unsubscribe.
</li>
</ul>
<div class="example" id= "example-35-temperature-event-with-subscription-and-cancellation">
<div class="marker">
<a class="self-link" href= "#example-35-temperature-event-with-subscription-and-cancellation">
Example
<bdi>
35
</bdi>
</a>
<span class="example-title">:
Temperature
Event
with
subscription
and
cancellation
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-Thing-1234"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
"hljs-string">"WebhookThing"</span>,
    <span class="hljs-attr">"description"</span>: <span class=
"hljs-string">"Webhook-based Event with subscription and unsubscribe form."</span>,
    <span class=
"hljs-attr">"securityDefinitions"</span>: {<span class=
"hljs-attr">"nosec_sc"</span>: {<span class=
"hljs-attr">"scheme"</span>: <span class=
"hljs-string">"nosec"</span>}},
    <span class="hljs-attr">"security"</span>: [<span class=
"hljs-string">"nosec_sc"</span>],
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"temperature"</span>: {
            <span class=
"hljs-attr">"description"</span>: <span class=
"hljs-string">"Provides periodic temperature value updates."</span>,
            <span class="hljs-attr">"subscription"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"object"</span>,
                <span class="hljs-attr">"properties"</span>: {
                    <span class="hljs-attr">"callbackURL"</span>: {
                        <span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
                        <span class=
"hljs-attr">"format"</span>: <span class=
"hljs-string">"uri"</span>,
                        <span class=
"hljs-attr">"description"</span>: <span class=
"hljs-string">"Callback URL provided by subscriber for Webhook notifications."</span>,
                        <span class=
"hljs-attr">"writeOnly"</span>: <span class=
"hljs-literal">true</span>
                    },
                    <span class=
"hljs-attr">"subscriptionID"</span>: {
                        <span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
                        <span class=
"hljs-attr">"description"</span>: <span class=
"hljs-string">"Unique subscription ID for cancellation provided by WebhookThing."</span>,
                        <span class=
"hljs-attr">"readOnly"</span>: <span class=
"hljs-literal">true</span>
                    }
                }
            },
            <span class="hljs-attr">"data"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"number"</span>,
                <span class=
"hljs-attr">"description"</span>: <span class=
"hljs-string">"Latest temperature value that is sent to the callback URL."</span>
            },
            <span class="hljs-attr">"cancellation"</span>: {
                <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"object"</span>,
                <span class="hljs-attr">"properties"</span>: {
                    <span class=
"hljs-attr">"subscriptionID"</span>: {
                        <span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"integer"</span>,
                        <span class=
"hljs-attr">"description"</span>: <span class=
"hljs-string">"Required subscription ID to cancel subscription."</span>,
                        <span class=
"hljs-attr">"writeOnly"</span>: <span class=
"hljs-literal">true</span>
                    }
                }
            },
            <span class="hljs-attr">"uriVariables"</span>: {
                <span class=
"hljs-attr">"subscriptionID"</span>: { <span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span> }
            },
            <span class="hljs-attr">"forms"</span>: [
                {
                    <span class=
"hljs-attr">"op"</span>: <span class=
"hljs-string">"subscribeevent"</span>,
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"http://192.168.0.124:8080/events/temp/subscribe"</span>,
                    <span class=
"hljs-attr">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
                    <span class=
"hljs-attr">"htv:methodName"</span>: <span class=
"hljs-string">"POST"</span>
                },
                {
                    <span class=
"hljs-attr">"op"</span>: <span class=
"hljs-string">"unsubscribeevent"</span>,
                    <span class=
"hljs-attr">"href"</span>: <span class=
"hljs-string">"http://192.168.0.124:8080/events/temp/{subscriptionID}"</span>,
                    <span class=
"hljs-attr">"htv:methodName"</span>: <span class=
"hljs-string">"DELETE"</span>
                }
            ]
        }
    }
}
</code>
</pre>
</div>
</section>
</section>
<section id="json-schema-for-validation" class= "appendix informative">
<h2 id="b-json-schema-for-td-instance-validation">
<bdi class= "secno">
B.
</bdi>
JSON
Schema
for
TD
Instance
Validation
<a class= "self-link" aria-label="§" href= "#json-schema-for-validation">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
Below
is
a
JSON
Schema
[
<cite>
<del class="diff-old">JSON-SCHEMA-VALIDATION
</del>
<a class="bibref" href= "#bib-json-schema" title= "JSON Schema Validation: A Vocabulary for Structural Validation of JSON" data-link-type="biblio">
<ins class="diff-chg">JSON-SCHEMA
</ins>
</a>
</cite>
]
document
for
syntactically
validating
Thing
Description
instances
serialized
in
JSON
based
format.
</p>
<div class="note" role="note" id="issue-container-generatedID-2">
<div role="heading" class="note-title marker" id="h-note-2" aria-level="3">
<span>
Note
</span>
</div>
<p class="">
The
Thing
Description
defined
by
this
document
allows
for
adding
external
vocabularies
by
using
<code>
@context
</code>
mechanism
known
from
JSON-LD
[
<cite>
<a class="bibref" href= "#bib-json-ld11" title="JSON-LD 1.1" data-link-type= "biblio">
json-ld11
</a>
</cite>
],
and
the
terms
in
those
external
vocabularies
can
be
used
in
addition
to
the
terms
defined
in
<a href="#sec-vocabulary-definition" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.
</bdi>
TD
Information
Model
</a>.
For
this
reason,
the
below
JSON
schema
is
intentionally
non-strict
in
that
regard.
You
can
replace
the
value
of
<code>
additionalProperties
</code>
schema
property
<code>
true
</code>
with
<code>
false
</code>
in
different
scopes/levels
in
order
to
perform
a
stricter
validation
in
case
no
external
vocabularies
are
used.
</p>
</div>
<div class="note" role="note" id="issue-container-generatedID-3">
<div role="heading" class="note-title marker" id="h-note-3" aria-level="3">
<span>
Note
</span>
</div>
<p class="">
Please
note
that
some
JSON
Schema
validation
tools
do
not
support
the
<code>
iri
</code>
string
format.
</p>
</div>
<p>
The
following
JSON
Schema
for
validating
TD
instances
does
not
require
the
terms
with
<a href="#dfn-default-value" class= "internalDFN" data-link-type="dfn">
Default
Values
</a>
to
be
present.
Thus
the
terms
with
<a href="#dfn-default-value" class= "internalDFN" data-link-type="dfn">
Default
Values
</a>
are
optional.
(see
also
<a href="#sec-default-values" class= "sec-ref">
§&nbsp;
<bdi class="secno">
5.4
</bdi>
Default
Value
Definitions
</a>
)
</p>
<pre class="advisement" aria-busy="false"><code class="hljs">    {
<del class="diff-old">    "title": "WoT TD Schema - 08 May 2019",
</del>
<ins class="diff-chg">    "title": "WoT TD Schema - 16 October 2019",
</ins>
    "description": "JSON Schema for validating TD instances against the TD model. TD instances can be with or without terms that have default values",
    "$schema ": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "thing-context-w3c-uri": {
            "type": "string",
            "enum": [
                "https://www.w3.org/2019/wot/td/v1"
            ]
        },
        "thing-context": {
            "oneOf": [{
                    "type": "array",
                    "items": {
                        "anyOf": [{
                                "$ref": "#/definitions/anyUri"
                            },
                            {
                                "type": "object"
                            }
                        ]
                    },
                    "contains": {
                        "$ref": "#/definitions/thing-context-w3c-uri"
                    }
                },
                {
                    "$ref": "#/definitions/thing-context-w3c-uri"
                }
            ]
        },
        "type_declaration": {
            "oneOf": [{
                    "type": "string"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            ]
        },
        "property_element": {
            "type": "object",
            "properties": {
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "title": {
                    "$ref": "#/definitions/title"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "uriVariables": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "forms": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/form_element_property"
                    }
                },
                "observable": {
                    "type": "boolean"
                },
                "writeOnly": {
                    "type": "boolean"
                },
                "readOnly": {
                    "type": "boolean"
                },
                "oneOf": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "unit": {
                    "type": "string"
                },
                "enum": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true
                },
                "format": {
                    "type": "string"
                },
                "const": {},
                "type": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "integer",
                        "number",
                        "string",
                        "object",
                        "array",
                        "null"
                    ]
                },
                "items": {
                    "oneOf": [{
                            "$ref": "#/definitions/dataSchema"
                        },
                        {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dataSchema"
                            }
                        }
                    ]
                },
                "maxItems": {
                    "type": "integer",
                    "minimum": 0
                },
                "minItems": {
                    "type": "integer",
                    "minimum": 0
                },
                "minimum": {
                    "type": "number"
                },
                "maximum": {
                    "type": "number"
                },
                "properties": {
                    "additionalProperties": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "required": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
        },
        "action_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "title": {
                    "$ref": "#/definitions/title"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "uriVariables": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "forms": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/form_element_action"
                    }
                },
                "input": {
                    "$ref": "#/definitions/dataSchema"
                },
                "output": {
                    "$ref": "#/definitions/dataSchema"
                },
                "safe": {
                    "type": "boolean"
                },
                "idempotent": {
                    "type": "boolean"
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
        },
        "event_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "title": {
                    "$ref": "#/definitions/title"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "uriVariables": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "forms": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/form_element_event"
                    }
                },
                "subscription": {
                    "$ref": "#/definitions/dataSchema"
                },
                "data": {
                    "$ref": "#/definitions/dataSchema"
                },
                "cancellation": {
                    "$ref": "#/definitions/dataSchema"
                },
                "type": {
                    "not": {}
                },
                "enum": {
                    "not": {}
                },
                "const": {
                    "not": {}
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
        },
        "form_element_property": {
            "type": "object",
            "properties": {
                "href": {
                    "$ref": "#/definitions/anyUri"
                },
                "op": {
                    "oneOf": [{
                            "type": "string",
                            "enum": [
                                "readproperty",
                                "writeproperty",
                                "observeproperty",
                                "unobserveproperty"
                            ]
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "readproperty",
                                    "writeproperty",
                                    "observeproperty",
                                    "unobserveproperty"
                                ]
                            }
                        }
                    ]
                },
                "contentType": {
                    "type": "string"
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subProtocol": {
                    "type": "string",
                    "enum": [
                        "longpoll",
                        "websub",
                        "sse"
                    ]
                },
                "response": {
                    "type": "object",
                    "properties": {
                        "contentType": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "form_element_action": {
            "type": "object",
            "properties": {
                "href": {
                    "$ref": "#/definitions/anyUri"
                },
                "op": {
                    "oneOf": [{
                            "type": "string",
                            "enum": [
                                "invokeaction"
                            ]
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "invokeaction"
                                ]
                            }
                        }
                    ]
                },
                "contentType": {
                    "type": "string"
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subProtocol": {
                    "type": "string",
                    "enum": [
                        "longpoll",
                        "websub",
                        "sse"
                    ]
                },
                "response": {
                    "type": "object",
                    "properties": {
                        "contentType": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "form_element_event": {
            "type": "object",
            "properties": {
                "href": {
                    "$ref": "#/definitions/anyUri"
                },
                "op": {
                    "oneOf": [{
                            "type": "string",
                            "enum": [
                                "subscribeevent",
                                "unsubscribeevent"
                            ]
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "subscribeevent",
                                    "unsubscribeevent"
                                ]
                            }
                        }
                    ]
                },
                "contentType": {
                    "type": "string"
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subProtocol": {
                    "type": "string",
                    "enum": [
                        "longpoll",
                        "websub",
                        "sse"
                    ]
                },
                "response": {
                    "type": "object",
                    "properties": {
                        "contentType": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "form_element_root": {
            "type": "object",
            "properties": {
                "href": {
                    "$ref": "#/definitions/anyUri"
                },
                "op": {
                    "oneOf": [{
                            "type": "string",
                            "enum": [
                                "readallproperties",
                                "writeallproperties",
                                "readmultipleproperties",
                                "writemultipleproperties"
                            ]
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "readallproperties",
                                    "writeallproperties",
                                    "readmultipleproperties",
                                    "writemultipleproperties"
                                ]
                            }
                        }
                    ]
                },
                "contentType": {
                    "type": "string"
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subProtocol": {
                    "type": "string",
                    "enum": [
                        "longpoll",
                        "websub",
                        "sse"
                    ]
                },
                "response": {
                    "type": "object",
                    "properties": {
                        "contentType": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "description": {
            "type": "string"
        },
        "title": {
            "type": "string"
        },
        "descriptions": {
            "type": "object"
        },
        "titles": {
            "type": "object"
        },
        "dataSchema": {
            "type": "object",
            "properties": {
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "title": {
                    "$ref": "#/definitions/title"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "writeOnly": {
                    "type": "boolean"
                },
                "readOnly": {
                    "type": "boolean"
                },
                "oneOf": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "unit": {
                    "type": "string"
                },
                "enum": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true
                },
                "format": {
                    "type": "string"
                },
                "const": {},
                "type": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "integer",
                        "number",
                        "string",
                        "object",
                        "array",
                        "null"
                    ]
                },
                "items": {
                    "oneOf": [{
                            "$ref": "#/definitions/dataSchema"
                        },
                        {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dataSchema"
                            }
                        }
                    ]
                },
                "maxItems": {
                    "type": "integer",
                    "minimum": 0
                },
                "minItems": {
                    "type": "integer",
                    "minimum": 0
                },
                "minimum": {
                    "type": "number"
                },
                "maximum": {
                    "type": "number"
                },
                "properties": {
                    "additionalProperties": {
                        "$ref": "#/definitions/dataSchema"
                    }
                },
                "required": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "link_element": {
            "type": "object",
            "properties": {
                "anchor": {
                    "$ref": "#/definitions/anyUri"
                },
                "href": {
                    "$ref": "#/definitions/anyUri"
                },
                "rel": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "securityScheme": {
            "oneOf": [{
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "nosec"
                            ]
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "basic"
                            ]
                        },
                        "in": {
                            "type": "string",
                            "enum": [
                                "header",
                                "query",
                                "body",
                                "cookie"
                            ]
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "cert"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "digest"
                            ]
                        },
                        "qop": {
                            "type": "string",
                            "enum": [
                                "auth",
                                "auth-int"
                            ]
                        },
                        "in": {
                            "type": "string",
                            "enum": [
                                "header",
                                "query",
                                "body",
                                "cookie"
                            ]
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "bearer"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "alg": {
                            "type": "string",
                            "enum": [
                                "MD5",
                                "ES256",
                                "ES512-256"
                            ]
                        },
                        "format": {
                            "type": "string",
                            "enum": [
                                "jwt",
                                "jwe",
                                "jws"
                            ]
                        },
                        "in": {
                            "type": "string",
                            "enum": [
                                "header",
                                "query",
                                "body",
                                "cookie"
                            ]
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "psk"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "public"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "oauth2"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "token": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "refresh": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scopes": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "flow": {
                            "type": "string",
                            "enum": [
                                "implicit",
                                "password",
                                "client",
                                "code"
                            ]
                        }
                    },
                    "required": [
<del class="diff-old">                        "scheme"
</del>
<ins class="diff-chg">                        "scheme",
                        "flow"
</ins>
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "apikey"
                            ]
                        },
                        "in": {
                            "type": "string",
                            "enum": [
                                "header",
                                "query",
                                "body",
                                "cookie"
                            ]
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "@type": {
                            "$ref": "#/definitions/type_declaration"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "descriptions": {
                            "$ref": "#/definitions/descriptions"
                        },
                        "proxy": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "pop"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/anyUri"
                        },
                        "format": {
                            "type": "string",
                            "enum": [
                                "jwt",
                                "jwe",
                                "jws"
                            ]
                        },
                        "alg": {
                            "type": "string",
                            "enum": [
                                "MD5",
                                "ES256",
                                "ES512-256"
                            ]
                        },
                        "in": {
                            "type": "string",
                            "enum": [
                                "header",
                                "query",
                                "body",
                                "cookie"
                            ]
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                }
            ]
        },
        "anyUri": {
            "type": "string",
            "format": "iri-reference"
        }
    },
    "type": "object",
    "properties": {
        "id": {
            "type": "string",
            "format": "uri"
        },
        "title": {
            "$ref": "#/definitions/title"
        },
        "titles": {
            "$ref": "#/definitions/titles"
        },
        "properties": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/property_element"
            }
        },
        "actions": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/action_element"
            }
        },
        "events": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/event_element"
            }
        },
        "description": {
            "$ref": "#/definitions/description"
        },
        "descriptions": {
            "$ref": "#/definitions/descriptions"
        },
        "version": {
            "type": "object",
            "properties": {
                "instance": {
                    "type": "string"
                }
            },
            "required": [
                "instance"
            ]
        },
        "links": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/link_element"
            }
        },
        "forms": {
            "type": "array",
            "minItems": 1,
            "items": {
                "$ref": "#/definitions/form_element_root"
            }
        },
        "base": {
            "$ref": "#/definitions/anyUri"
        },
        "securityDefinitions": {
            "type": "object",
            "minProperties": 1,
            "additionalProperties": {
                "$ref": "#/definitions/securityScheme"
            }
        },
        "support": {
            "$ref": "#/definitions/anyUri"
        },
        "created": {
            "type": "string"
        },
        "modified": {
            "type": "string"
        },
        "security": {
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string"
            }
        },
        "@type": {
            "$ref": "#/definitions/type_declaration"
        },
        "@context": {
            "$ref": "#/definitions/thing-context"
        }
    },
    "required": [
        "title",
<del class="diff-old">        "id",
</del>
        "security",
        "securityDefinitions",
        "@context"
    ],
    "additionalProperties": true
}
</code>
</pre>
</section>
<section id="thing-templates" class="appendix informative">
<h2 id="c-thing-description-templates">
<bdi class="secno">
C.
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Templates
<a class="self-link" aria-label="§" href="#thing-templates">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
A
<em>
Thing
<ins class="diff-new">Description
</ins>
Template
</em>
is
a
description
for
a
<em>
class
</em>
of
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>.
It
describes
the
properties,
actions,
events
and
common
metadata
that
are
shared
for
an
entire
group
of
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>,
to
enable
the
common
handling
of
thousands
of
devices
by
a
cloud
server,
which
is
not
practical
on
a
per-
<a href= "#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
basis.
The
Thing
<ins class="diff-new">Description
</ins>
Template
uses
the
same
core
vocabulary
and
information
model
from
<del class="diff-old">section
</del>
<a href="#sec-vocabulary-definition" class="sec-ref">
<ins class="diff-chg">§&nbsp;
</ins><bdi class="secno">
5.
</bdi>
<ins class="diff-new">TD
Information
Model
</ins></a>.
</p>
<p>
The
Thing
<ins class="diff-new">Description
</ins>
Template
enables:
</p>
<ul>
<li>
management
of
multiple
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>
by
a
cloud
service.
</li>
<li>
simulation
of
devices/
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Things
</a>
that
have
not
yet
been
developed.
</li>
<li>
common
applications
across
devices
from
different
manufacturers
that
share
a
common
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
model.
</li>
<li>
combining
multiple
models
into
a
<a href="#dfn-thing" class= "internalDFN" data-link-type="dfn">
Thing
</a>.
</li>
</ul>
<p>
The
Thing
<ins class="diff-new">Description
</ins>
Template
is
a
logical
description
of
the
interface
and
possible
interaction
with
devices
(properties,
actions
and
events),
however
it
does
not
contain
device-specific
information,
such
as
a
serial
number,
GPS
location,
security
information
or
concrete
protocol
endpoints.
</p>
<p>
Since
a
Thing
<ins class="diff-new">Description
</ins>
Template
does
not
contain
a
<a href= "#dfn-protocol-binding" class="internalDFN" data-link-type= "dfn">
Protocol
Binding
</a>
to
specific
endpoints
and
does
not
define
a
specific
security
mechanism,
the
<em>
forms
</em>
and
<em>
securityDefinitions
</em>
and
<em>
security
</em>
keys
must
not
be
present.
</p>
<p>
The
same
Thing
<ins class="diff-new">Description
</ins>
Template
can
be
implemented
by
<a href="#dfn-thing" class="internalDFN" data-link-type= "dfn">
Things
</a>
from
multiple
vendors,
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>
can
implement
multiple
Thing
<ins class="diff-new">Description
</ins>
Templates,
define
additional
metadata
(vendor,
location,
security)
and
define
bindings
to
concrete
protocols.
To
avoid
conflicts
between
properties,
actions
and
events
from
different
Thing
<ins class="diff-new">Description
</ins>
Templates
that
are
combined
into
a
common
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>,
all
these
identifiers
must
be
unique
within
a
<a href="#dfn-thing" class="internalDFN" data-link-type="dfn">
Thing
</a>.
</p>
<p>
A
common
Thing
<ins class="diff-new">Description
</ins>
Template
for
a
class
of
devices
enables
writing
applications
across
vendors
and
creates
a
more
attractive
market
for
application
developers.
A
concrete
Thing
Description
can
implement
multiple
Thing
<ins class="diff-new">Description
</ins>
Templates
and
thus
can
aggregate
function
blocks
into
a
combined
device.
</p>
<p>
The
business
models
of
cloud
vendors
are
typically
built
on
managing
thousands
of
identical
devices.
All
devices
with
the
same
Thing
<ins class="diff-new">Description
</ins>
Template
can
be
managed
in
the
same
way
by
cloud
applications.
It
is
easy
to
create
multiple
simulated
devices,
if
the
interface
and
the
instance
are
treated
separately.
</p>
<p>
Since
a
Thing
<ins class="diff-new">Description
</ins>
Template
is
a
subset
of
the
Thing
Description
in
which
some
optional
and
mandatory
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
Vocabulary
Terms
</a>
</p>
<p>
do
not
exist,
however,
it
can
be
serialized
in
the
same
way
and
in
the
same
formats
as
a
Thing
Description.
Note
that
Thing
Template
instances
cannot
be
validated
in
the
same
way
as
Thing
Description
instances
due
to
some
missing
mandatory
terms.
</p>
<section id="thing-template-examples">
<h3 id="c-1-thing-description-template-examples">
<bdi class= "secno">
C.1
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Template
Examples
<a class= "self-link" aria-label="§" href= "#thing-template-examples">
</a>
</h3>
<p>
This
section
shows
a
Thing
<ins class="diff-new">Description
</ins>
Template
for
a
lamp
and
a
Thing
<ins class="diff-new">Description
</ins>
Template
for
a
buzzer.
</p>
<section id="lamp-thing-template">
<h4 id="c-1-1-thing-description-template-lamp">
<bdi class= "secno">
C.1.1
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Template:
Lamp
<a class= "self-link" aria-label="§" href="#lamp-thing-template">
</a>
</h4>
<div class="example" id= "example-36-mylampthingtemplate-serialized-in-json">
<div class="marker">
<a class="self-link" href= "#example-36-mylampthingtemplate-serialized-in-json">
Example
<bdi>
36
</bdi>
</a>
<span class="example-title">:
MyLampThingTemplate
serialized
in
JSON
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>], 
    <span class="hljs-attr">"@type"</span> : <span class=
"hljs-string">"ThingTemplate"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"Lamp Thing Template",
</del>
<ins class="diff-chg">"hljs-string">"Lamp Thing Description Template"</span>,
</ins>
    <span class="hljs-attr">"description"</span> : <span class=
<del class="diff-old">"hljs-string"&gt;"Lamp Thing Template",
</del>
<ins class="diff-chg">"hljs-string">"Lamp Thing Description Template"</span>,
</ins>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"current status of the lamp (on|off)"</span>,
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"readOnly"</span>: <span class=
"hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Turn the lamp on or off"</span>
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
            <span class="hljs-attr">"data"</span>: {<span class=
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>}
        }
    }
}
</code>
</pre>
</div>
</section>
<section id="buzzer-thing-template">
<h4 id="c-1-2-thing-description-template-buzzer">
<bdi class= "secno">
C.1.2
</bdi>
Thing
<ins class="diff-new">Description
</ins>
Template:
Buzzer
<a class= "self-link" aria-label="§" href="#buzzer-thing-template">
</a>
</h4>
<div class="example" id= "example-37-mybuzzerthingtemplate-serialized-in-json">
<div class="marker">
<a class="self-link" href= "#example-37-mybuzzerthingtemplate-serialized-in-json">
Example
<bdi>
37
</bdi>
</a>
<span class="example-title">:
MyBuzzerThingTemplate
serialized
in
JSON
</span>
</div>
<pre aria-busy="false"><code class="hljs json">{
    <span class="hljs-attr">"@context"</span>: [<span class=
"hljs-string">"https://www.w3.org/2019/wot/td/v1"</span>], 
    <span class="hljs-attr">"@type"</span> : <span class=
"hljs-string">"ThingTemplate"</span>,
    <span class="hljs-attr">"title"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"Buzzer Thing Template",
</del>
<ins class="diff-chg">"hljs-string">"Buzzer Thing Description Template"</span>,
</ins>
    <span class="hljs-attr">"description"</span> : <span class=
<del class="diff-old">"hljs-string"&gt;"Thing template of a buzzer that makes noise for 10 seconds",
</del>
<ins class="diff-chg">"hljs-string">"Thing Description Template of a buzzer that makes noise for 10 seconds"</span>,
</ins>
     <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"buzz"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"buzz for 10 seconds"</span>
        }
     }
}
</code>
</pre>
</div>
</section>
</section>
</section>
<section id="json-ld-ctx-usage" class="appendix informative">
<h2 id="d-json-ld-context-usage">
<bdi class="secno">
D.
</bdi>
<del class="diff-old">Transformation
to
RDF
</del>
<ins class="diff-chg">JSON-LD
Context
Usage
</ins><a class="self-link" aria-label="§" href= "#json-ld-ctx-usage">
</a>
</h2>
<p>
<em>
This
section
is
non-normative.
</em>
</p>
<p>
<del class="diff-old">To
integrate
a
Thing
Description
instance
with
external
knowledge
and
contextual
information
(like
SAREF
annotations),
</del>
<ins class="diff-chg">The
present
specification
introduces
</ins>
the
<del class="diff-old">use
of
JSON-LD
1.1
and
its
processing
API
[
json-ld11-api
</del>
<a href= "#dfn-inf-model" class="internalDFN" data-link-type="dfn">
<ins class="diff-chg">TD
Information
Model
</ins>
</a>
<del class="diff-old">],
</del>
as
<del class="diff-old">well
as
RDF-based
tools
[
rdf11-concepts
]
and
libraries
is
highly
recommended.
</del>
<ins class="diff-chg">a
set
of
constraints
over
different
</ins><a href="#dfn-vocab" class="internalDFN" data-link-type= "dfn"><ins class="diff-chg">
Vocabularies
</ins></a>,<ins class="diff-chg">
i.e.
sets
of
</ins><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Vocabulary
Terms
</ins></a>.
This
<del class="diff-old">appendix
introduces
two
non-normative
elements
</del>
<ins class="diff-chg">section
briefly
explains
how
a
machine-readable
definition
</ins>
of
<del class="diff-old">the
Thing
Description
model
based
on
RDF:
the
default
JSON-LD
context
for
TD
and
the
TD
ontology.
D.1
Thing
Description
JSON-LD
Context
A
TD
document
</del>
<ins class="diff-chg">these
constraints
</ins>
can
be
<del class="diff-old">transformed
</del>
<ins class="diff-chg">integrated
</ins>
into
<del class="diff-old">RDF
</del>
<ins class="diff-chg">client
applications,
</ins>
by
<del class="diff-old">a
standard
JSON-LD
processor
(to
then
be
uploaded
to
an
RDF
store
for
further
processing).
The
following
procedure
loads
the
context
</del>
<ins class="diff-chg">making
use
</ins>
of
the
<del class="diff-old">TD,
given
by
the
term
</del>
<ins class="diff-chg">mandatory
</ins>
<code>
@context
<del class="diff-old">,
and
generates
RDF
triples:
JsonLdProcessor.toRdf
</del>
</code>
<ins class="diff-chg">of
a
TD
document.
</ins>
</p>
<p>
<del class="diff-old">When
applying
this
procedure
to
the
introductory
TD&nbsp;example
(
Example
2
)
with
all
Default
Values
,
</del>
<ins class="diff-chg">Accessing
</ins>
the
<del class="diff-old">following
triples
are
obtained:
Example
38
</del>
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
<ins class="diff-chg">TD
Information
Model
</ins>
</a>
<del class="diff-old">after&nbsp;transformation
to
RDF
{
    : [
        &lt;span class=
"hljs-string"&gt;"https://www.w3.org/2019/wot/td/v1",
        { 
            : &lt;span class=
"hljs-string"&gt;"https://w3id.org/saref#",
            : &lt;span class=
"hljs-string"&gt;"http://www.w3.org/2011/http#"
        }
    ],
    : &lt;span class=
"hljs-string"&gt;"urn:dev:ops:32473-WoTLamp-1234",
    : &lt;span class=
"hljs-string"&gt;"MyLampThing",
    : &lt;span class=
"hljs-string"&gt;"saref:LightSwitch",
    &lt;span class=
"hljs-attr"&gt;"securityDefinitions": {&lt;span class=
"hljs-attr"&gt;"basic_sc": {
        : &lt;span class=
"hljs-string"&gt;"basic",
        : &lt;span class=
"hljs-string"&gt;"header"
    }},
    : [&lt;span class=
"hljs-string"&gt;"basic_sc"],
    : {
        : {
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{
                &lt;span class=
"hljs-attr"&gt;"@type",
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/status",
                : &lt;span class=
"hljs-string"&gt;"readproperty",
                &lt;span class=
"hljs-attr"&gt;"htv:methodName": &lt;span class=
"hljs-string"&gt;"GET"
            }, {
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/status",
                : &lt;span class=
"hljs-string"&gt;"writeproperty",
                &lt;span class=
"hljs-attr"&gt;"contentType": &lt;span class=
"hljs-string"&gt;"application/json",
                &lt;span class=
"hljs-attr"&gt;"htv:methodName": &lt;span class=
"hljs-string"&gt;"PUT"
            }]
        }
    },
    : {
        : {
            : &lt;span class=
"hljs-literal"&gt;false,
            &lt;span class=
"hljs-attr"&gt;"idempotent": &lt;span class=
"hljs-literal"&gt;false,
            : [{
                &lt;span class=
"hljs-attr"&gt;"@type",
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/toggle",
                : &lt;span class=
"hljs-string"&gt;"invokeaction",
                &lt;span class=
"hljs-attr"&gt;"contentType": &lt;span class=
"hljs-string"&gt;"application/json",
                &lt;span class=
"hljs-attr"&gt;"htv:methodName": &lt;span class=
"hljs-string"&gt;"POST"
            }]
        }
    },
    : {
        : {
            : {&lt;span class=
"hljs-attr"&gt;"type": &lt;span class=
"hljs-string"&gt;"string"},
            : [{
                &lt;span class=
"hljs-attr"&gt;"@type",
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/oh",
                : &lt;span class=
"hljs-string"&gt;"subscribeevent",
                &lt;span class=
"hljs-attr"&gt;"contentType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
        }
    }
}
&lt;code class=
"hljs xml"&gt;&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234 .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234 _:b0 .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234 _:b2 .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234 _:b5 .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234 .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234 "MyLampThing" .
_:b0 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;name "toggle" .
_:b0 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;hasForm _:b1 .
_:b0 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;isIdempotent "false"^^&lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2001/&lt;span class=
"hljs-attr"&gt;XMLSchema#&lt;span class=
"hljs-attr"&gt;boolean .
_:b0 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;isSafe "false"^^&lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2001/&lt;span class=
"hljs-attr"&gt;XMLSchema#&lt;span class=
"hljs-attr"&gt;boolean .
_:b1 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;1999/&lt;span class=
"hljs-attr"&gt;02/&lt;span class=
"hljs-attr"&gt;22-rdf-syntax-ns#&lt;span class=
"hljs-attr"&gt;type &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;w3id.org/&lt;span class=
"hljs-attr"&gt;saref#&lt;span class=
"hljs-attr"&gt;ToggleCommand .
_:b1 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2011/&lt;span class=
"hljs-attr"&gt;http#&lt;span class=
"hljs-attr"&gt;methodName "POST" .
_:b1 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forContentType "application/json" .
_:b1 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forOperationType "invokeaction" .
_:b1 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;hasTarget "https://mylamp.example.com/toggle" .
_:b2 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;name "overheating" .
_:b2 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;hasForm _:b3 .
_:b2 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;hasNotificationSchema _:b4 .
_:b3 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;1999/&lt;span class=
"hljs-attr"&gt;02/&lt;span class=
"hljs-attr"&gt;22-rdf-syntax-ns#&lt;span class=
"hljs-attr"&gt;type &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;w3id.org/&lt;span class=
"hljs-attr"&gt;saref#&lt;span class=
"hljs-attr"&gt;NotifyCommand .
_:b3 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forContentType "application/json" .
_:b3 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forOperationType "subscribeevent" .
_:b3 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;hasTarget "https://mylamp.example.com/oh" .
_:b4 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;1999/&lt;span class=
"hljs-attr"&gt;02/&lt;span class=
"hljs-attr"&gt;22-rdf-syntax-ns#&lt;span class=
"hljs-attr"&gt;type &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;json-schema#&lt;span class=
"hljs-attr"&gt;StringSchema .
_:b5 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;1999/&lt;span class=
"hljs-attr"&gt;02/&lt;span class=
"hljs-attr"&gt;22-rdf-syntax-ns#&lt;span class=
"hljs-attr"&gt;type &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;json-schema#&lt;span class=
"hljs-attr"&gt;StringSchema .
_:b5 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;name "status" .
_:b5 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;hasForm _:b6 .
_:b5 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;td#&lt;span class=
"hljs-attr"&gt;hasForm _:b7 .
_:b6 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;1999/&lt;span class=
"hljs-attr"&gt;02/&lt;span class=
"hljs-attr"&gt;22-rdf-syntax-ns#&lt;span class=
"hljs-attr"&gt;type &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;w3id.org/&lt;span class=
"hljs-attr"&gt;saref#&lt;span class=
"hljs-attr"&gt;GetCommand .
_:b6 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2011/&lt;span class=
"hljs-attr"&gt;http#&lt;span class=
"hljs-attr"&gt;methodName "GET" .
_:b6 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forOperationType "readproperty" .
_:b6 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;hasTarget "https://mylamp.example.com/status" .
_:b7 &lt;&lt;span class=
"hljs-name"&gt;http://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2011/&lt;span class=
"hljs-attr"&gt;http#&lt;span class=
"hljs-attr"&gt;methodName "PUT" .
_:b7 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forContentType "application/json" .
_:b7 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;forOperationType "writeproperty" .
_:b7 &lt;&lt;span class=
"hljs-name"&gt;https://&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;hypermedia#&lt;span class=
"hljs-attr"&gt;hasTarget "https://mylamp.example.com/status" .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234/&lt;span class=
"hljs-attr"&gt;basic_sc &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;1999/&lt;span class=
"hljs-attr"&gt;02/&lt;span class=
"hljs-attr"&gt;22-rdf-syntax-ns#&lt;span class=
"hljs-attr"&gt;type &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;security#&lt;span class=
"hljs-attr"&gt;BasicSecurityScheme .
&lt;&lt;span class=
"hljs-name"&gt;urn:dev:ops:32473-WoTLamp-1234/&lt;span class=
"hljs-attr"&gt;basic_sc &lt;span class=
"hljs-tag"&gt;&lt;//&lt;span class=
"hljs-attr"&gt;www.w3.org/&lt;span class=
"hljs-attr"&gt;2019/&lt;span class=
"hljs-attr"&gt;wot/&lt;span class=
"hljs-attr"&gt;security#&lt;span class=
"hljs-attr"&gt;
</del>
<ins class="diff-chg">from
a
TD
document
is
done
</ins>
in
<del class="diff-old">&gt;
"header"
.
Most
importantly,
the
JSON-LD
context
maps
</del>
<ins class="diff-chg">two
steps.
First,
clients
must
retrieve
a
mapping
from
</ins>
JSON
strings
to
<del class="diff-old">RDF
IRIs
(hence,
the
notion
of
context
:
in
two
different
contexts,
the
same
string
can
have
different
meanings).
The
</del>
<ins class="diff-chg">IRIs.
This
</ins>
mapping
<del class="diff-old">here
is
rather
straightforward:&nbsp;every
vocabulary
of
the
TD
information
model
</del>
is
defined
<del class="diff-old">its
own
namespace
and
every
vocabulary
term
maps
to
some
name,
appended
to
the
corresponding
namespace.
Strings
that
are
not
part
of
any
vocabulary
map
to
RDF&nbsp;literals
(strings
with
an
optional
datatype).
For
instance,
title
maps
to
https://www.w3.org/2019/wot/td#title
and
MyLampThing
remains
unchanged.
Applying
this
mapping
is
called
context
expansion
.
Then,
after
expanding
JSON
strings
to
full
IRIs,
all
map
structures
of
the
TD&nbsp;document
must
be
turned
into
RDF
triples.
In
a
simple
case,
</del>
<ins class="diff-chg">as
</ins>
a
<del class="diff-old">triple
is
produced
for
every
key/value
pair
in
the
map.
For
instance,
the
very
first
triple
of
</del>
<ins class="diff-chg">JSON-LD
context,
as
explained
later.
Second,
clients
can
access
</ins>
the
<del class="diff-old">example
above
was
produced
from
"title":&nbsp;"myLampThing"
.
Other
cases
rely
</del>
<ins class="diff-chg">constraints
defined
</ins>
on
<del class="diff-old">specific
JSON-LD
features.
Most
of
</del>
these
<del class="diff-old">features
were
introduced
</del>
<ins class="diff-chg">IRIs
by
dereferencing
them.
Constraints
are
defined
as
logical
axioms
</ins>
in
the
<del class="diff-old">1.1
version
of
the
standard
and
thus
require
an
appropriate
JSON-LD
1.1
implementation.
They
are
listed
below:
</del>
<ins class="diff-chg">RDF
format,
readily
interpretable
by
client
programs.
</ins>
</p>
<del class="diff-old">Aliasing
keywords
:
JSON-LD
reserved
keywords
always
start
with
@
but
</del>
<p>
<ins class="diff-chg">All
</ins><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Vocabulary
Terms
</ins></a><ins class="diff-chg">
referenced
</ins>
in
<del class="diff-old">certain
cases,
it
is
more
convenient
to
define
aliases
for
these
keywords,
e.g.
to
more
easily
process
JSON-LD
document
</del>
<a href= "#sec-vocabulary-definition" class="sec-ref">
<ins class="diff-chg">§&nbsp;
</ins><bdi class= "secno"><ins class="diff-chg">
5.
</ins></bdi><ins class="diff-chg">
TD
Information
Model
</ins></a><ins class="diff-chg">
are
serialized
as
(compact)
JSON
strings
</ins>
in
a
<del class="diff-old">specific
programming
environment.
In
the
TD&nbsp;core
vocabulary,
id
</del>
<ins class="diff-chg">TD
document.
However,
each
of
these
terms
</ins>
is
<del class="diff-old">an
alias
for
@id
,
which
must
be
an
IRI
used
</del>
<ins class="diff-chg">unambiguously
identified
by
a
full
IRI,
</ins>
as
<del class="diff-old">the
subject
of
triples
when
producing
RDF.
For
this
reason,
</del>
<ins class="diff-chg">per
</ins>
the
first
<del class="diff-old">triples
in
the
example
have
urn:dev:ops:32473-WoTLamp-1234
as
a
subject
instead
of
an
arbitrary
blank
node.
</del>
<ins class="diff-chg">Linked
Data
principle
[
</ins><cite>
<del class="diff-old">Scoped
contexts
</del>
<a class="bibref" href= "#bib-linked-data" title="Linked Data Design Issues" data-link-type="biblio">
<ins class="diff-chg">LINKED-DATA
</ins></a>
<del class="diff-old">:
</del>
</cite>
<ins class="diff-chg">].
</ins>
The
<del class="diff-old">term
properties
is
used
both
in
the
core
vocabulary
and
in
the
data
schema
vocabulary.
Yet,
a
</del>
<ins class="diff-chg">mappings
from
</ins>
JSON
<del class="diff-old">string
cannot
map
</del>
<ins class="diff-chg">keys
</ins>
to
<del class="diff-old">two
</del>
IRIs
<del class="diff-old">simultaneously
in
</del>
<ins class="diff-chg">is
what
</ins>
the
<del class="diff-old">same
context
definition.&nbsp;The
mapping
from
properties
to
</del>
<code>
<del class="diff-old">https://www.w3.org/2019/wot/json-schema#properties
</del>
<ins class="diff-chg">@context
</ins>
</code>
<del class="diff-old">must
therefore
be
scoped
to
instances
</del>
<ins class="diff-chg">value
</ins>
of
<ins class="diff-new">a
TD
points
to.
For
instance,
the
file
at
</ins></p><p>
<code>
<del class="diff-old">DataSchema
</del>
<ins class="diff-chg">https://www.w3.org/2019/wot/td/v1
</ins>
</code>
<del class="diff-old">only.
Property-based
data
indexing
</del>
<del class="diff-old">:
in
</del>
</p>
<p>
<ins class="diff-chg">includes
</ins>
the
<del class="diff-old">example
above,
status
,
</del>
<ins class="diff-chg">following
mappings
(among
others):
</ins></p><table><tbody><tr><td>
<code>
<del class="diff-old">toggle
</del>
<ins class="diff-chg">properties
</ins>
</code>
<del class="diff-old">and
</del>
</td>
<td>
<ins class="diff-chg">→
</ins></td><td>
<code>
<del class="diff-old">overheating
</del>
<ins class="diff-chg">https://www.w3.org/2019/wot/td#hasPropertyAffordance
</ins>
</code>
<del class="diff-old">appear
as
keys
in
a
map
but
they
do
not
produce
triples
in
which
they
become
predicates.
This
special
structure
is
called
an
index
map
.
Without
any
indication
in
the
context,
the
index
key
is
lost
when
an
index
map
is
turned
into
RDF.
To
make
the
transformation
to
RDF
reversible,
it
is
possible
to
indicate
that
index
keys
should
produce
triples
with
a
given
predicate.
Each
vocabulary
can
include
an
RDF
term
for
this
purpose.
In
the
core
vocabulary,
the
property
</del>
</td>
</tr>
<tr>
<td>
<code>
<del class="diff-old">https://www.w3.org/2019/wot/td#name
</del>
<ins class="diff-chg">object
</ins>
</code>
<del class="diff-old">is
used.
</del>
</td>
<td>
<ins class="diff-chg">→
</ins></td><td><code><ins class="diff-chg">
https://www.w3.org/2019/wot/json-schema#ObjectSchema
</ins></code>
<del class="diff-old">Indexing
without
a
predicate
</del>
</td>
</tr>
<tr>
<td>
<del class="diff-old">:
in
a
TD,
the
security
definitions
container
is
mostly
syntactic
sugar
to
avoid
redundancy
in
the
</del>
<code>
<del class="diff-old">security
</del>
<ins class="diff-chg">basic
</ins>
</code>
<del class="diff-old">definitions.
JSON-LD
1.1
includes
another
indexing
mechanism
for
that
purpose.
In
the
above
example,
</del>
</td>
<td>
<ins class="diff-chg">→
</ins></td><td>
<code>
<del class="diff-old">securityDefinitions
</del>
<ins class="diff-chg">https://www.w3.org/2019/wot/security#BasicSecurityScheme
</ins>
</code>
<del class="diff-old">does
not
produce
any
triple.
</del>
<del class="diff-old">Editor's
note
</del>
</td>
</tr>
<tr>
<td>
<del class="diff-old">The
last
two
JSON-LD
features
(property-based
data
indexing
and
indexing
without
a
predicate)
are
still
experimental;
they
have
not
been
published
in
any
Editors'
Draft
yet.
</del>
<code>
<ins class="diff-chg">href
</ins></code>
<del class="diff-old">D.2
Thing
Description
Ontology
</del>
</td>
<td>
<ins class="diff-chg">→
</ins></td><td><code><ins class="diff-chg">
https://www.w3.org/2019/wot/hypermedia#hasTarget
</ins></code>
</td>
</tr>
<tr>
<td>...
</td>
</tr>
</tbody>
</table>
<p>
<del class="diff-old">As
presented
in
the
previous
section,
all
Vocabulary
Terms
(including
those
denoting
Classes
)
follow
the
RDF
convention
of
belonging
to
a
Vocabulary
identified
by
a
namespace
IRI.
As
a
result,
the
TD&nbsp;information
model
can
be
reformulated
in
</del>
<ins class="diff-chg">This
JSON
file
follows
</ins>
the
<del class="diff-old">Web
Ontology
Language
(OWL)
</del>
<ins class="diff-chg">JSON-LD
1.1
syntax
</ins>
[
<cite>
<del class="diff-old">owl2-overview
</del>
<a class= "bibref" href="#bib-json-ld11" title="JSON-LD 1.1" data-link-type= "biblio">
<ins class="diff-chg">JSON-LD11
</ins>
</a>
</cite>
].
<del class="diff-old">Class
definitions
become
OWL
axioms
defined
on
the
Vocabulary
Terms
of
the
TD&nbsp;model.
The
axioms
that
are
particularly
of
interest
in
</del>
<ins class="diff-chg">Numerous
JSON-LD
libraries
can
automatically
process
</ins>
the
<del class="diff-old">present
document
are
those
</del>
<code>
<ins class="diff-chg">@context
</ins></code>
of
<del class="diff-old">the
TD&nbsp;ontology
available
under
the
TD&nbsp;namespace
IRI,
both
as
an
RDF
file
and
as
</del>
a
<del class="diff-old">human-readable
HTML
documentation.
Default
Values
cannot
be
directly
translated
to
OWL,
they
are
therefore
ignored
in
the
</del>
TD
<del class="diff-old">ontology.
</del>
<ins class="diff-chg">and
expand
all
the
JSON
strings
it
includes.
</ins>
</p>
<p>
<del class="diff-old">The
axioms
included
in
the
TD
ontology
may
be
used
to
validate
</del>
<ins class="diff-chg">Once
every
</ins><a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Vocabulary
Term
</ins></a><ins class="diff-chg">
of
</ins>
a
TD
<del class="diff-old">but
its
primary
purpose
</del>
is
<ins class="diff-new">expanded
</ins>
to
<del class="diff-old">serve
as
an
entry
point
for
a
deeper
semantic
description
of
WoT
Things
that
would
make
clients
behave
in
a
more
autonomous
way,
as
desired
in
WoT
[
wot-architecture
].
A
semantic
description
is
nothing
more
than
</del>
a
<del class="diff-old">description
of
</del>
<ins class="diff-chg">IRI,
</ins>
the
<del class="diff-old">physical
world,
</del>
<ins class="diff-chg">second
step
consists
</ins>
in
<del class="diff-old">which
WoT
systems
may
have
tangible
effects.
OWL
should
be
the
preferred
language
for
this
purpose.
OWL
is
indeed
a
language
to
specify
ontologies
,
that
is,
conceptualizations
of
the
physical
world.
To
</del>
<ins class="diff-chg">dereferencing
</ins>
this
<del class="diff-old">end,
an
ontology
does
not
cover
one
possible
model
of
the
physical
world
by
constructing
abstract
data
structures.
Instead,
it
provides
necessary
constraints
on
all
possible
models
of
the
world
for
these
models
</del>
<ins class="diff-chg">IRI
</ins>
to
<del class="diff-old">be
sound.
This
principle,
at
the
basis
of
model
theory
,
is
what
the
semantics
</del>
<ins class="diff-chg">get
fragments
</ins>
of
<del class="diff-old">RDF
(and
OWL)
is
based
on
[
rdf11-mt
].
In
the
following
diagram,
because
</del>
the
<del class="diff-old">only
fact
we
know
about
urn:dev:ops:32473-WoTLamp-1234
is
that
it
is
a
light
switch
with
generic
affordances,
it
could
be
any
light
switch,
be
it
mechanical,
digital
or
even
virtual.
Figure
5
TD
Serialization
,
</del>
<a href="#dfn-inf-model" class="internalDFN" data-link-type="dfn">
TD
<ins class="diff-new">Information
Model
</ins>
</a>
<del class="diff-old">and
Thing
on
a
light
switch
example
As
a
consequence,
the
TD&nbsp;ontology
is
meant
to
be
integrated
into
a
larger
ontology,
as
it
would
not
suffice
</del>
<ins class="diff-chg">that
refer
</ins>
to
<del class="diff-old">describe
physical
world
objects
alone.
An
ontology
is
generally
designed
for
a
specific
domain
of
application,
like
transportation
or
home
automation.
</del>
<ins class="diff-chg">that
</ins><a href="#dfn-vocab-term" class="internalDFN" data-link-type= "dfn"><ins class="diff-chg">
Vocabulary
Term
</ins></a>.
For
<ins class="diff-new">instance,
dereferencing
</ins>
the
<del class="diff-old">latter
domain,
the
TD
ontology
can
e.g.
be
integrated
with
SAREF,
as
illustrated
in
several
examples
in
this
document.
</del>
<ins class="diff-chg">IRI
</ins>
</p>
<p>
<del class="diff-old">An
intelligent
WoT
client
can
be
assigned
the
task
of
turning
a
light
off
in
ontological
terms,
using
SAREF.
For
instance,
the
task
could
be
expressed
as
a
post-condition
on
the
</del>
<code>
<del class="diff-old">saref:OnOffState
</del>
<ins class="diff-chg">https://www.w3.org/2019/wot/json-schema#ObjectSchema
</ins>
</code>
<del class="diff-old">of
some
saref:LightSwitch
.
Assuming
a
server
exposes
the
TD
of
Example
2
</del>
<del class="diff-old">,
the
client
has
two
possibilities
to
perform
this
task:
it
can
either
write
the
status
property
as
off
or
it
can
invoke
the
action
toggle
and
see
if
the
resulting
status
is
indeed
equal
to
off
.
</del>
</p>
<p>
<del class="diff-old">Yet,
</del>
<ins class="diff-chg">results
</ins>
in
<ins class="diff-new">an
RDF
document
stating
that
</ins>
the
<del class="diff-old">TD
example,
the
switch
state
</del>
<ins class="diff-chg">term
</ins><code><ins class="diff-chg">
ObjectSchema
</ins></code>
is
<del class="diff-old">not
directly
exposed.
Assuming
the
client
has
no
prior
knowledge
of
the
meaning
</del>
<ins class="diff-chg">a
</ins><a href="#dfn-class" class= "internalDFN" data-link-type="dfn"><ins class="diff-chg">
Class
</ins></a><ins class="diff-chg">
and
more
precisely,
a
sub-class
</ins>
of
<code>
<del class="diff-old">status
,
it
must
infer
possible
operations
from
the
semantic
annotations
available
</del>
<ins class="diff-chg">DataSchema
</ins></code>.<ins class="diff-chg">
Such
logical
axioms
are
represented
</ins>
in
<del class="diff-old">the
TD
and
its
domain-specific
ontology,
that
includes
SAREF.
The
following
ontological
</del>
<ins class="diff-chg">RDF
using
formalisms
of
various
complexity:
here,
sub-class
relations
are
expressed
as
RDF
Schema
</ins>
axioms
<del class="diff-old">can
</del>
<ins class="diff-chg">[
</ins><cite><a class="bibref" href="#bib-rdf-schema" title= "RDF Schema 1.1" data-link-type="biblio"><ins class="diff-chg">
RDF-SCHEMA
</ins></a></cite><ins class="diff-chg">
].
Moreover,
these
axioms
may
</ins>
be
<del class="diff-old">formulated
for
SAREF,
</del>
<ins class="diff-chg">serialized
in
various
formats.
Here,
they
are
serialized
</ins>
in
the
<del class="diff-old">OWL
Manchester
syntax
</del>
<ins class="diff-chg">Turtle
format
</ins>
[
<cite>
<del class="diff-old">owl2-manchester-syntax
</del>
<a class="bibref" href="#bib-turtle" title="RDF 1.1 Turtle" data-link-type= "biblio">
<ins class="diff-chg">TURTLE
</ins>
</a>
</cite>
]:
</p>
<del class="diff-old">Example
39
Class: LightSwitch
SubClassOf: hasState some OnOffState
</del>
<pre class=
<ins class="diff-chg">"nohighlight"><code>&lt;https://www.w3.org/2019/wot/json-schema#ObjectSchema&gt;
    a rdfs:Class .
&lt;https://www.w3.org/2019/wot/json-schema#ObjectSchema&gt;
rdfs:subClassOf
&lt;https://www.w3.org/2019/wot/json-schema#DataSchema&gt;
.
</ins></code>
<del class="diff-old">Class: ToggleCommand
SubClassOf:
actsUpon
some
OnOffState
</del>
</pre>
<p>
<del class="diff-old">They
respectively
state
that
</del>
<ins class="diff-chg">By
default,
if
</ins>
a
<del class="diff-old">light
switch
must
have
an
on/off
state
and
that
</del>
<ins class="diff-chg">user
agent
does
not
perform
any
content
negotiation,
</ins>
a
<del class="diff-old">toggle
command
must
act
on
some
on/off
state.
They
may
seem
intuitive
to
humans
but
it
</del>
<ins class="diff-chg">human-readable
HTML
documentation
</ins>
is
<del class="diff-old">only
possible
for
the
client
to
know
what
to
do
from
such
axioms.
If
we
assume
that
a
saref:GetCommand
always
exposes
the
state
</del>
<ins class="diff-chg">returned
instead
</ins>
of
the
<del class="diff-old">Thing
,
the
client
can
then
automatically
infer
what
form(s)
to
submit
to
change
the
switch
state:
a
writeproperty
on
</del>
<ins class="diff-chg">RDF
document.
To
negotiate
content,
clients
must
include
</ins>
the
<ins class="diff-new">HTTP
header
</ins>
<code>
<del class="diff-old">saref:GetCommand
or
an
invokeaction
</del>
<ins class="diff-chg">Accept:
text/turtle
</ins>
</code>
<del class="diff-old">on
the
saref:ToggleCommand
.
Note
that
the
result
of
the
operation
cannot
be
known
for
certain,
as
the
TD
does
not
expose
its
internal
state.
However,
by
selecting
certain
models
of
the
physical
world,
either
by
statistical
means
or
by
further
axiomatization,
clients
can
still
reach
a
certain
level
of
autonomy
with
an
ontological
approach.
</del>
<ins class="diff-chg">in
their
request.
</ins>
</p>
</section>
<section id="changes" class="appendix">
<h2 id="e-recent-specification-changes">
<bdi class="secno">
E.
</bdi>
Recent
Specification
Changes
<a class="self-link" aria-label="§" href="#changes">
</a>
</h2>
<section id="changes-from-first-candidate-recommendation">
<h3 id="changes-from-candidate-recommendation">
<bdi class= "secno">
E.1
</bdi>
Changes
from
<del class="diff-old">Third
Public
Working
Draft
</del>
<ins class="diff-chg">First
Candidate
Recommendation
</ins><a class="self-link" aria-label="§" href= "#changes-from-first-candidate-recommendation">
</a>
</h3>
<ul>
<li>
General
<ul>
<li>
<del class="diff-old">Added
multi-language
support
for
human-readable
metadata
(
descriptions
and
titles
Vocabulary
Terms
</del>
<ins class="diff-chg">Clarified
definition
of
</ins><a href="#dfn-td-processor" class= "internalDFN" data-link-type="dfn"><ins class="diff-chg">
TD
Processor
</ins>
</a>
<del class="diff-old">).
Added
@language
to
declare
a
default
language
</del>
and
<del class="diff-old">specified
how
to
infer
</del>
<ins class="diff-chg">related
</ins>
text
<del class="diff-old">direction
in
human-readable
metadata.
</del>
<ins class="diff-chg">that
implementations
may
be
TD
producer
or
TD
consumer
only
as
correctly
assumed
by
all
implementations
(no
impact
on
implementations).
</ins>
</li>
<li>
<del class="diff-old">Renamed
the
InteractionPattern
Class
to
</del>
<ins class="diff-chg">Clarified
uniqueness
and
possible
values
for
Thing
</ins>
<code>
<del class="diff-old">InteractionAffordance
.
Added
a
section
to
describe
behavioral
constraints
of
a
WoT
system.
Added
a
section
</del>
<ins class="diff-chg">id
</ins></code>,<ins class="diff-chg">
in
particular
privacy-preserving
values
such
as
URIs
</ins>
with
<del class="diff-old">security
</del>
<ins class="diff-chg">local
IP
addresses
or
temporary
</ins>
and
<del class="diff-old">privacy
considerations.
</del>
<ins class="diff-chg">mutable
URIs.
</ins>
</li>
<li>
<del class="diff-old">Added
a
section
with
IANA
considerations
to
register
media
type
and
CoAP
Content
Format.
</del>
<ins class="diff-chg">Updated
references.
</ins>
</li>
<li>
<del class="diff-old">Added
an
appendix
section
describing
the
concept
of
Thing
Templates
for
describing
classes
of
Things
.
</del>
<ins class="diff-chg">Improved
text
on
semantic
annotations.
</ins>
</li>
<li>
<del class="diff-old">Added
an
appendix
section
</del>
<ins class="diff-chg">Updated
</ins><a href="#thing-description-full-serialization" class= "box-ref"><ins class="diff-chg">
Example
</ins><bdi><ins class="diff-chg">
2
</ins></bdi>
</a>
<del class="diff-old">explaining
the
RDF
representation
of
Thing
Descriptions;
it
replaces
the
former
subsection
"Implementation
Notes".
Moved
the
full
examples
of
Thing
Description
instances
</del>
to
<del class="diff-old">the
appendix
.
Thing
</del>
<ins class="diff-chg">fix
bugs.
</ins>
<ul>
<li>
<del class="diff-old">Added
mandatory
@context
and
optional
</del>
<code>
<del class="diff-old">@type
</del>
<ins class="diff-chg">name
</ins>
</code>
<del class="diff-old">Vocabulary
Terms
</del>
<ins class="diff-chg">was
renamed
</ins>
to
<del class="diff-old">the
Thing
Class
.
Added
optional
created
and
</del>
<code>
<del class="diff-old">modified
</del>
<ins class="diff-chg">title
</ins>
</code>
<del class="diff-old">Vocabulary
Terms
</del>
to
<ins class="diff-new">reflect
a
previous
change
of
</ins>
the
<a href="#thing" class= "sec-ref">
<ins class="diff-chg">§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
5.3.1.1
</ins></bdi><code>
Thing
</code>
</a>
Class
<del class="diff-old">to
provide
information
as
to
when
the
TD
instance
was
created
or
last
modified,
resp.
</del>
<ins class="diff-chg">definition.
</ins>
</li>
<li>
<del class="diff-old">Added
optional
</del>
<code>
<del class="diff-old">version
</del>
<ins class="diff-chg">@type
</ins>
</code>
<del class="diff-old">vocabulary
term
to
the
Thing
Class
to
provide
version
information.
Added
support
for
meta
interactions
through
</del>
<ins class="diff-chg">was
removed
from
</ins>
the
<del class="diff-old">operation
types
readallproperties
,
writeallproperties
,
readmultipleproperties
,
and
writemultipleproperties
.
</del>
<ins class="diff-chg">forms.
</ins>
</li>
</ul>
</li>
<li>
<del class="diff-old">InteractionAffordance
</del>
<ins class="diff-chg">Updated
</ins><a href= "#example-33-mylampthing-with-coap-protocol-binding" class= "box-ref"><ins class="diff-chg">
Example
</ins><bdi><ins class="diff-chg">
33
</ins></bdi></a><ins class="diff-chg">
to
fix
bug.
</ins>
<ul>
<li>
<del class="diff-old">Added
optional
</del>
<code>
<del class="diff-old">@type
</del>
<ins class="diff-chg">op
</ins>
</code>
<del class="diff-old">Vocabulary
Term
</del>
<ins class="diff-chg">was
added
</ins>
to
the
<del class="diff-old">InteractionAffordance
Class
to
make
semantic
annotations
part
</del>
<ins class="diff-chg">form
</ins>
of
the
<del class="diff-old">Information
Model.
Added
optional
</del>
<code>
<del class="diff-old">uriVariables
</del>
<ins class="diff-chg">status
</ins>
</code>
<del class="diff-old">Vocabulary
Terms
to
InteractionAffordance
Class
</del>
<ins class="diff-chg">Property
</ins>
to
<del class="diff-old">describe
URI
Template
variables.
</del>
<ins class="diff-chg">override
the
default
value.
</ins>
</li>
<li>
<del class="diff-old">Added
optional
safe
and
</del>
<ins class="diff-chg">The
default
value
of
</ins>
<code>
<del class="diff-old">idempotent
</del>
<ins class="diff-chg">["readproperty",
"writeproperty"]
</ins>
</code>
<del class="diff-old">Vocabulary
Terms
to
the
ActionAffordance
Class
</del>
<ins class="diff-chg">would
have
caused
both
froms
</ins>
to
<del class="diff-old">provide
information
about
</del>
<ins class="diff-chg">have
</ins>
the
<del class="diff-old">safeness
and
idempotency
of
</del>
<ins class="diff-chg">method
GET,
which
was
not
</ins>
the
<del class="diff-old">Action.
</del>
<ins class="diff-chg">intention.
</ins></li></ul>
</li>
<li>
<del class="diff-old">Added
optional
subscription
</del>
<ins class="diff-chg">Minor
editorial
text
improvements
</ins>
and
<ins class="diff-new">fixes.
</ins></li></ul></li><li><ins class="diff-new">
Terminology
</ins><ul><li><ins class="diff-new">
Section
</ins><a href="#terminology" class= "sec-ref"><ins class="diff-new">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-new">
3.
</ins></bdi><ins class="diff-new">
Terminology
</ins></a><ins class="diff-new">
is
non-normative.
</ins></li></ul></li><li><ins class="diff-new">
TD
Information
Model
</ins><ul><li><ins class="diff-new">
In
section
</ins><a href="#thing" class="sec-ref"><ins class="diff-new">
§&nbsp;
</ins><bdi class= "secno"><ins class="diff-new">
5.3.1.1
</ins></bdi>
<code>
<del class="diff-old">cancellation
</del>
<ins class="diff-chg">Thing
</ins>
</code>
<del class="diff-old">Vocabulary
Terms
to
</del>
</a>,
the
<del class="diff-old">EventAffordance
</del>
<a href= "#dfn-vocab-term" class="internalDFN" data-link-type= "dfn">
<ins class="diff-chg">vocabulary
term
</ins>
</a>
<del class="diff-old">Class
</del>
<ins class="diff-chg">id
of
a
</ins><a href="#dfn-thing" class= "internalDFN" data-link-type="dfn"><ins class="diff-chg">
Thing
</ins>
</a>
<del class="diff-old">to
describe
data
that
needs
to
be
passed
upon
subscription
and
cancellation,
resp.
</del>
<ins class="diff-chg">was
made
optional.
Also,
mentions
of
uniqueness
of
id
were
removed
because
there
is
not
such
a
requirement.
</ins>
</li>
<li>
<del class="diff-old">Renamed
</del>
<ins class="diff-chg">Adjusted
location
of
a
</ins>
label
<del class="diff-old">to
title
</del>
in
<del class="diff-old">the
InteractionAffordance
Class
</del>
<a href="#td-core-model" class= "fig-ref" title="TD core vocabulary">
<ins class="diff-chg">Figure
</ins><bdi class= "figno"><ins class="diff-chg">
1
</ins></bdi></a>.</li><li><ins class="diff-chg">
Fix
uppercase
</ins><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em>
to
<del class="diff-old">be
consistent
with
JSON
Schema.
</del>
<ins class="diff-chg">lowercase
that
was
not
part
of
an
assertion
sentence/markup
(TD
Context
Extension
for
data
schema;
no
impact
on
implementations).
</ins>
</li>
<li>
<del class="diff-old">Removed
security
and
scopes
Vocabulary
Terms
from
the
InteractionAffordance
Class
</del>
<ins class="diff-chg">The
title
of
</ins><a href="#td-data-schema-model"><ins class="diff-chg">
Figure
2
</ins>
</a>
<ins class="diff-new">"JSON
schema
vocabulary"
was
changed
</ins>
to
<del class="diff-old">simplify
mechanism.
</del>
<ins class="diff-chg">"Data
schema
Vocabulary".
</ins>
</li>
<li>
<del class="diff-old">Removed
the
writable
</del>
<ins class="diff-chg">The
</ins>
<a href="#dfn-vocab-term" class="internalDFN" data-link-type="dfn">
vocabulary
term
</a>
<del class="diff-old">from
the
PropertyAffordance
Class
and
made
Property
affordances
both
readable
and
writable
by
default;
this
can
be
overridden
using
the
</del>
<code>
<del class="diff-old">op
</del>
<ins class="diff-chg">flow
</ins>
</code>
<del class="diff-old">vocabulary
term
</del>
of
<del class="diff-old">the
Form
</del>
<a href="#oauth2securityscheme">
<ins class="diff-chg">OAuth2
authentication
security
configuration
</ins>
</a>
<del class="diff-old">Class
</del>
<ins class="diff-chg">now
does
not
have
a
default
value.
Therefore,
it
was
removed
from
section
</ins><a href="#sec-default-values" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
5.4
</ins></bdi><ins class="diff-chg">
Default
Value
Definitions
</ins>
</a>.
</li>
</ul>
</li>
<li>
<del class="diff-old">Link
and
Form
</del>
<ins class="diff-chg">TD
Representation
Format
</ins>
<ul>
<li>
<del class="diff-old">Renamed
mediaType
to
</del>
<ins class="diff-chg">In
section
</ins><a href="#form-serialization-json" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
6.3.9
</ins></bdi>
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">forms
</ins>
</code>
<del class="diff-old">in
</del>
</a>,
the
<del class="diff-old">Link
</del>
<ins class="diff-chg">expectation
for
</ins><a href="#dfn-consumer" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Consumers
</ins>
</a>
<del class="diff-old">Class
</del>
<ins class="diff-chg">and
</ins><a href= "#dfn-thing" class="internalDFN" data-link-type="dfn"><ins class="diff-chg">
Things
</ins>
</a>
<del class="diff-old">to
align
with
RFC
8288.
Added
optional
</del>
<ins class="diff-chg">in
handling
the
operation
type
</ins>
<code>
<del class="diff-old">response
</del>
<ins class="diff-chg">writeallproperties
</ins>
</code>
<del class="diff-old">vocabulary
term
to
the
Form
Class
to
describe
possible
response
messages.
</del>
<ins class="diff-chg">is
clarified.
</ins></li></ul>
</li>
<li>
<del class="diff-old">Renamed
mediaType
to
contentType
in
the
Form
</del>
<ins class="diff-chg">TD
Context
Extensions
</ins><ul><li><ins class="diff-chg">
Improved
</ins><a href="#example-28" class="box-ref"><ins class="diff-chg">
Example
</ins><bdi><ins class="diff-chg">
28
</ins></bdi>
</a>
<del class="diff-old">Class
</del>
<ins class="diff-chg">and
</ins><a href="#saref-state-annotation-example" class="box-ref"><ins class="diff-chg">
Example
</ins><bdi><ins class="diff-chg">
29
</ins></bdi>
</a>
<del class="diff-old">to
reflect
that
request
might
need
to
set
also
media
type
parameters.
</del>
<ul>
<li>
<del class="diff-old">Renamed
</del>
<ins class="diff-chg">Use
</ins>
<code>
<del class="diff-old">rel
</del>
<ins class="diff-chg">saref:TemperatureSensor
</ins>
</code>
to
<del class="diff-old">op
in
</del>
<ins class="diff-chg">semantically
annotate
</ins>
the
<del class="diff-old">Form
Class
to
resolve
perceived
conflicts
</del>
<ins class="diff-chg">Thing
</ins>
with
<del class="diff-old">link
relations.
</del>
<ins class="diff-chg">an
extension
class.
</ins>
</li>
<li>
<del class="diff-old">Added
unobserveproperty
</del>
<ins class="diff-chg">Use
SAREF
</ins>
to
<ins class="diff-new">also
annotate
Property
to
be
consistent
across
</ins>
the
<del class="diff-old">enumerated
values
for
the
op
vocabulary
term
.
</del>
<ins class="diff-chg">examples.
</ins>
</li>
<li>
<del class="diff-old">DataSchema
</del>
<ins class="diff-chg">Use
newer
version
of
ontology-of-units-of-measure
(om).
</ins>
</li>
<del class="diff-old">Added
missing
NullSchema
Class
.
</del>
</ul>
</li>
<li>
<del class="diff-old">Added
optional
@type
vocabulary
term
</del>
<ins class="diff-chg">Updated
</ins><a href="#saref-state-annotation-example" class= "box-ref"><ins class="diff-chg">
Example
</ins><bdi><ins class="diff-chg">
29
</ins></bdi>
</a>
to
<ins class="diff-new">clarify
</ins>
the
<del class="diff-old">DataSchema
Class
to
make
semantic
annotations
part
</del>
<ins class="diff-chg">design
difference
from
that
</ins>
of
<del class="diff-old">the
Information
Model.
</del>
<a href= "#thing-description-full-serialization" class="box-ref">
<ins class="diff-chg">Example
</ins><bdi><ins class="diff-chg">
2
</ins></bdi></a>.</li></ul>
</li>
<li>
<del class="diff-old">Added
optional
unit
vocabulary
term
</del>
<ins class="diff-chg">Behavioral
Assertions
</ins><ul><li><ins class="diff-chg">
Section
</ins><a href="#behavior-data" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
8.2
</ins></bdi><ins class="diff-chg">
Data
Schemas
</ins>
</a>
<del class="diff-old">to
</del>
<ins class="diff-chg">describes
</ins>
the
<del class="diff-old">DataSchema
Class
</del>
<ins class="diff-chg">precise
conditions
as
</ins>
to
<del class="diff-old">provide
unit
metadata.
Added
optional
oneOf
vocabulary
term
</del>
<ins class="diff-chg">when
Things
may
return
additional
data
and
Consumers
have
</ins>
to
<ins class="diff-new">accept
additional
data
even
when
such
data
is
not
described
in
</ins>
the
<del class="diff-old">DataSchema
Class
to
allow
for
alternative
</del>
<ins class="diff-chg">data
</ins>
schemas.
</li>
<li>
<del class="diff-old">Added
optional
format
vocabulary
term
to
the
DataSchema
Class
</del>
<ins class="diff-chg">Section
</ins><a href="#http-binding-assertions" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
8.3.1
</ins></bdi><ins class="diff-chg">
Protocol
Binding
based
on
HTTP
</ins>
</a>
<del class="diff-old">to
allow
for
pattern
validation.
</del>
<ins class="diff-chg">was
so
renamed
from
"HTTP
Protocol
Binding".
</ins>
</li>
</ul>
</li>
<li>
Security
<del class="diff-old">Scheme
</del>
<ins class="diff-chg">and
Privacy
Considerations
</ins>
<ul>
<li>
<del class="diff-old">Added
optional
@type
vocabulary
term
</del>
<ins class="diff-chg">Updated
section
</ins><a href="#sec-security-consideration" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
9.
</ins></bdi><ins class="diff-chg">
Security
and
Privacy
Considerations
</ins>
</a>
to
<ins class="diff-new">match
</ins>
the
<del class="diff-old">SecurityScheme
Class
</del>
<a href="#dfn-vocab-term" class= "internalDFN" data-link-type="dfn">
<ins class="diff-chg">vocabulary
term
</ins>
</a>
<del class="diff-old">to
make
semantic
annotations
part
</del>
<ins class="diff-chg">id
</ins>
of
<del class="diff-old">the
Information
Model.
</del>
<ins class="diff-chg">a
</ins><a href="#dfn-thing" class="internalDFN" data-link-type= "dfn"><ins class="diff-chg">
Thing
</ins></a><ins class="diff-chg">
being
non-unique
and
optional.
</ins><ul><li><ins class="diff-chg">
Added
mitigations
such
as
"filtering
out
IDs
when
not
needed
for
a
use
case".
</ins>
</li>
<li>
Added
<del class="diff-old">securityDefinitions
vocabulary
term
to
</del>
<ins class="diff-chg">risks
such
as
fingerprinting
</ins>
the
<ins class="diff-chg">type
of
a
device.
</ins></li><li><ins class="diff-chg">
Added
risks
for
globally
unique
IDs,
and
points
out
that
this
is
not
required
and
that
distributed
cryptographic
mechanisms
or
locally-scoped
ids
can
be
used.
</ins></li></ul></li></ul></li><li><ins class="diff-chg">
Appendix
</ins><ul><li><ins class="diff-chg">
Appendix
section
</ins><a href="#thing-templates" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
C.
</ins></bdi>
Thing
<ins class="diff-new">Description
Templates
</ins>
</a>
<del class="diff-old">Class
to
declare
security
definitions.
</del>
<ins class="diff-chg">was
so
renamed
from
"Thing
Templates".
</ins>
</li>
<li>
<del class="diff-old">Redefined
security
vocabulary
term
</del>
<ins class="diff-chg">Appendix
section
</ins><a href="#json-ld-ctx-usage" class= "sec-ref"><ins class="diff-chg">
§&nbsp;
</ins><bdi class="secno"><ins class="diff-chg">
D.
</ins></bdi><ins class="diff-chg">
JSON-LD
Context
Usage
</ins>
</a>
<del class="diff-old">in
</del>
<ins class="diff-chg">now
explains
</ins>
the
<del class="diff-old">Thing
and
Form
Classes
to
be
used
</del>
<ins class="diff-chg">two
steps
</ins>
to
<del class="diff-old">activate
declared
security
definitions.
</del>
<ins class="diff-chg">retrieve
the
TD
information
model
in
RDF.
</ins>
</li>
<li>
<del class="diff-old">Clarified
that
</del>
<ins class="diff-chg">A
reference
to
</ins>
the
<del class="diff-old">top-level
securityDefinitions
and
security
</del>
<ins class="diff-chg">WoT
Architecture
specification
[
</ins><cite>
<a class="bibref" href="#bib-wot-architecture" title= "Web of Things (WoT) Architecture" data-link-type= "biblio">
<ins class="diff-new">WOT-ARCHITECTURE
</ins>
</a>
<del class="diff-old">configuration
</del>
</cite>
<ins class="diff-chg">]
</ins>
is
<del class="diff-old">mandatory.
Removed
all
Url
postfixes
from
security
scheme
Vocabulary
Terms
.
</del>
<ins class="diff-chg">informative.
</ins>
</li>
</ul>
</li>
</ul>
</section>
<section id="changes-from-third-public-working-draft-0">
<h3 id="changes-from-third-public-working-draft">
<bdi class= "secno">
E.2
</bdi>
Changes
from
<del class="diff-old">Second
</del>
<ins class="diff-chg">Third
</ins>
Public
Working
Draft
<a class= "self-link" aria-label="§" href= "#changes-from-third-public-working-draft-0">
</a>
</h3>
<p>
Changes
from
<del class="diff-old">Second
</del>
<ins class="diff-chg">Third
</ins>
Public
Working
Draft
are
described
in
the
<del class="diff-old">Third
Public
Working
Draft
</del>
<a href= "https://www.w3.org/TR/2019/CR-wot-thing-description-20190516/#changes">
<ins class="diff-chg">Candidate
Recommendation
</ins>
</a>
</p>
</section>
</section>
<section id="acknowledgements" class="appendix normative">
<h2 id="f-acknowledgements">
<bdi class="secno">
F.
</bdi>
Acknowledgements
<a class="self-link" aria-label="§" href= "#acknowledgements">
</a>
</h2>
<p>
The
editors
would
like
to
thank
<del class="diff-old">Matthias
Kovatsch,
</del>
Michael
Koster,
Michael
Lagally,
Kazuyuki
Ashimura,
Ege
Korkan,
Daniel
Peintner,
<del class="diff-old">Kawaguchi
Toru,
</del>
<ins class="diff-chg">Toru
Kawaguchi,
</ins>
María
Poveda,
Dave
Raggett,
Kunihiko
Toumura,
Takeshi
Yamada,
Ben
Francis,
Manu
Sporny,
Klaus
Hartke,
Addison
<del class="diff-old">Phillips
and
</del>
<ins class="diff-chg">Phillips,
</ins>
Jose
M.
<del class="diff-old">Cantera
</del>
<ins class="diff-chg">Cantera,
Tomoaki
Mizushima,
Soumya
Kanti
Datta
and
Benjamin
Klotz
</ins>
for
providing
contributions,
guidance
and
expertise.
</p>
<p>
Also,
many
thanks
to
the
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
staff
and
all
other
<ins class="diff-new">current
and
former
</ins>
active
Participants
of
the
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
Web
of
Things
Interest
Group
(WoT
IG)
and
Working
Group
(WoT
WG)
for
their
support,
technical
input
and
suggestions
that
led
to
improvements
to
this
document.
</p>
<p>
<ins class="diff-new">Finally,
special
thanks
to
Joerg
Heuer
for
leading
the
WoT
IG
for
2
years
from
its
inception
and
guiding
the
group
to
come
up
with
the
concept
of
WoT
building
blocks
including
the
Thing
Description.
</ins></p>
</section>
<section id="references" class="appendix">
<h2 id="g-references">
<bdi class="secno">
G.
</bdi>
References
<a class="self-link" aria-label="§" href= "#references">
</a>
</h2>
<section id="normative-references">
<h3 id="g-1-normative-references">
<bdi class="secno">
G.1
</bdi>
Normative
references
<a class="self-link" aria-label="§" href= "#normative-references">
</a>
</h3>
<dl class="bibliography">
<dt id="bib-bcp47">
[BCP47]
</dt>
<dd>
<a href="https://tools.ietf.org/html/bcp47">
<cite>
Tags
for
Identifying
Languages
</cite>
</a>.
A.
Phillips;
M.
Davis.
IETF.
September
2009.
IETF
Best
Current
Practice.
URL:
<a href= "https://tools.ietf.org/html/bcp47">
https://tools.ietf.org/html/bcp47
</a>
</dd>
<del class="diff-old">[HTTP-in-RDF10]
</del>
<dt id="bib-eventsource">
<ins class="diff-chg">[eventsource]
</ins>
</dt>
<dd>
<a href="https://www.w3.org/TR/eventsource/">
<cite>
<del class="diff-old">HTTP
Vocabulary
in
RDF
1.0
</del>
<ins class="diff-chg">Server-Sent
Events
</ins>
</cite>
</a>.
<del class="diff-old">Johannes
Koch;
Carlos
A.
Velasco;
Philip
Ackermann.
</del>
<ins class="diff-chg">Ian
Hickson.
</ins>
W3C.
<del class="diff-old">2
</del>
<ins class="diff-chg">3
</ins>
February
<del class="diff-old">2017.
</del>
<ins class="diff-chg">2015.
</ins>
W3C
<del class="diff-old">Note.
</del>
<ins class="diff-chg">Recommendation.
</ins>
URL:
<del class="diff-old">https://www.w3.org/TR/HTTP-in-RDF10/
</del>
<a href= "https://www.w3.org/TR/eventsource/">
<ins class="diff-chg">https://www.w3.org/TR/eventsource/
</ins>
</a>
</dd>
<del class="diff-old">[IANA-MEDIA-TYPES]
</del>
<dt id="bib-rfc2046">
<ins class="diff-chg">[RFC2046]
</ins>
</dt>
<dd>
<a href= "https://tools.ietf.org/html/rfc2046">
<cite>
<ins class="diff-new">Multipurpose
Internet
Mail
Extensions
(MIME)
Part
Two:
</ins>
Media
Types
</cite>
</a>.
<del class="diff-old">IANA.
URL:
https://www.iana.org/assignments/media-types/
[MQTT]
MQTT
Version
5.0
.
Andrew
Banks;
Ed
Briggs;
Ken
Borgendale;
Rahul
Gupta.
OASIS.
31
October
2018.
Candidate
OASIS
Standard
01.
</del>
<ins class="diff-chg">N.
Freed;
N.
Borenstein.
IETF.
November
1996.
Draft
Standard.
</ins>
URL:
<del class="diff-old">http://docs.oasis-open.org/mqtt/mqtt/v5.0/cos01/mqtt-v5.0-cos01.html
</del>
<a href= "https://tools.ietf.org/html/rfc2046">
<ins class="diff-chg">https://tools.ietf.org/html/rfc2046
</ins>
</a>
</dd>
<dt id="bib-rfc2119">
[RFC2119]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc2119">
<cite>
Key
words
for
use
in
RFCs
to
Indicate
Requirement
Levels
</cite>
</a>.
S.
Bradner.
IETF.
March
1997.
Best
Current
Practice.
URL:
<a href= "https://tools.ietf.org/html/rfc2119">
https://tools.ietf.org/html/rfc2119
</a>
</dd>
<dt id="bib-rfc3339">
[RFC3339]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3339">
<cite>
Date
and
Time
on
the
Internet:
Timestamps
</cite>
</a>.
G.
Klyne;
C.
Newman.
IETF.
July
2002.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc3339">
https://tools.ietf.org/html/rfc3339
</a>
</dd>
<dt id="bib-rfc3629">
[RFC3629]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3629">
<cite>
UTF-8,
a
transformation
format
of
ISO
10646
</cite>
</a>.
F.
Yergeau.
IETF.
November
2003.
Internet
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc3629">
https://tools.ietf.org/html/rfc3629
</a>
</dd>
<del class="diff-old">[RFC3966]
The
tel
URI
for
Telephone
Numbers
.
H.
Schulzrinne.
IETF.
December
2004.
Proposed
Standard.
URL:
https://tools.ietf.org/html/rfc3966
</del>
<dt id="bib-rfc3986">
[RFC3986]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3986">
<cite>
Uniform
Resource
Identifier
(URI):
Generic
Syntax
</cite>
</a>.
T.
Berners-Lee;
R.
Fielding;
L.
Masinter.
IETF.
January
2005.
Internet
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc3986">
https://tools.ietf.org/html/rfc3986
</a>
</dd>
<del class="diff-old">[RFC6068]
</del>
<dt id="bib-rfc3987">
<ins class="diff-chg">[RFC3987]
</ins>
</dt>
<dd>
<a href= "https://tools.ietf.org/html/rfc3987">
<cite>
<del class="diff-old">The
'mailto'
URI
Scheme
</del>
<ins class="diff-chg">Internationalized
Resource
Identifiers
(IRIs)
</ins>
</cite>
</a>.
M.
Duerst;
<del class="diff-old">L.
Masinter;
J.
Zawinski.
</del>
<ins class="diff-chg">M.
Suignard.
</ins>
IETF.
<del class="diff-old">October
2010.
</del>
<ins class="diff-chg">January
2005.
</ins>
Proposed
Standard.
URL:
<del class="diff-old">https://tools.ietf.org/html/rfc6068
</del>
<a href= "https://tools.ietf.org/html/rfc3987">
<ins class="diff-chg">https://tools.ietf.org/html/rfc3987
</ins>
</a>
</dd>
<dt id="bib-rfc6570">
[RFC6570]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc6570">
<cite>
URI
Template
</cite>
</a>.
J.
Gregorio;
R.
Fielding;
M.
Hadley;
M.
Nottingham;
D.
Orchard.
IETF.
March
2012.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc6570">
https://tools.ietf.org/html/rfc6570
</a>
</dd>
<dt id="bib-rfc6749">
[RFC6749]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc6749">
<cite>
The
OAuth
2.0
Authorization
Framework
</cite>
</a>.
D.
Hardt,
Ed..
IETF.
October
2012.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc6749">
https://tools.ietf.org/html/rfc6749
</a>
</dd>
<del class="diff-old">[RFC7231]
</del>
<dt id="bib-rfc6750">
<ins class="diff-chg">[RFC6750]
</ins>
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc6750">
<cite>
<del class="diff-old">Hypertext
Transfer
Protocol
(HTTP/1.1):
Semantics
and
Content
</del>
<ins class="diff-chg">The
OAuth
2.0
Authorization
Framework:
Bearer
Token
Usage
</ins>
</cite>
</a>.
<del class="diff-old">R.
Fielding,
Ed.;
J.
Reschke,
Ed..
</del>
<ins class="diff-chg">M.
Jones;
D.
Hardt.
</ins>
IETF.
<del class="diff-old">June
2014.
</del>
<ins class="diff-chg">October
2012.
</ins>
Proposed
Standard.
URL:
<del class="diff-old">https://tools.ietf.org/html/rfc7231
</del>
<a href= "https://tools.ietf.org/html/rfc6750">
<ins class="diff-chg">https://tools.ietf.org/html/rfc6750
</ins>
</a>
</dd>
<dt id="bib-rfc7252">
[RFC7252]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc7252">
<cite>
The
Constrained
Application
Protocol
(CoAP)
</cite>
</a>.
Z.
Shelby;
K.
Hartke;
C.
Bormann.
IETF.
June
2014.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc7252">
https://tools.ietf.org/html/rfc7252
</a>
</dd>
<dt id="bib-rfc7516">
[RFC7516]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc7516">
<cite>
JSON
Web
Encryption
(JWE)
</cite>
</a>.
M.
Jones;
J.
Hildebrand.
IETF.
May
2015.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc7516">
https://tools.ietf.org/html/rfc7516
</a>
</dd>
<dt id="bib-rfc7519">
[RFC7519]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc7519">
<cite>
JSON
Web
Token
(JWT)
</cite>
</a>.
M.
Jones;
J.
Bradley;
N.
Sakimura.
IETF.
May
2015.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc7519">
https://tools.ietf.org/html/rfc7519
</a>
</dd>
<dt id="bib-rfc7616">
<ins class="diff-new">[RFC7616]
</ins></dt><dd><a href="https://httpwg.org/specs/rfc7616.html"><cite><ins class="diff-new">
HTTP
Digest
Access
Authentication
</ins></cite></a>.<ins class="diff-new">
R.
Shekh-Yusef,
Ed.;
D.
Ahrens;
S.
Bremer.
IETF.
September
2015.
Proposed
Standard.
URL:
</ins><a href= "https://httpwg.org/specs/rfc7616.html"><ins class="diff-new">
https://httpwg.org/specs/rfc7616.html
</ins></a></dd><dt id="bib-rfc7617"><ins class="diff-new">
[RFC7617]
</ins></dt><dd><a href="https://httpwg.org/specs/rfc7617.html"><cite><ins class="diff-new">
The
'Basic'
HTTP
Authentication
Scheme
</ins></cite></a>.<ins class="diff-new">
J.
Reschke.
IETF.
September
2015.
Proposed
Standard.
URL:
</ins><a href= "https://httpwg.org/specs/rfc7617.html"><ins class="diff-new">
https://httpwg.org/specs/rfc7617.html
</ins></a></dd>
<dt id="bib-rfc7797">
[RFC7797]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc7797">
<cite>
JSON
Web
Signature
(JWS)
Unencoded
Payload
Option
</cite>
</a>.
M.
Jones.
IETF.
February
2016.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc7797">
https://tools.ietf.org/html/rfc7797
</a>
</dd>
<dt id="bib-rfc8174">
[RFC8174]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc8174">
<cite>
Ambiguity
of
Uppercase
vs
Lowercase
in
RFC
2119
Key
Words
</cite>
</a>.
B.
Leiba.
IETF.
May
2017.
Best
Current
Practice.
URL:
<a href= "https://tools.ietf.org/html/rfc8174">
https://tools.ietf.org/html/rfc8174
</a>
</dd>
<dt id="bib-rfc8252">
[RFC8252]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc8252">
<cite>
OAuth
2.0
for
Native
Apps
</cite>
</a>.
W.
Denniss;
J.
Bradley.
IETF.
October
2017.
Best
Current
Practice.
URL:
<a href= "https://tools.ietf.org/html/rfc8252">
https://tools.ietf.org/html/rfc8252
</a>
</dd>
<dt id="bib-rfc8259">
[RFC8259]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc8259">
<cite>
The
JavaScript
Object
Notation
(JSON)
Data
Interchange
Format
</cite>
</a>.
T.
Bray,
Ed..
IETF.
December
2017.
Internet
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc8259">
https://tools.ietf.org/html/rfc8259
</a>
</dd>
<dt id="bib-rfc8288">
[RFC8288]
</dt>
<dd>
<a href="https://httpwg.org/specs/rfc8288.html">
<cite>
Web
Linking
</cite>
</a>.
M.
Nottingham.
IETF.
October
2017.
Proposed
Standard.
URL:
<del class="diff-old">https://tools.ietf.org/html/rfc8288
</del>
<a href= "https://httpwg.org/specs/rfc8288.html">
<ins class="diff-chg">https://httpwg.org/specs/rfc8288.html
</ins>
</a>
</dd>
<dt id="bib-rfc8392">
[RFC8392]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc8392">
<cite>
CBOR
Web
Token
(CWT)
</cite>
</a>.
M.
Jones;
E.
Wahlstroem;
S.
Erdtman;
H.
Tschofenig.
IETF.
May
2018.
Proposed
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc8392">
https://tools.ietf.org/html/rfc8392
</a>
</dd>
<del class="diff-old">[SHACL]
Shapes
Constraint
Language
(SHACL)
.
Holger
Knublauch;
Dimitris
Kontokostas.
W3C.
20
July
2017.
W3C
Recommendation.
URL:
https://www.w3.org/TR/shacl/
[WOT-ARCHITECTURE]
Web
of
Things
(WoT)
Architecture
.
Matthias
Kovatsch;
Ryuichi
Matsukura;
Michael
Lagally;
Toru
Kawaguchi;
Kunihiko
Toumura;
Kazuo
Kajimoto.
W3C.
May
2019.
URL:
https://w3c.github.io/wot-architecture/
[WoT-Binding-Templates]
</del>
<dt id="bib-websub">
<ins class="diff-chg">[websub]
</ins>
</dt>
<dd>
<a href= "https://www.w3.org/TR/websub/">
<cite>
<del class="diff-old">Web
of
Things
(WoT)
Protocol
Binding
Templates
</del>
<ins class="diff-chg">WebSub
</ins>
</cite>
</a>.
<del class="diff-old">Michael
Koster.
</del>
<ins class="diff-chg">Julien
Genestoux;
Aaron
Parecki.
</ins>
W3C.
<del class="diff-old">5
April
</del>
<ins class="diff-chg">23
January
</ins>
2018.
W3C
<del class="diff-old">Note.
</del>
<ins class="diff-chg">Recommendation.
</ins>
URL:
<del class="diff-old">https://www.w3.org/TR/wot-binding-templates/
</del>
<a href= "https://www.w3.org/TR/websub/">
<ins class="diff-chg">https://www.w3.org/TR/websub/
</ins>
</a>
</dd>
<dt id="bib-x509v3">
[X509V3]
</dt>
<dd>
<cite>
ITU-T
Recommendation
X.509
version
3
(1997).
"Information
Technology
-
Open
Systems
Interconnection
-
The
Directory
Authentication
Framework"&nbsp;
ISO/IEC
9594-8:1997.
</cite>.
ITU.
</dd>
<dt id="bib-xmlschema11-2-20120405">
<del class="diff-old">[xmlschema11-2-20120405]
</del>
<ins class="diff-chg">[XMLSCHEMA11-2-20120405]
</ins>
</dt>
<dd>
<a href= "https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/">
<cite>
W3C
XML
Schema
Definition
Language
(XSD)
1.1
Part
2:
Datatypes
</cite>
</a>.
David
Peterson;
Sandy
Gao;
Ashok
Malhotra;
Michael
Sperberg-McQueen;
Henry
Thompson;
Paul
V.
Biron
et
al.
W3C.
5
April
2012.
W3C
Recommendation.
URL:
<a href= "https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/">
https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/
</a>
</dd>
</dl>
</section>
<section id="informative-references">
<h3 id="g-2-informative-references">
<bdi class="secno">
G.2
</bdi>
Informative
references
<a class="self-link" aria-label="§" href= "#informative-references">
</a>
</h3>
<dl class="bibliography">
<del class="diff-old">[draft-ietf-ace-oauth-authz]
</del>
<dt id="bib-ace">
<ins class="diff-chg">[ACE]
</ins>
</dt>
<dd>
<a href= "https://tools.ietf.org/html/draft-ietf-ace-oauth-authz-24">
<cite>
Authentication
and
Authorization
for
Constrained
Environments
(ACE)
using
the
OAuth
2.0
Framework
(ACE-OAuth)
</cite>
</a>.
L.
Seitz;
G.
Selander;
E.
Wahlstroem;
S.
Erdtman;
H.
Tschofenig.
IETF.
27
March
2019.
Internet-Draft.
URL:
<a href= "https://tools.ietf.org/html/draft-ietf-ace-oauth-authz-24">
https://tools.ietf.org/html/draft-ietf-ace-oauth-authz-24
</a>
</dd>
<dt id="bib-http-in-rdf10">
<ins class="diff-new">[HTTP-in-RDF10]
</ins></dt><dd><a href="https://www.w3.org/TR/HTTP-in-RDF10/"><cite><ins class="diff-new">
HTTP
Vocabulary
in
RDF
1.0
</ins></cite></a>.<ins class="diff-new">
Johannes
Koch;
Carlos
A.
Velasco;
Philip
Ackermann.
W3C.
2
February
2017.
W3C
Note.
URL:
</ins><a href= "https://www.w3.org/TR/HTTP-in-RDF10/"><ins class="diff-new">
https://www.w3.org/TR/HTTP-in-RDF10/
</ins></a></dd><dt id="bib-iana-media-types"><ins class="diff-new">
[IANA-MEDIA-TYPES]
</ins></dt><dd><a href= "https://www.iana.org/assignments/media-types/"><cite><ins class="diff-new">
Media
Types
</ins></cite></a>.<ins class="diff-new">
IANA.
URL:
</ins><a href= "https://www.iana.org/assignments/media-types/"><ins class="diff-new">
https://www.iana.org/assignments/media-types/
</ins></a></dd>
<dt id="bib-iana-uri-schemes">
<del class="diff-old">[iana-uri-schemes]
</del>
<ins class="diff-chg">[IANA-URI-SCHEMES]
</ins>
</dt>
<dd>
<a href= "https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml">
<cite>
Uniform
Resource
Identifier
(URI)
Schemes
</cite>
</a>.
IANA.
URL:
<a href= "https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml">
https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml
</a>
</dd>
<dt id="bib-json-ld11">
<del class="diff-old">[json-ld11]
</del>
<ins class="diff-chg">[JSON-LD11]
</ins>
</dt>
<dd>
<a href="https://www.w3.org/TR/json-ld11/">
<cite>
JSON-LD
1.1
</cite>
</a>.
Gregg
Kellogg;
Pierre-Antoine
Champin.
W3C.
<del class="diff-old">10
May
</del>
<ins class="diff-chg">9
September
</ins>
2019.
W3C
Working
Draft.
URL:
<a href= "https://www.w3.org/TR/json-ld11/">
https://www.w3.org/TR/json-ld11/
</a>
</dd>
<del class="diff-old">[json-ld11-api]
JSON-LD
1.1
Processing
Algorithms
and
API
.
Gregg
Kellogg.
W3C.
10
May
2019.
W3C
Working
Draft.
URL:
https://www.w3.org/TR/json-ld11-api/
[JSON-SCHEMA-VALIDATION]
</del>
<dt id="bib-json-schema">
<ins class="diff-chg">[JSON-SCHEMA]
</ins>
</dt>
<dd>
<a href= "https://tools.ietf.org/html/draft-handrews-json-schema-validation-01">
<cite>
JSON
Schema
Validation:
A
Vocabulary
for
Structural
Validation
of
JSON
</cite>
</a>.
Austin
Wright;
Henry
Andrews;
Geraint
Luff.
IETF.
<ins class="diff-new">19
March
2018.
</ins>
Internet-Draft.
URL:
<del class="diff-old">https://tools.ietf.org/html/draft-handrews-json-schema-validation-00
</del>
<a href= "https://tools.ietf.org/html/draft-handrews-json-schema-validation-01">
<ins class="diff-chg">https://tools.ietf.org/html/draft-handrews-json-schema-validation-01
</ins>
</a>
</dd>
<dt id="bib-ldml">
[LDML]
</dt>
<dd>
<a href="https://unicode.org/reports/tr35/">
<cite>
Unicode
Technical
Standard
#35:
Unicode
Locale
Data
Markup
Language
(LDML)
</cite>
</a>.
Mark
Davis;
CLDR
Contributors.
URL:
<a href= "https://unicode.org/reports/tr35/">
https://unicode.org/reports/tr35/
</a>
</dd>
<dt id="bib-linked-data">
[LINKED-DATA]
</dt>
<dd>
<a href= "https://www.w3.org/DesignIssues/LinkedData.html">
<cite>
Linked
Data
Design
Issues
</cite>
</a>.
Tim
Berners-Lee.
W3C.
27
July
2006.
W3C-Internal
Document.
URL:
<a href= "https://www.w3.org/DesignIssues/LinkedData.html">
https://www.w3.org/DesignIssues/LinkedData.html
</a>
</dd>
<dt id="bib-mqtt">
<ins class="diff-new">[MQTT]
</ins></dt><dd><a href= "http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html"><cite><ins class="diff-new">
MQTT
Version
3.1.1
</ins></cite></a>.<ins class="diff-new">
Andrew
Banks;
Rahul
Gupta.
OASIS.
10
December
2015.
OASIS
Standard
Incorporating
Approved
Errata
01.
URL:
</ins><a href= "http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html"><ins class="diff-new">
http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html
</ins></a></dd>
<dt id="bib-openapi">
[OPENAPI]
</dt>
<dd>
<a href="https://swagger.io/specification/">
<cite>
OpenAPI
Specification:
Version
3.0.1
</cite>
</a>.
Darrel
Miller;
Jason
Harmon;
Jeremy
Whitlock;
Kris
Hahn;
Marsh
Gardiner;
Mike
Ralphson;
Rob
Dolin;
Ron
Ratovsky;
Tony
Tam.
OpenAPI
Initiative,
Linux
Foundation.
7
December
2017.
URL:
<a href= "https://swagger.io/specification/">
https://swagger.io/specification/
</a>
</dd>
<del class="diff-old">[owl2-manchester-syntax]
</del>
<dt id="bib-rdf-schema">
<ins class="diff-chg">[RDF-SCHEMA]
</ins>
</dt>
<dd>
<a href="https://www.w3.org/TR/rdf-schema/">
<cite>
<del class="diff-old">OWL
2
Web
Ontology
Language
Manchester
Syntax
(Second
Edition)
</del>
<ins class="diff-chg">RDF
Schema
1.1
</ins>
</cite>
</a>.
<del class="diff-old">Matthew
Horridge;
Peter
Patel-Schneider.
</del>
<ins class="diff-chg">Dan
Brickley;
Ramanathan
Guha.
</ins>
W3C.
<del class="diff-old">11
December
2012.
</del>
<ins class="diff-chg">25
February
2014.
</ins>
W3C
<del class="diff-old">Note.
</del>
<ins class="diff-chg">Recommendation.
</ins>
URL:
<del class="diff-old">https://www.w3.org/TR/owl2-manchester-syntax/
</del>
<a href= "https://www.w3.org/TR/rdf-schema/">
<ins class="diff-chg">https://www.w3.org/TR/rdf-schema/
</ins>
</a>
</dd>
<del class="diff-old">[owl2-overview]
</del>
<dt id="bib-rfc3966">
<ins class="diff-chg">[RFC3966]
</ins>
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3966">
<cite>
<del class="diff-old">OWL
2
Web
Ontology
Language
Document
Overview
(Second
Edition)
</del>
<ins class="diff-chg">The
tel
URI
for
Telephone
Numbers
</ins>
</cite>
</a>.
<del class="diff-old">W3C
OWL
Working
Group.
W3C.
11
</del>
<ins class="diff-chg">H.
Schulzrinne.
IETF.
</ins>
December
<del class="diff-old">2012.
W3C
Recommendation.
</del>
<ins class="diff-chg">2004.
Proposed
Standard.
</ins>
URL:
<del class="diff-old">https://www.w3.org/TR/owl2-overview/
</del>
<a href= "https://tools.ietf.org/html/rfc3966">
<ins class="diff-chg">https://tools.ietf.org/html/rfc3966
</ins>
</a>
</dd>
<del class="diff-old">[rdf11-concepts]
</del>
<dt id="bib-rfc6068">
<ins class="diff-chg">[RFC6068]
</ins>
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc6068">
<cite>
<del class="diff-old">RDF
1.1
Concepts
and
Abstract
Syntax
</del>
<ins class="diff-chg">The
'mailto'
URI
Scheme
</ins>
</cite>
</a>.
<del class="diff-old">Richard
Cyganiak;
David
Wood;
Markus
Lanthaler.
W3C.
25
February
2014.
W3C
Recommendation.
</del>
<ins class="diff-chg">M.
Duerst;
L.
Masinter;
J.
Zawinski.
IETF.
October
2010.
Proposed
Standard.
</ins>
URL:
<del class="diff-old">https://www.w3.org/TR/rdf11-concepts/
</del>
<a href= "https://tools.ietf.org/html/rfc6068">
<ins class="diff-chg">https://tools.ietf.org/html/rfc6068
</ins>
</a>
</dd>
<del class="diff-old">[rdf11-mt]
</del>
<dt id="bib-rfc7231">
<ins class="diff-chg">[RFC7231]
</ins>
</dt>
<dd>
<a href="https://httpwg.org/specs/rfc7231.html">
<cite>
<del class="diff-old">RDF
1.1
</del>
<ins class="diff-chg">Hypertext
Transfer
Protocol
(HTTP/1.1):
</ins>
Semantics
<ins class="diff-new">and
Content
</ins>
</cite>
</a>.
<del class="diff-old">Patrick
Hayes;
Peter
Patel-Schneider.
W3C.
25
February
2014.
W3C
Recommendation.
URL:
https://www.w3.org/TR/rdf11-mt/
[RFC3987]
Internationalized
Resource
Identifiers
(IRIs)
.
M.
Duerst;
M.
Suignard.
</del>
<ins class="diff-chg">R.
Fielding,
Ed.;
J.
Reschke,
Ed..
</ins>
IETF.
<del class="diff-old">January
2005.
</del>
<ins class="diff-chg">June
2014.
</ins>
Proposed
Standard.
URL:
<del class="diff-old">https://tools.ietf.org/html/rfc3987
</del>
<a href= "https://httpwg.org/specs/rfc7231.html">
<ins class="diff-chg">https://httpwg.org/specs/rfc7231.html
</ins>
</a>
</dd>
<del class="diff-old">[Rijgersberg-et-al-2013]
</del>
<dt id="bib-rijgersberg">
<ins class="diff-chg">[RIJGERSBERG]
</ins>
</dt>
<dd>
<a href= "http://www.semantic-web-journal.net/content/ontology-units-measure-and-related-concepts">
<cite>
Ontology
of
Units
of
Measure
and
Related
Concepts
</cite>
</a>.
Hajo
Rijgersberg;
Mark
van
Assem;
Jan
Top.
Semantic
Web
journal,
IOS
Press.
2013.
URL:
<a href= "http://www.semantic-web-journal.net/content/ontology-units-measure-and-related-concepts">
http://www.semantic-web-journal.net/content/ontology-units-measure-and-related-concepts
</a>
</dd>
<dt id="bib-semver">
<del class="diff-old">[SemVer]
</del>
<ins class="diff-chg">[SEMVER]
</ins>
</dt>
<dd>
<a href="https://semver.org/">
<cite>
Semantic
Versioning
2.0.0
</cite>
</a>.
Tom
Preston-Werner.
26
December
2017.
URL:
<a href="https://semver.org/">
https://semver.org/
</a>
</dd>
<dt id="bib-smartm2m">
<del class="diff-old">[smartM2M]
</del>
<ins class="diff-chg">[SMARTM2M]
</ins>
</dt>
<dd>
<a href= "http://www.etsi.org/deliver/etsi_ts/103200_103299/103264/02.01.01_60/ts_103264v020101p.pdf">
<cite>
ETSI
TS
103
264
V2.1.1
(2017-03):
SmartM2M;
Smart
Appliances;
Reference
Ontology
and
oneM2M
Mapping
</cite>
</a>.
ETSI.
March
2017.
Published.
URL:
<a href= "http://www.etsi.org/deliver/etsi_ts/103200_103299/103264/02.01.01_60/ts_103264v020101p.pdf">
http://www.etsi.org/deliver/etsi_ts/103200_103299/103264/02.01.01_60/ts_103264v020101p.pdf
</a>
</dd>
<dt id="bib-string-meta">
[string-meta]
</dt>
<dd>
<a href="https://www.w3.org/TR/string-meta/">
<cite>
Strings
on
the
Web:
Language
and
Direction
Metadata
</cite>
</a>.
Addison
Phillips;
Richard
Ishida.
W3C.
<del class="diff-old">16
April
</del>
<ins class="diff-chg">11
June
</ins>
2019.
W3C
Working
Draft.
URL:
<a href= "https://www.w3.org/TR/string-meta/">
https://www.w3.org/TR/string-meta/
</a>
</dd>
<dt id="bib-turtle">
<ins class="diff-new">[TURTLE]
</ins></dt><dd><a href="https://www.w3.org/TR/turtle/"><cite><ins class="diff-new">
RDF
1.1
Turtle
</ins></cite></a>.<ins class="diff-new">
Eric
Prud'hommeaux;
Gavin
Carothers.
W3C.
25
February
2014.
W3C
Recommendation.
URL:
</ins><a href= "https://www.w3.org/TR/turtle/"><ins class="diff-new">
https://www.w3.org/TR/turtle/
</ins></a></dd>
<dt id="bib-vocab-ssn">
<del class="diff-old">[vocab-ssn]
</del>
<ins class="diff-chg">[VOCAB-SSN]
</ins>
</dt>
<dd>
<a href="https://www.w3.org/TR/vocab-ssn/">
<cite>
Semantic
Sensor
Network
Ontology
</cite>
</a>.
Armin
Haller;
Krzysztof
Janowicz;
Simon
Cox;
Danh
Le
Phuoc;
Kerry
Taylor;
Maxime
Lefrançois.
W3C.
19
October
2017.
W3C
Recommendation.
URL:
<a href= "https://www.w3.org/TR/vocab-ssn/">
https://www.w3.org/TR/vocab-ssn/
</a>
</dd>
<del class="diff-old">[WOT-SECURITY-CONSIDERATIONS]
</del>
<dt id="bib-wot-architecture">
<ins class="diff-chg">[WOT-ARCHITECTURE]
</ins>
</dt>
<dd>
<a href="https://www.w3.org/TR/wot-architecture/">
<cite>
<ins class="diff-chg">Web
of
Things
(WoT)
Architecture
</ins></cite></a>.<ins class="diff-chg">
Matthias
Kovatsch;
Ryuichi
Matsukura;
Michael
Lagally;
Toru
Kawaguchi;
Kunihiko
Toumura;
Kazuo
Kajimoto.
W3C
Candidate
Recommendation.
6
November
2019.
URL:
</ins><a href= "https://www.w3.org/TR/wot-architecture/"><ins class="diff-chg">
https://www.w3.org/TR/wot-architecture/
</ins></a></dd><dt id="bib-wot-binding-templates"><ins class="diff-chg">
[WOT-BINDING-TEMPLATES]
</ins></dt><dd><a href= "https://www.w3.org/TR/wot-binding-templates/"><cite><ins class="diff-chg">
Web
of
Things
(WoT)
Protocol
Binding
Templates
</ins></cite></a>.<ins class="diff-chg">
Michael
Koster.
W3C.
5
April
2018.
W3C
Note.
URL:
</ins><a href= "https://www.w3.org/TR/wot-binding-templates/"><ins class="diff-chg">
https://www.w3.org/TR/wot-binding-templates/
</ins></a></dd><dt id="bib-wot-security-guidelines"><ins class="diff-chg">
[WOT-SECURITY-GUIDELINES]
</ins></dt><dd><a href="https://www.w3.org/TR/wot-security/">
<cite>
Web
of
Things
(WoT)
Security
and
Privacy
<del class="diff-old">Considerations
</del>
<ins class="diff-chg">Guidelines
</ins>
</cite>
</a>.
<del class="diff-old">;
</del>
Michael
McCool;
Elena
Reshetova.
<del class="diff-old">W3C.
March
</del>
<ins class="diff-chg">W3C
Note.
6
November
</ins>
2019.
URL:
<del class="diff-old">https://w3c.github.io/wot-security/
</del>
<a href= "https://www.w3.org/TR/wot-security/">
<ins class="diff-chg">https://www.w3.org/TR/wot-security/
</ins>
</a>
</dd>
</dl>
</section>
</section>
<p role="navigation" id="back-to-top">
<a href="#toc">
<abbr title= "Back to Top">
↑
</abbr>
</a>
</p>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js">
</script>
</body>
</html>
